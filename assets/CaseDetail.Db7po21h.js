import{c as K,r as o,j as t,V as ot,_ as re,W as Ft,Y as Pr,e as zt,h as Tr,b as xt,Z as Lr,$ as Or,a0 as We,a1 as _r,Q as $r,a2 as Fr,q as zr,f as Te,X as lt,S as et,R as pt,F as Hr,J as Wr,H as Br,G as Vr,I as Kr,K as Gr,M as Yr,N as Ur,O as qr,a3 as Xr,a4 as Zr,x as Jr,y as Qr,z as en,A as tn}from"./index.DNG_UCBw.js";import{b as rn,h as nn,n as sn,j as an,k as Be,l as ht,m as on,o as ln}from"./utils.LGiX2z2R.js";import{r as cn,R as dn}from"./index.C31bq31W.js";import{M as un,i as gt,u as Ht,P as fn,a as mn,b as xn,L as pn,m as hn,C as gn}from"./proxy.BsXSLJqp.js";import{S as bn}from"./search.gwZQAkbH.js";import{C as bt}from"./chevron-right.CxscgICM.js";import{F as Wt}from"./file-text.xbHjqlqk.js";import{T as ye,P as tt}from"./trash-2.BTX8f7t2.js";import{C as vn}from"./check.CEgdvDLo.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],jn=K("archive",yn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wn=K("arrow-left",Nn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Bt=K("calendar-clock",Cn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],En=K("circle-play",Sn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],vt=K("copy",kn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],An=K("mic",Rn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],In=K("panels-top-left",Dn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Pn=K("pause",Mn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Le=K("pen",Tn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],On=K("play",Ln);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],$n=K("rotate-ccw",_n);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],zn=K("rotate-cw",Fn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Vt=K("send",Hn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Bn=K("volume-2",Wn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Kn=K("zap",Vn);function yt(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function Gn(...e){return r=>{let n=!1;const s=e.map(a=>{const l=yt(a,r);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():yt(e[a],null)}}}}function Yn(...e){return o.useCallback(Gn(...e),e)}class Un extends o.Component{getSnapshotBeforeUpdate(r){const n=this.props.childRef.current;if(n&&r.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=gt(s)&&s.offsetWidth||0,l=gt(s)&&s.offsetHeight||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left,i.bottom=l-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}}function qn({children:e,isPresent:r,anchorX:n,anchorY:s,root:a}){var x;const l=o.useId(),i=o.useRef(null),c=o.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=o.useContext(un),d=((x=e.props)==null?void 0:x.ref)??(e==null?void 0:e.ref),m=Yn(i,d);return o.useInsertionEffect(()=>{const{width:p,height:u,top:w,left:g,right:N,bottom:b}=c.current;if(r||!i.current||!p||!u)return;const y=n==="left"?`left: ${g}`:`right: ${N}`,j=s==="bottom"?`bottom: ${b}`:`top: ${w}`;i.current.dataset.motionPopId=l;const v=document.createElement("style");f&&(v.nonce=f);const C=a??document.head;return C.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${u}px !important;
            ${y}px !important;
            ${j}px !important;
          }
        `),()=>{C.contains(v)&&C.removeChild(v)}},[r]),t.jsx(Un,{isPresent:r,childRef:i,sizeRef:c,children:o.cloneElement(e,{ref:m})})}const Xn=({children:e,initial:r,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:i,anchorX:c,anchorY:f,root:d})=>{const m=Ht(Zn),x=o.useId();let p=!0,u=o.useMemo(()=>(p=!1,{id:x,initial:r,isPresent:n,custom:a,onExitComplete:w=>{m.set(w,!0);for(const g of m.values())if(!g)return;s&&s()},register:w=>(m.set(w,!1),()=>m.delete(w))}),[n,m,s]);return l&&p&&(u={...u}),o.useMemo(()=>{m.forEach((w,g)=>m.set(g,!1))},[n]),o.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),i==="popLayout"&&(e=t.jsx(qn,{isPresent:n,anchorX:c,anchorY:f,root:d,children:e})),t.jsx(fn.Provider,{value:u,children:e})};function Zn(){return new Map}const Ee=e=>e.key||"";function jt(e){const r=[];return o.Children.forEach(e,n=>{o.isValidElement(n)&&r.push(n)}),r}const Jn=({children:e,custom:r,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:i=!1,anchorX:c="left",anchorY:f="top",root:d})=>{const[m,x]=mn(i),p=o.useMemo(()=>jt(e),[e]),u=i&&!m?[]:p.map(Ee),w=o.useRef(!0),g=o.useRef(p),N=Ht(()=>new Map),b=o.useRef(new Set),[y,j]=o.useState(p),[v,C]=o.useState(p);xn(()=>{w.current=!1,g.current=p;for(let M=0;M<v.length;M++){const I=Ee(v[M]);u.includes(I)?(N.delete(I),b.current.delete(I)):N.get(I)!==!0&&N.set(I,!1)}},[v,u.length,u.join("-")]);const D=[];if(p!==y){let M=[...p];for(let I=0;I<v.length;I++){const $=v[I],F=Ee($);u.includes(F)||(M.splice(I,0,$),D.push($))}return l==="wait"&&D.length&&(M=D),C(jt(M)),j(p),null}const{forceRender:k}=o.useContext(pn);return t.jsx(t.Fragment,{children:v.map(M=>{const I=Ee(M),$=i&&!m?!1:p===v||u.includes(I),F=()=>{if(b.current.has(I))return;if(b.current.add(I),N.has(I))N.set(I,!0);else return;let G=!0;N.forEach(J=>{J||(G=!1)}),G&&(k==null||k(),C(g.current),i&&(x==null||x()),s&&s())};return t.jsx(Xn,{isPresent:$,initial:!w.current||n?void 0:!1,custom:r,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:$?void 0:F,anchorX:c,anchorY:f,children:M},I)})})};var Nt=1,Qn=.9,es=.8,ts=.17,Ve=.1,Ke=.999,rs=.9999,ns=.99,ss=/[\\\/_+.#"@\[\(\{&]/,as=/[\\\/_+.#"@\[\(\{&]/g,os=/[\s-]/,Kt=/[\s-]/g;function rt(e,r,n,s,a,l,i){if(l===r.length)return a===e.length?Nt:ns;var c=`${a},${l}`;if(i[c]!==void 0)return i[c];for(var f=s.charAt(l),d=n.indexOf(f,a),m=0,x,p,u,w;d>=0;)x=rt(e,r,n,s,d+1,l+1,i),x>m&&(d===a?x*=Nt:ss.test(e.charAt(d-1))?(x*=es,u=e.slice(a,d-1).match(as),u&&a>0&&(x*=Math.pow(Ke,u.length))):os.test(e.charAt(d-1))?(x*=Qn,w=e.slice(a,d-1).match(Kt),w&&a>0&&(x*=Math.pow(Ke,w.length))):(x*=ts,a>0&&(x*=Math.pow(Ke,d-a))),e.charAt(d)!==r.charAt(l)&&(x*=rs)),(x<Ve&&n.charAt(d-1)===s.charAt(l+1)||s.charAt(l+1)===s.charAt(l)&&n.charAt(d-1)!==s.charAt(l))&&(p=rt(e,r,n,s,d+1,l+2,i),p*Ve>x&&(x=p*Ve)),x>m&&(m=x),d=n.indexOf(f,d+1);return i[c]=m,m}function wt(e){return e.toLowerCase().replace(Kt," ")}function ls(e,r,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,rt(e,r,wt(e),wt(r),0,0,{})}function ne(e,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return r==null?void 0:r(a)}}function Ct(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function se(...e){return r=>{let n=!1;const s=e.map(a=>{const l=Ct(a,r);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Ct(e[a],null)}}}}function ce(...e){return o.useCallback(se(...e),e)}function is(e,r){const n=o.createContext(r),s=l=>{const{children:i,...c}=l,f=o.useMemo(()=>c,Object.values(c));return t.jsx(n.Provider,{value:f,children:i})};s.displayName=e+"Provider";function a(l){const i=o.useContext(n);if(i)return i;if(r!==void 0)return r;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,a]}function cs(e,r=[]){let n=[];function s(l,i){const c=o.createContext(i),f=n.length;n=[...n,i];const d=x=>{var b;const{scope:p,children:u,...w}=x,g=((b=p==null?void 0:p[e])==null?void 0:b[f])||c,N=o.useMemo(()=>w,Object.values(w));return t.jsx(g.Provider,{value:N,children:u})};d.displayName=l+"Provider";function m(x,p){var g;const u=((g=p==null?void 0:p[e])==null?void 0:g[f])||c,w=o.useContext(u);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[d,m]}const a=()=>{const l=n.map(i=>o.createContext(i));return function(c){const f=(c==null?void 0:c[e])||l;return o.useMemo(()=>({[`__scope${e}`]:{...c,[e]:f}}),[c,f])}};return a.scopeName=e,[s,ds(a,...r)]}function ds(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const i=s.reduce((c,{useScope:f,scopeName:d})=>{const x=f(l)[`__scope${d}`];return{...c,...x}},{});return o.useMemo(()=>({[`__scope${r.scopeName}`]:i}),[i])}};return n.scopeName=r.scopeName,n}var je=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},us=ot[" useId ".trim().toString()]||(()=>{}),fs=0;function ee(e){const[r,n]=o.useState(us());return je(()=>{n(s=>s??String(fs++))},[e]),r?`radix-${r}`:""}var ms=ot[" useInsertionEffect ".trim().toString()]||je;function xs({prop:e,defaultProp:r,onChange:n=()=>{},caller:s}){const[a,l,i]=ps({defaultProp:r,onChange:n}),c=e!==void 0,f=c?e:a;{const m=o.useRef(e!==void 0);o.useEffect(()=>{const x=m.current;x!==c&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,s])}const d=o.useCallback(m=>{var x;if(c){const p=hs(m)?m(e):m;p!==e&&((x=i.current)==null||x.call(i,p))}else l(m)},[c,e,l,i]);return[f,d]}function ps({defaultProp:e,onChange:r}){const[n,s]=o.useState(e),a=o.useRef(n),l=o.useRef(r);return ms(()=>{l.current=r},[r]),o.useEffect(()=>{var i;a.current!==n&&((i=l.current)==null||i.call(l,n),a.current=n)},[n,a]),[n,s,l]}function hs(e){return typeof e=="function"}function we(e){const r=gs(e),n=o.forwardRef((s,a)=>{const{children:l,...i}=s,c=o.Children.toArray(l),f=c.find(vs);if(f){const d=f.props.children,m=c.map(x=>x===f?o.Children.count(d)>1?o.Children.only(null):o.isValidElement(d)?d.props.children:null:x);return t.jsx(r,{...i,ref:a,children:o.isValidElement(d)?o.cloneElement(d,void 0,m):null})}return t.jsx(r,{...i,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function gs(e){const r=o.forwardRef((n,s)=>{const{children:a,...l}=n;if(o.isValidElement(a)){const i=js(a),c=ys(l,a.props);return a.type!==o.Fragment&&(c.ref=s?se(s,i):i),o.cloneElement(a,c)}return o.Children.count(a)>1?o.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var bs=Symbol("radix.slottable");function vs(e){return o.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bs}function ys(e,r){const n={...r};for(const s in r){const a=e[s],l=r[s];/^on[A-Z]/.test(s)?a&&l?n[s]=(...c)=>{const f=l(...c);return a(...c),f}:a&&(n[s]=a):s==="style"?n[s]={...a,...l}:s==="className"&&(n[s]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function js(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ns=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gt=Ns.reduce((e,r)=>{const n=we(`Primitive.${r}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function ws(e,r){e&&cn.flushSync(()=>e.dispatchEvent(r))}function Ne(e){const r=o.useRef(e);return o.useEffect(()=>{r.current=e}),o.useMemo(()=>(...n)=>{var s;return(s=r.current)==null?void 0:s.call(r,...n)},[])}function Cs(e,r=globalThis==null?void 0:globalThis.document){const n=Ne(e);o.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[n,r])}var Ss="DismissableLayer",nt="dismissableLayer.update",Es="dismissableLayer.pointerDownOutside",ks="dismissableLayer.focusOutside",St,Yt=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ut=o.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:i,onDismiss:c,...f}=e,d=o.useContext(Yt),[m,x]=o.useState(null),p=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,u]=o.useState({}),w=ce(r,k=>x(k)),g=Array.from(d.layers),[N]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(N),y=m?g.indexOf(m):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,v=y>=b,C=Ds(k=>{const M=k.target,I=[...d.branches].some($=>$.contains(M));!v||I||(a==null||a(k),i==null||i(k),k.defaultPrevented||c==null||c())},p),D=Is(k=>{const M=k.target;[...d.branches].some($=>$.contains(M))||(l==null||l(k),i==null||i(k),k.defaultPrevented||c==null||c())},p);return Cs(k=>{y===d.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},p),o.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(St=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),Et(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=St)}},[m,p,n,d]),o.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),Et())},[m,d]),o.useEffect(()=>{const k=()=>u({});return document.addEventListener(nt,k),()=>document.removeEventListener(nt,k)},[]),t.jsx(Gt.div,{...f,ref:w,style:{pointerEvents:j?v?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,D.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,C.onPointerDownCapture)})});Ut.displayName=Ss;var Rs="DismissableLayerBranch",As=o.forwardRef((e,r)=>{const n=o.useContext(Yt),s=o.useRef(null),a=ce(r,s);return o.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),t.jsx(Gt.div,{...e,ref:a})});As.displayName=Rs;function Ds(e,r=globalThis==null?void 0:globalThis.document){const n=Ne(e),s=o.useRef(!1),a=o.useRef(()=>{});return o.useEffect(()=>{const l=c=>{if(c.target&&!s.current){let f=function(){qt(Es,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",a.current),a.current=f,r.addEventListener("click",a.current,{once:!0})):f()}else r.removeEventListener("click",a.current);s.current=!1},i=window.setTimeout(()=>{r.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(i),r.removeEventListener("pointerdown",l),r.removeEventListener("click",a.current)}},[r,n]),{onPointerDownCapture:()=>s.current=!0}}function Is(e,r=globalThis==null?void 0:globalThis.document){const n=Ne(e),s=o.useRef(!1);return o.useEffect(()=>{const a=l=>{l.target&&!s.current&&qt(ks,n,{originalEvent:l},{discrete:!1})};return r.addEventListener("focusin",a),()=>r.removeEventListener("focusin",a)},[r,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Et(){const e=new CustomEvent(nt);document.dispatchEvent(e)}function qt(e,r,n,{discrete:s}){const a=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),s?ws(a,l):a.dispatchEvent(l)}var Ms=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ps=Ms.reduce((e,r)=>{const n=we(`Primitive.${r}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),Ge="focusScope.autoFocusOnMount",Ye="focusScope.autoFocusOnUnmount",kt={bubbles:!1,cancelable:!0},Ts="FocusScope",Xt=o.forwardRef((e,r)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...i}=e,[c,f]=o.useState(null),d=Ne(a),m=Ne(l),x=o.useRef(null),p=ce(r,g=>f(g)),u=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(s){let g=function(j){if(u.paused||!c)return;const v=j.target;c.contains(v)?x.current=v:te(x.current,{select:!0})},N=function(j){if(u.paused||!c)return;const v=j.relatedTarget;v!==null&&(c.contains(v)||te(x.current,{select:!0}))},b=function(j){if(document.activeElement===document.body)for(const C of j)C.removedNodes.length>0&&te(c)};document.addEventListener("focusin",g),document.addEventListener("focusout",N);const y=new MutationObserver(b);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",N),y.disconnect()}}},[s,c,u.paused]),o.useEffect(()=>{if(c){At.add(u);const g=document.activeElement;if(!c.contains(g)){const b=new CustomEvent(Ge,kt);c.addEventListener(Ge,d),c.dispatchEvent(b),b.defaultPrevented||(Ls(zs(Zt(c)),{select:!0}),document.activeElement===g&&te(c))}return()=>{c.removeEventListener(Ge,d),setTimeout(()=>{const b=new CustomEvent(Ye,kt);c.addEventListener(Ye,m),c.dispatchEvent(b),b.defaultPrevented||te(g??document.body,{select:!0}),c.removeEventListener(Ye,m),At.remove(u)},0)}}},[c,d,m,u]);const w=o.useCallback(g=>{if(!n&&!s||u.paused)return;const N=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(N&&b){const y=g.currentTarget,[j,v]=Os(y);j&&v?!g.shiftKey&&b===v?(g.preventDefault(),n&&te(j,{select:!0})):g.shiftKey&&b===j&&(g.preventDefault(),n&&te(v,{select:!0})):b===y&&g.preventDefault()}},[n,s,u.paused]);return t.jsx(Ps.div,{tabIndex:-1,...i,ref:p,onKeyDown:w})});Xt.displayName=Ts;function Ls(e,{select:r=!1}={}){const n=document.activeElement;for(const s of e)if(te(s,{select:r}),document.activeElement!==n)return}function Os(e){const r=Zt(e),n=Rt(r,e),s=Rt(r.reverse(),e);return[n,s]}function Zt(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function Rt(e,r){for(const n of e)if(!_s(n,{upTo:r}))return n}function _s(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $s(e){return e instanceof HTMLInputElement&&"select"in e}function te(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&$s(e)&&r&&e.select()}}var At=Fs();function Fs(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=Dt(e,r),e.unshift(r)},remove(r){var n;e=Dt(e,r),(n=e[0])==null||n.resume()}}}function Dt(e,r){const n=[...e],s=n.indexOf(r);return s!==-1&&n.splice(s,1),n}function zs(e){return e.filter(r=>r.tagName!=="A")}var Hs=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ws=Hs.reduce((e,r)=>{const n=we(`Primitive.${r}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),Bs="Portal",Jt=o.forwardRef((e,r)=>{var c;const{container:n,...s}=e,[a,l]=o.useState(!1);je(()=>l(!0),[]);const i=n||a&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return i?dn.createPortal(t.jsx(Ws.div,{...s,ref:r}),i):null});Jt.displayName=Bs;function Vs(e,r){return o.useReducer((n,s)=>r[n][s]??n,e)}var $e=e=>{const{present:r,children:n}=e,s=Ks(r),a=typeof n=="function"?n({present:s.isPresent}):o.Children.only(n),l=ce(s.ref,Gs(a));return typeof n=="function"||s.isPresent?o.cloneElement(a,{ref:l}):null};$e.displayName="Presence";function Ks(e){const[r,n]=o.useState(),s=o.useRef(null),a=o.useRef(e),l=o.useRef("none"),i=e?"mounted":"unmounted",[c,f]=Vs(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const d=ke(s.current);l.current=c==="mounted"?d:"none"},[c]),je(()=>{const d=s.current,m=a.current;if(m!==e){const p=l.current,u=ke(d);e?f("MOUNT"):u==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(m&&p!==u?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),je(()=>{if(r){let d;const m=r.ownerDocument.defaultView??window,x=u=>{const g=ke(s.current).includes(CSS.escape(u.animationName));if(u.target===r&&g&&(f("ANIMATION_END"),!a.current)){const N=r.style.animationFillMode;r.style.animationFillMode="forwards",d=m.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=N)})}},p=u=>{u.target===r&&(l.current=ke(s.current))};return r.addEventListener("animationstart",p),r.addEventListener("animationcancel",x),r.addEventListener("animationend",x),()=>{m.clearTimeout(d),r.removeEventListener("animationstart",p),r.removeEventListener("animationcancel",x),r.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[r,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function ke(e){return(e==null?void 0:e.animationName)||"none"}function Gs(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ys=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ce=Ys.reduce((e,r)=>{const n=we(`Primitive.${r}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),Ue=0;function Us(){o.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??It()),document.body.insertAdjacentElement("beforeend",e[1]??It()),Ue++,()=>{Ue===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ue--}},[])}function It(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Me="right-scroll-bar-position",Pe="width-before-scroll-bar",qs="with-scroll-bars-hidden",Xs="--removed-body-scroll-bar-size";function qe(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function Zs(e,r){var n=o.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=r,n.facade}var Js=typeof window<"u"?o.useLayoutEffect:o.useEffect,Mt=new WeakMap;function Qs(e,r){var n=Zs(null,function(s){return e.forEach(function(a){return qe(a,s)})});return Js(function(){var s=Mt.get(n);if(s){var a=new Set(s),l=new Set(e),i=n.current;a.forEach(function(c){l.has(c)||qe(c,null)}),l.forEach(function(c){a.has(c)||qe(c,i)})}Mt.set(n,e)},[e]),n}function ea(e){return e}function ta(e,r){r===void 0&&(r=ea);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var i=r(l,s);return n.push(i),function(){n=n.filter(function(c){return c!==i})}},assignSyncMedium:function(l){for(s=!0;n.length;){var i=n;n=[],i.forEach(l)}n={push:function(c){return l(c)},filter:function(){return n}}},assignMedium:function(l){s=!0;var i=[];if(n.length){var c=n;n=[],c.forEach(l),i=n}var f=function(){var m=i;i=[],m.forEach(l)},d=function(){return Promise.resolve().then(f)};d(),n={push:function(m){i.push(m),d()},filter:function(m){return i=i.filter(m),n}}}};return a}function ra(e){e===void 0&&(e={});var r=ta(null);return r.options=re({async:!0,ssr:!1},e),r}var Qt=function(e){var r=e.sideCar,n=Ft(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return o.createElement(s,re({},n))};Qt.isSideCarExport=!0;function na(e,r){return e.useMedium(r),Qt}var er=ra(),Xe=function(){},Fe=o.forwardRef(function(e,r){var n=o.useRef(null),s=o.useState({onScrollCapture:Xe,onWheelCapture:Xe,onTouchMoveCapture:Xe}),a=s[0],l=s[1],i=e.forwardProps,c=e.children,f=e.className,d=e.removeScrollBar,m=e.enabled,x=e.shards,p=e.sideCar,u=e.noRelative,w=e.noIsolation,g=e.inert,N=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,j=e.gapMode,v=Ft(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,D=Qs([n,r]),k=re(re({},v),a);return o.createElement(o.Fragment,null,m&&o.createElement(C,{sideCar:er,removeScrollBar:d,shards:x,noRelative:u,noIsolation:w,inert:g,setCallbacks:l,allowPinchZoom:!!N,lockRef:n,gapMode:j}),i?o.cloneElement(o.Children.only(c),re(re({},k),{ref:D})):o.createElement(y,re({},k,{className:f,ref:D}),c))});Fe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fe.classNames={fullWidth:Pe,zeroRight:Me};var sa=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aa(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=sa();return r&&e.setAttribute("nonce",r),e}function oa(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function la(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var ia=function(){var e=0,r=null;return{add:function(n){e==0&&(r=aa())&&(oa(r,n),la(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},ca=function(){var e=ia();return function(r,n){o.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}},tr=function(){var e=ca(),r=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return r},da={left:0,top:0,right:0,gap:0},Ze=function(e){return parseInt(e||"",10)||0},ua=function(e){var r=window.getComputedStyle(document.body),n=r[e==="padding"?"paddingLeft":"marginLeft"],s=r[e==="padding"?"paddingTop":"marginTop"],a=r[e==="padding"?"paddingRight":"marginRight"];return[Ze(n),Ze(s),Ze(a)]},fa=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return da;var r=ua(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-n+r[2]-r[0])}},ma=tr(),be="data-scroll-locked",xa=function(e,r,n,s){var a=e.left,l=e.top,i=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(qs,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(be,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Me,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Pe,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Me," .").concat(Me,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Pe," .").concat(Pe,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(be,`] {
    `).concat(Xs,": ").concat(c,`px;
  }
`)},Pt=function(){var e=parseInt(document.body.getAttribute(be)||"0",10);return isFinite(e)?e:0},pa=function(){o.useEffect(function(){return document.body.setAttribute(be,(Pt()+1).toString()),function(){var e=Pt()-1;e<=0?document.body.removeAttribute(be):document.body.setAttribute(be,e.toString())}},[])},ha=function(e){var r=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;pa();var l=o.useMemo(function(){return fa(a)},[a]);return o.createElement(ma,{styles:xa(l,!r,a,n?"":"!important")})},st=!1;if(typeof window<"u")try{var Re=Object.defineProperty({},"passive",{get:function(){return st=!0,!0}});window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch{st=!1}var me=st?{passive:!1}:!1,ga=function(e){return e.tagName==="TEXTAREA"},rr=function(e,r){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!ga(e)&&n[r]==="visible")},ba=function(e){return rr(e,"overflowY")},va=function(e){return rr(e,"overflowX")},Tt=function(e,r){var n=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=nr(e,s);if(a){var l=sr(e,s),i=l[1],c=l[2];if(i>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},ya=function(e){var r=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[r,n,s]},ja=function(e){var r=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[r,n,s]},nr=function(e,r){return e==="v"?ba(r):va(r)},sr=function(e,r){return e==="v"?ya(r):ja(r)},Na=function(e,r){return e==="h"&&r==="rtl"?-1:1},wa=function(e,r,n,s,a){var l=Na(e,window.getComputedStyle(r).direction),i=l*s,c=n.target,f=r.contains(c),d=!1,m=i>0,x=0,p=0;do{if(!c)break;var u=sr(e,c),w=u[0],g=u[1],N=u[2],b=g-N-l*w;(w||b)&&nr(e,c)&&(x+=b,p+=w);var y=c.parentNode;c=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!f&&c!==document.body||f&&(r.contains(c)||r===c));return(m&&Math.abs(x)<1||!m&&Math.abs(p)<1)&&(d=!0),d},Ae=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Lt=function(e){return[e.deltaX,e.deltaY]},Ot=function(e){return e&&"current"in e?e.current:e},Ca=function(e,r){return e[0]===r[0]&&e[1]===r[1]},Sa=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ea=0,xe=[];function ka(e){var r=o.useRef([]),n=o.useRef([0,0]),s=o.useRef(),a=o.useState(Ea++)[0],l=o.useState(tr)[0],i=o.useRef(e);o.useEffect(function(){i.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Pr([e.lockRef.current],(e.shards||[]).map(Ot),!0).filter(Boolean);return g.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(g,N){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var b=Ae(g),y=n.current,j="deltaX"in g?g.deltaX:y[0]-b[0],v="deltaY"in g?g.deltaY:y[1]-b[1],C,D=g.target,k=Math.abs(j)>Math.abs(v)?"h":"v";if("touches"in g&&k==="h"&&D.type==="range")return!1;var M=window.getSelection(),I=M&&M.anchorNode,$=I?I===D||I.contains(D):!1;if($)return!1;var F=Tt(k,D);if(!F)return!0;if(F?C=k:(C=k==="v"?"h":"v",F=Tt(k,D)),!F)return!1;if(!s.current&&"changedTouches"in g&&(j||v)&&(s.current=C),!C)return!0;var G=s.current||C;return wa(G,N,g,G==="h"?j:v)},[]),f=o.useCallback(function(g){var N=g;if(!(!xe.length||xe[xe.length-1]!==l)){var b="deltaY"in N?Lt(N):Ae(N),y=r.current.filter(function(C){return C.name===N.type&&(C.target===N.target||N.target===C.shadowParent)&&Ca(C.delta,b)})[0];if(y&&y.should){N.cancelable&&N.preventDefault();return}if(!y){var j=(i.current.shards||[]).map(Ot).filter(Boolean).filter(function(C){return C.contains(N.target)}),v=j.length>0?c(N,j[0]):!i.current.noIsolation;v&&N.cancelable&&N.preventDefault()}}},[]),d=o.useCallback(function(g,N,b,y){var j={name:g,delta:N,target:b,should:y,shadowParent:Ra(b)};r.current.push(j),setTimeout(function(){r.current=r.current.filter(function(v){return v!==j})},1)},[]),m=o.useCallback(function(g){n.current=Ae(g),s.current=void 0},[]),x=o.useCallback(function(g){d(g.type,Lt(g),g.target,c(g,e.lockRef.current))},[]),p=o.useCallback(function(g){d(g.type,Ae(g),g.target,c(g,e.lockRef.current))},[]);o.useEffect(function(){return xe.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:p}),document.addEventListener("wheel",f,me),document.addEventListener("touchmove",f,me),document.addEventListener("touchstart",m,me),function(){xe=xe.filter(function(g){return g!==l}),document.removeEventListener("wheel",f,me),document.removeEventListener("touchmove",f,me),document.removeEventListener("touchstart",m,me)}},[]);var u=e.removeScrollBar,w=e.inert;return o.createElement(o.Fragment,null,w?o.createElement(l,{styles:Sa(a)}):null,u?o.createElement(ha,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Ra(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const Aa=na(er,ka);var ar=o.forwardRef(function(e,r){return o.createElement(Fe,re({},e,{ref:r,sideCar:Aa}))});ar.classNames=Fe.classNames;var Da=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},pe=new WeakMap,De=new WeakMap,Ie={},Je=0,or=function(e){return e&&(e.host||or(e.parentNode))},Ia=function(e,r){return r.map(function(n){if(e.contains(n))return n;var s=or(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Ma=function(e,r,n,s){var a=Ia(r,Array.isArray(e)?e:[e]);Ie[n]||(Ie[n]=new WeakMap);var l=Ie[n],i=[],c=new Set,f=new Set(a),d=function(x){!x||c.has(x)||(c.add(x),d(x.parentNode))};a.forEach(d);var m=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(p){if(c.has(p))m(p);else try{var u=p.getAttribute(s),w=u!==null&&u!=="false",g=(pe.get(p)||0)+1,N=(l.get(p)||0)+1;pe.set(p,g),l.set(p,N),i.push(p),g===1&&w&&De.set(p,!0),N===1&&p.setAttribute(n,"true"),w||p.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return m(r),c.clear(),Je++,function(){i.forEach(function(x){var p=pe.get(x)-1,u=l.get(x)-1;pe.set(x,p),l.set(x,u),p||(De.has(x)||x.removeAttribute(s),De.delete(x)),u||x.removeAttribute(n)}),Je--,Je||(pe=new WeakMap,pe=new WeakMap,De=new WeakMap,Ie={})}},Pa=function(e,r,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Da(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),Ma(s,a,n,"aria-hidden")):function(){return null}},ze="Dialog",[lr]=cs(ze),[Ta,U]=lr(ze),ir=e=>{const{__scopeDialog:r,children:n,open:s,defaultOpen:a,onOpenChange:l,modal:i=!0}=e,c=o.useRef(null),f=o.useRef(null),[d,m]=xs({prop:s,defaultProp:a??!1,onChange:l,caller:ze});return t.jsx(Ta,{scope:r,triggerRef:c,contentRef:f,contentId:ee(),titleId:ee(),descriptionId:ee(),open:d,onOpenChange:m,onOpenToggle:o.useCallback(()=>m(x=>!x),[m]),modal:i,children:n})};ir.displayName=ze;var cr="DialogTrigger",La=o.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=U(cr,n),l=ce(r,a.triggerRef);return t.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":dt(a.open),...s,ref:l,onClick:ne(e.onClick,a.onOpenToggle)})});La.displayName=cr;var it="DialogPortal",[Oa,dr]=lr(it,{forceMount:void 0}),ur=e=>{const{__scopeDialog:r,forceMount:n,children:s,container:a}=e,l=U(it,r);return t.jsx(Oa,{scope:r,forceMount:n,children:o.Children.map(s,i=>t.jsx($e,{present:n||l.open,children:t.jsx(Jt,{asChild:!0,container:a,children:i})}))})};ur.displayName=it;var Oe="DialogOverlay",fr=o.forwardRef((e,r)=>{const n=dr(Oe,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,l=U(Oe,e.__scopeDialog);return l.modal?t.jsx($e,{present:s||l.open,children:t.jsx($a,{...a,ref:r})}):null});fr.displayName=Oe;var _a=we("DialogOverlay.RemoveScroll"),$a=o.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=U(Oe,n);return t.jsx(ar,{as:_a,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx(Ce.div,{"data-state":dt(a.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),le="DialogContent",mr=o.forwardRef((e,r)=>{const n=dr(le,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,l=U(le,e.__scopeDialog);return t.jsx($e,{present:s||l.open,children:l.modal?t.jsx(Fa,{...a,ref:r}):t.jsx(za,{...a,ref:r})})});mr.displayName=le;var Fa=o.forwardRef((e,r)=>{const n=U(le,e.__scopeDialog),s=o.useRef(null),a=ce(r,n.contentRef,s);return o.useEffect(()=>{const l=s.current;if(l)return Pa(l)},[]),t.jsx(xr,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ne(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&l.preventDefault()}),onFocusOutside:ne(e.onFocusOutside,l=>l.preventDefault())})}),za=o.forwardRef((e,r)=>{const n=U(le,e.__scopeDialog),s=o.useRef(!1),a=o.useRef(!1);return t.jsx(xr,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var i,c;(i=e.onCloseAutoFocus)==null||i.call(e,l),l.defaultPrevented||(s.current||(c=n.triggerRef.current)==null||c.focus(),l.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:l=>{var f,d;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=l.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),xr=o.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,...i}=e,c=U(le,n),f=o.useRef(null),d=ce(r,f);return Us(),t.jsxs(t.Fragment,{children:[t.jsx(Xt,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:l,children:t.jsx(Ut,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":dt(c.open),...i,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Va,{titleId:c.titleId}),t.jsx(Ga,{contentRef:f,descriptionId:c.descriptionId})]})]})}),ct="DialogTitle",Ha=o.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=U(ct,n);return t.jsx(Ce.h2,{id:a.titleId,...s,ref:r})});Ha.displayName=ct;var pr="DialogDescription",Wa=o.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=U(pr,n);return t.jsx(Ce.p,{id:a.descriptionId,...s,ref:r})});Wa.displayName=pr;var hr="DialogClose",Ba=o.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=U(hr,n);return t.jsx(Ce.button,{type:"button",...s,ref:r,onClick:ne(e.onClick,()=>a.onOpenChange(!1))})});Ba.displayName=hr;function dt(e){return e?"open":"closed"}var gr="DialogTitleWarning",[Ko,br]=is(gr,{contentName:le,titleName:ct,docsSlug:"dialog"}),Va=({titleId:e})=>{const r=br(gr),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return o.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Ka="DialogDescriptionWarning",Ga=({contentRef:e,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${br(Ka).contentName}}.`;return o.useEffect(()=>{var l;const a=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(s))},[s,e,r]),null},Ya=ir,Ua=ur,qa=fr,Xa=mr,Za=Symbol.for("react.lazy"),_e=ot[" use ".trim().toString()];function Ja(e){return typeof e=="object"&&e!==null&&"then"in e}function vr(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Za&&"_payload"in e&&Ja(e._payload)}function Qa(e){const r=eo(e),n=o.forwardRef((s,a)=>{let{children:l,...i}=s;vr(l)&&typeof _e=="function"&&(l=_e(l._payload));const c=o.Children.toArray(l),f=c.find(ro);if(f){const d=f.props.children,m=c.map(x=>x===f?o.Children.count(d)>1?o.Children.only(null):o.isValidElement(d)?d.props.children:null:x);return t.jsx(r,{...i,ref:a,children:o.isValidElement(d)?o.cloneElement(d,void 0,m):null})}return t.jsx(r,{...i,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function eo(e){const r=o.forwardRef((n,s)=>{let{children:a,...l}=n;if(vr(a)&&typeof _e=="function"&&(a=_e(a._payload)),o.isValidElement(a)){const i=so(a),c=no(l,a.props);return a.type!==o.Fragment&&(c.ref=s?se(s,i):i),o.cloneElement(a,c)}return o.Children.count(a)>1?o.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var to=Symbol("radix.slottable");function ro(e){return o.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===to}function no(e,r){const n={...r};for(const s in r){const a=e[s],l=r[s];/^on[A-Z]/.test(s)?a&&l?n[s]=(...c)=>{const f=l(...c);return a(...c),f}:a&&(n[s]=a):s==="style"?n[s]={...a,...l}:s==="className"&&(n[s]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function so(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ao=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oe=ao.reduce((e,r)=>{const n=Qa(`Primitive.${r}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),ve='[cmdk-group=""]',Qe='[cmdk-group-items=""]',oo='[cmdk-group-heading=""]',yr='[cmdk-item=""]',_t=`${yr}:not([aria-disabled="true"])`,at="cmdk-item-select",he="data-value",lo=(e,r,n)=>ls(e,r,n),jr=o.createContext(void 0),Se=()=>o.useContext(jr),Nr=o.createContext(void 0),ut=()=>o.useContext(Nr),wr=o.createContext(void 0),Cr=o.forwardRef((e,r)=>{let n=ge(()=>{var h,E;return{search:"",value:(E=(h=e.value)!=null?h:e.defaultValue)!=null?E:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=ge(()=>new Set),a=ge(()=>new Map),l=ge(()=>new Map),i=ge(()=>new Set),c=Sr(e),{label:f,children:d,value:m,onValueChange:x,filter:p,shouldFilter:u,loop:w,disablePointerSelection:g=!1,vimBindings:N=!0,...b}=e,y=ee(),j=ee(),v=ee(),C=o.useRef(null),D=vo();ie(()=>{if(m!==void 0){let h=m.trim();n.current.value=h,k.emit()}},[m]),ie(()=>{D(6,J)},[]);let k=o.useMemo(()=>({subscribe:h=>(i.current.add(h),()=>i.current.delete(h)),snapshot:()=>n.current,setState:(h,E,P)=>{var R,L,_,V;if(!Object.is(n.current[h],E)){if(n.current[h]=E,h==="search")G(),$(),D(1,F);else if(h==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let W=document.getElementById(v);W?W.focus():(R=document.getElementById(y))==null||R.focus()}if(D(7,()=>{var W;n.current.selectedItemId=(W=Y())==null?void 0:W.id,k.emit()}),P||D(5,J),((L=c.current)==null?void 0:L.value)!==void 0){let W=E??"";(V=(_=c.current).onValueChange)==null||V.call(_,W);return}}k.emit()}},emit:()=>{i.current.forEach(h=>h())}}),[]),M=o.useMemo(()=>({value:(h,E,P)=>{var R;E!==((R=l.current.get(h))==null?void 0:R.value)&&(l.current.set(h,{value:E,keywords:P}),n.current.filtered.items.set(h,I(E,P)),D(2,()=>{$(),k.emit()}))},item:(h,E)=>(s.current.add(h),E&&(a.current.has(E)?a.current.get(E).add(h):a.current.set(E,new Set([h]))),D(3,()=>{G(),$(),n.current.value||F(),k.emit()}),()=>{l.current.delete(h),s.current.delete(h),n.current.filtered.items.delete(h);let P=Y();D(4,()=>{G(),(P==null?void 0:P.getAttribute("id"))===h&&F(),k.emit()})}),group:h=>(a.current.has(h)||a.current.set(h,new Set),()=>{l.current.delete(h),a.current.delete(h)}),filter:()=>c.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:y,inputId:v,labelId:j,listInnerRef:C}),[]);function I(h,E){var P,R;let L=(R=(P=c.current)==null?void 0:P.filter)!=null?R:lo;return h?L(h,n.current.search,E):0}function $(){if(!n.current.search||c.current.shouldFilter===!1)return;let h=n.current.filtered.items,E=[];n.current.filtered.groups.forEach(R=>{let L=a.current.get(R),_=0;L.forEach(V=>{let W=h.get(V);_=Math.max(W,_)}),E.push([R,_])});let P=C.current;q().sort((R,L)=>{var _,V;let W=R.getAttribute("id"),ue=L.getAttribute("id");return((_=h.get(ue))!=null?_:0)-((V=h.get(W))!=null?V:0)}).forEach(R=>{let L=R.closest(Qe);L?L.appendChild(R.parentElement===L?R:R.closest(`${Qe} > *`)):P.appendChild(R.parentElement===P?R:R.closest(`${Qe} > *`))}),E.sort((R,L)=>L[1]-R[1]).forEach(R=>{var L;let _=(L=C.current)==null?void 0:L.querySelector(`${ve}[${he}="${encodeURIComponent(R[0])}"]`);_==null||_.parentElement.appendChild(_)})}function F(){let h=q().find(P=>P.getAttribute("aria-disabled")!=="true"),E=h==null?void 0:h.getAttribute(he);k.setState("value",E||void 0)}function G(){var h,E,P,R;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let L=0;for(let _ of s.current){let V=(E=(h=l.current.get(_))==null?void 0:h.value)!=null?E:"",W=(R=(P=l.current.get(_))==null?void 0:P.keywords)!=null?R:[],ue=I(V,W);n.current.filtered.items.set(_,ue),ue>0&&L++}for(let[_,V]of a.current)for(let W of V)if(n.current.filtered.items.get(W)>0){n.current.filtered.groups.add(_);break}n.current.filtered.count=L}function J(){var h,E,P;let R=Y();R&&(((h=R.parentElement)==null?void 0:h.firstChild)===R&&((P=(E=R.closest(ve))==null?void 0:E.querySelector(oo))==null||P.scrollIntoView({block:"nearest"})),R.scrollIntoView({block:"nearest"}))}function Y(){var h;return(h=C.current)==null?void 0:h.querySelector(`${yr}[aria-selected="true"]`)}function q(){var h;return Array.from(((h=C.current)==null?void 0:h.querySelectorAll(_t))||[])}function X(h){let E=q()[h];E&&k.setState("value",E.getAttribute(he))}function Q(h){var E;let P=Y(),R=q(),L=R.findIndex(V=>V===P),_=R[L+h];(E=c.current)!=null&&E.loop&&(_=L+h<0?R[R.length-1]:L+h===R.length?R[0]:R[L+h]),_&&k.setState("value",_.getAttribute(he))}function S(h){let E=Y(),P=E==null?void 0:E.closest(ve),R;for(;P&&!R;)P=h>0?go(P,ve):bo(P,ve),R=P==null?void 0:P.querySelector(_t);R?k.setState("value",R.getAttribute(he)):Q(h)}let T=()=>X(q().length-1),H=h=>{h.preventDefault(),h.metaKey?T():h.altKey?S(1):Q(1)},de=h=>{h.preventDefault(),h.metaKey?X(0):h.altKey?S(-1):Q(-1)};return o.createElement(oe.div,{ref:r,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:h=>{var E;(E=b.onKeyDown)==null||E.call(b,h);let P=h.nativeEvent.isComposing||h.keyCode===229;if(!(h.defaultPrevented||P))switch(h.key){case"n":case"j":{N&&h.ctrlKey&&H(h);break}case"ArrowDown":{H(h);break}case"p":case"k":{N&&h.ctrlKey&&de(h);break}case"ArrowUp":{de(h);break}case"Home":{h.preventDefault(),X(0);break}case"End":{h.preventDefault(),T();break}case"Enter":{h.preventDefault();let R=Y();if(R){let L=new Event(at);R.dispatchEvent(L)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:jo},f),He(e,h=>o.createElement(Nr.Provider,{value:k},o.createElement(jr.Provider,{value:M},h))))}),io=o.forwardRef((e,r)=>{var n,s;let a=ee(),l=o.useRef(null),i=o.useContext(wr),c=Se(),f=Sr(e),d=(s=(n=f.current)==null?void 0:n.forceMount)!=null?s:i==null?void 0:i.forceMount;ie(()=>{if(!d)return c.item(a,i==null?void 0:i.id)},[d]);let m=Er(a,l,[e.value,e.children,l],e.keywords),x=ut(),p=ae(D=>D.value&&D.value===m.current),u=ae(D=>d||c.filter()===!1?!0:D.search?D.filtered.items.get(a)>0:!0);o.useEffect(()=>{let D=l.current;if(!(!D||e.disabled))return D.addEventListener(at,w),()=>D.removeEventListener(at,w)},[u,e.onSelect,e.disabled]);function w(){var D,k;g(),(k=(D=f.current).onSelect)==null||k.call(D,m.current)}function g(){x.setState("value",m.current,!0)}if(!u)return null;let{disabled:N,value:b,onSelect:y,forceMount:j,keywords:v,...C}=e;return o.createElement(oe.div,{ref:se(l,r),...C,id:a,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!p,"data-disabled":!!N,"data-selected":!!p,onPointerMove:N||c.getDisablePointerSelection()?void 0:g,onClick:N?void 0:w},e.children)}),co=o.forwardRef((e,r)=>{let{heading:n,children:s,forceMount:a,...l}=e,i=ee(),c=o.useRef(null),f=o.useRef(null),d=ee(),m=Se(),x=ae(u=>a||m.filter()===!1?!0:u.search?u.filtered.groups.has(i):!0);ie(()=>m.group(i),[]),Er(i,c,[e.value,e.heading,f]);let p=o.useMemo(()=>({id:i,forceMount:a}),[a]);return o.createElement(oe.div,{ref:se(c,r),...l,"cmdk-group":"",role:"presentation",hidden:x?void 0:!0},n&&o.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),He(e,u=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},o.createElement(wr.Provider,{value:p},u))))}),uo=o.forwardRef((e,r)=>{let{alwaysRender:n,...s}=e,a=o.useRef(null),l=ae(i=>!i.search);return!n&&!l?null:o.createElement(oe.div,{ref:se(a,r),...s,"cmdk-separator":"",role:"separator"})}),fo=o.forwardRef((e,r)=>{let{onValueChange:n,...s}=e,a=e.value!=null,l=ut(),i=ae(d=>d.search),c=ae(d=>d.selectedItemId),f=Se();return o.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),o.createElement(oe.input,{ref:r,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":c,id:f.inputId,type:"text",value:a?e.value:i,onChange:d=>{a||l.setState("search",d.target.value),n==null||n(d.target.value)}})}),mo=o.forwardRef((e,r)=>{let{children:n,label:s="Suggestions",...a}=e,l=o.useRef(null),i=o.useRef(null),c=ae(d=>d.selectedItemId),f=Se();return o.useEffect(()=>{if(i.current&&l.current){let d=i.current,m=l.current,x,p=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let u=d.offsetHeight;m.style.setProperty("--cmdk-list-height",u.toFixed(1)+"px")})});return p.observe(d),()=>{cancelAnimationFrame(x),p.unobserve(d)}}},[]),o.createElement(oe.div,{ref:se(l,r),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":s,id:f.listId},He(e,d=>o.createElement("div",{ref:se(i,f.listInnerRef),"cmdk-list-sizer":""},d)))}),xo=o.forwardRef((e,r)=>{let{open:n,onOpenChange:s,overlayClassName:a,contentClassName:l,container:i,...c}=e;return o.createElement(Ya,{open:n,onOpenChange:s},o.createElement(Ua,{container:i},o.createElement(qa,{"cmdk-overlay":"",className:a}),o.createElement(Xa,{"aria-label":e.label,"cmdk-dialog":"",className:l},o.createElement(Cr,{ref:r,...c}))))}),po=o.forwardRef((e,r)=>ae(n=>n.filtered.count===0)?o.createElement(oe.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),ho=o.forwardRef((e,r)=>{let{progress:n,children:s,label:a="Loading...",...l}=e;return o.createElement(oe.div,{ref:r,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},He(e,i=>o.createElement("div",{"aria-hidden":!0},i)))}),B=Object.assign(Cr,{List:mo,Item:io,Input:fo,Group:co,Separator:uo,Dialog:xo,Empty:po,Loading:ho});function go(e,r){let n=e.nextElementSibling;for(;n;){if(n.matches(r))return n;n=n.nextElementSibling}}function bo(e,r){let n=e.previousElementSibling;for(;n;){if(n.matches(r))return n;n=n.previousElementSibling}}function Sr(e){let r=o.useRef(e);return ie(()=>{r.current=e}),r}var ie=typeof window>"u"?o.useEffect:o.useLayoutEffect;function ge(e){let r=o.useRef();return r.current===void 0&&(r.current=e()),r}function ae(e){let r=ut(),n=()=>e(r.snapshot());return o.useSyncExternalStore(r.subscribe,n,n)}function Er(e,r,n,s=[]){let a=o.useRef(),l=Se();return ie(()=>{var i;let c=(()=>{var d;for(let m of n){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(d=m.current.textContent)==null?void 0:d.trim():a.current}})(),f=s.map(d=>d.trim());l.value(e,c,f),(i=r.current)==null||i.setAttribute(he,c),a.current=c}),a}var vo=()=>{let[e,r]=o.useState(),n=ge(()=>new Map);return ie(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),r({})}};function yo(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function He({asChild:e,children:r},n){return e&&o.isValidElement(r)?o.cloneElement(yo(r),{ref:r.ref},n(r.props.children)):n(r)}var jo={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const No=()=>{const[e,r]=o.useState(!1),[n,s]=o.useState([]),[a,l]=o.useState([]),[i,c]=o.useState("root"),[f,d]=o.useState(null),[m,x]=o.useState(""),p=zt(),{showToast:u}=Tr();o.useEffect(()=>{const b=y=>{y.key==="k"&&(y.metaKey||y.ctrlKey)&&(y.preventDefault(),r(j=>(j||(c("root"),x("")),!j)))};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[]),o.useEffect(()=>{e&&(xt().then(s),Lr().then(l))},[e]);const w=b=>{r(!1),b()},g=async b=>{if(!f)return;const y=n.find(j=>j.caseId===f);y==null||y.status;try{await $r(f,{status:b}),u(`${y==null?void 0:y.customerName}  ${b}() .`,"success"),r(!1),c("root"),xt().then(s)}catch(j){console.error("Failed to update status",j),u("  .","error")}},N=o.useMemo(()=>{if(!m)return n;const b=m.toLowerCase();return n.filter(y=>y.customerName.toLowerCase().includes(b)||y.phone.includes(b))},[n,m]);return e?t.jsx(Jn,{children:e&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsx(hn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:t.jsxs(B,{className:"w-full",onKeyDown:b=>{b.key==="Backspace"&&!m&&(b.preventDefault(),i==="status-select"&&c("status-case-select"),i==="status-case-select"&&c("root"))},children:[t.jsxs("div",{className:"flex items-center border-b border-gray-100 dark:border-gray-700 px-4",children:[i!=="root"&&t.jsx("button",{onClick:()=>{c(i==="status-select"?"status-case-select":"root")},className:"mr-2 p-1 hover:bg-gray-100 rounded text-gray-500",children:t.jsx(wo,{})}),t.jsx(bn,{className:"w-5 h-5 text-gray-400 mr-2"}),t.jsx(B.Input,{value:m,onValueChange:x,className:"w-full p-4 bg-transparent outline-none text-gray-800 dark:text-gray-100 placeholder-gray-400",placeholder:i==="root"?"   (, , )...":i==="status-case-select"?"   ...":"  ..."})]}),t.jsxs(B.List,{className:"max-h-[60vh] overflow-y-auto p-2 scrollbar-hide",children:[t.jsx(B.Empty,{className:"p-4 text-center text-gray-500",children:"  ."}),i==="root"&&t.jsxs(t.Fragment,{children:[t.jsx(B.Group,{heading:" ",className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:t.jsxs(B.Item,{onSelect:()=>{c("status-case-select"),x("")},className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-orange-100 p-1.5 rounded mr-3 text-orange-600",children:t.jsx(Kn,{size:16})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium",children:"  "}),t.jsx("span",{className:"text-[10px] text-gray-400",children:"     "})]}),t.jsx(bt,{className:"ml-auto w-4 h-4 text-gray-400"})]})}),t.jsxs(B.Group,{heading:" ",className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:[t.jsxs(B.Item,{onSelect:()=>w(()=>p("/")),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-blue-100 p-1.5 rounded mr-3 text-blue-600",children:t.jsx(Or,{size:16})}),t.jsx("span",{className:"text-sm font-medium",children:""})]}),t.jsxs(B.Item,{onSelect:()=>w(()=>p("/cases")),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-purple-100 p-1.5 rounded mr-3 text-purple-600",children:t.jsx(Wt,{size:16})}),t.jsx("span",{className:"text-sm font-medium",children:" "})]}),t.jsxs(B.Item,{onSelect:()=>w(()=>p("/new")),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-green-100 p-1.5 rounded mr-3 text-green-600",children:t.jsx(We,{size:16})}),t.jsx("span",{className:"text-sm font-medium",children:"  "})]})]}),t.jsx(B.Group,{heading:" ",className:"text-xs font-semibold text-gray-500 mb-2 px-2 mt-2",children:n.slice(0,5).map(b=>t.jsxs(B.Item,{onSelect:()=>w(()=>p(`/case/${b.caseId}`)),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-1.5 rounded mr-3 text-gray-600 dark:text-gray-300",children:t.jsx(We,{size:16})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:b.customerName}),t.jsxs("span",{className:"text-xs text-gray-500",children:[b.phone," | ",b.status]})]})]},b.caseId))})]}),i==="status-case-select"&&t.jsx(B.Group,{heading:"  ( )",className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:N.slice(0,20).map(b=>t.jsxs(B.Item,{onSelect:()=>{d(b.caseId),c("status-select"),x("")},className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-1.5 rounded mr-3 text-gray-600 dark:text-gray-300",children:t.jsx(We,{size:16})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:b.customerName}),t.jsxs("span",{className:"text-xs text-gray-500",children:[b.phone," | : ",b.status]})]}),t.jsx(bt,{className:"ml-auto w-4 h-4 text-gray-400"})]},"status-"+b.caseId))}),i==="status-select"&&t.jsx(B.Group,{heading:"  ",className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:a.filter(b=>b!=="").map(b=>t.jsxs(B.Item,{onSelect:()=>g(b),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-gray-100 p-1.5 rounded mr-3 text-gray-600",children:t.jsx(_r,{size:16})}),t.jsx("span",{className:"text-sm font-medium text-gray-800",children:b})]},b))})]}),t.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 p-2 px-4 flex justify-between items-center text-[10px] text-gray-400 bg-gray-50 dark:bg-gray-900/50",children:[t.jsx("span",{children:": "}),t.jsx("span",{children:": "}),t.jsx("span",{children:": Bksp"}),t.jsx("span",{children:": ESC"})]})]})})})}):null},wo=()=>t.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",children:t.jsx("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),Co=({c:e,partner:r,statuses:n,secondaryStatuses:s,onStatusChangeStart:a,onSecondaryStatusChangeStart:l})=>{const i=rn(e,r);return t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 sticky top-0 z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold text-white whitespace-nowrap "+(["",""].includes(e.caseType||"")?"bg-indigo-500":"bg-gray-500"),children:e.caseType}),t.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded font-bold border border-gray-200 whitespace-nowrap",children:(r==null?void 0:r.name)||" "}),t.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 whitespace-nowrap",children:e.customerName}),t.jsx("span",{className:"text-gray-500 whitespace-nowrap",children:e.phone})]}),i.length>0&&t.jsx("div",{className:"flex gap-2 mt-2",children:i.map(c=>t.jsxs("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-0.5 rounded font-bold flex items-center",children:[t.jsx(Fr,{size:12,className:"mr-1"})," ",c]},c))})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("label",{className:"text-xs text-gray-400 font-medium",children:"1 "}),t.jsx("select",{className:"p-2 border border-gray-300 rounded font-semibold outline-none min-w-[140px] "+(zr[e.status]||"bg-blue-50 text-blue-800"),value:e.status,onChange:c=>a(c.target.value),children:n.map(c=>t.jsx("option",{value:c,children:c},c))})]}),e.status===" "&&t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("label",{className:"text-xs text-purple-500 font-medium",children:"2 "}),t.jsxs("select",{className:"p-2 border border-purple-300 rounded font-semibold outline-none min-w-[140px] bg-purple-50 text-purple-800",value:e.secondaryStatus||"",onChange:c=>l(c.target.value||null),children:[t.jsx("option",{value:"",children:" "}),s.map(c=>t.jsx("option",{value:c,children:c},c))]})]})]})]})})},So=({reminders:e,memos:r,onUpdateReminders:n,onUpdateMemos:s,showToast:a})=>{const[l,i]=o.useState(""),[c,f]=o.useState("09"),[d,m]=o.useState("00"),[x,p]=o.useState(""),[u,w]=o.useState(""),[g,N]=o.useState(""),[b,y]=o.useState(null),[j,v]=o.useState(null),[C,D]=o.useState(""),[k,M]=o.useState(null),[I,$]=o.useState("");o.useEffect(()=>{p(l&&c&&d?`${l} ${c}:${d}`:"")},[l,c,d]);const F=()=>{if(!x){a("  .","error");return}if(e.length>=5){a("  5   .","error");return}const S={id:Date.now().toString(),datetime:x.replace("T"," "),type:u,content:g};n([...e,S]),i(""),f("09"),m("00"),p(""),N(""),w(""),a("  .")},G=S=>{n(e.filter(T=>T.id!==S)),y(null),a(" .")},J=()=>{if(!I.trim())return;const S={id:Date.now().toString(),createdAt:new Date().toISOString(),content:I.trim()};s([S,...r]),$(""),a("  .")},Y=()=>{if(!j)return;const S=r.map(T=>T.id===j?{...T,content:C}:T);s(S),v(null),D(""),a("  .")},q=S=>{s(r.filter(T=>T.id!==S)),a("  ."),M(null)},X=[...e].sort((S,T)=>S.datetime.localeCompare(T.datetime)),Q=[...r].sort((S,T)=>T.createdAt.localeCompare(S.createdAt));return t.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-100",children:[t.jsx("h3",{className:"font-bold text-yellow-800 mb-2 flex items-center gap-2",children:"    "}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-200 shadow-sm",children:[t.jsxs("label",{className:"block text-xs font-bold text-yellow-800 mb-2",children:["   (",X.length,"/5)"]}),t.jsx("div",{className:"flex flex-col md:flex-row gap-2 mb-3",children:t.jsxs("div",{className:"flex flex-col gap-2 flex-[2]",children:[t.jsx("input",{type:"date",className:"w-full p-2 border border-blue-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500",value:l,onChange:S=>i(S.target.value),disabled:(e.length||0)>=5}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("select",{className:"flex-1 p-2 border border-blue-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500",value:c,onChange:S=>f(S.target.value),disabled:(e.length||0)>=5,children:Array.from({length:24}).map((S,T)=>{const H=T.toString().padStart(2,"0");return t.jsxs("option",{value:H,children:[H,""]},H)})}),t.jsx("select",{className:"flex-1 p-2 border border-blue-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500",value:d,onChange:S=>m(S.target.value),disabled:(e.length||0)>=5,children:["00","10","20","30","40","50"].map(S=>t.jsxs("option",{value:S,children:[S,""]},S))}),t.jsxs("select",{className:"flex-1 p-2 border border-blue-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500 min-w-[60px]",value:u,onChange:S=>w(S.target.value),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",className:"flex-1 p-2 border border-gray-300 rounded text-sm",placeholder:u===""?"  ":" ()",value:g,onChange:S=>N(S.target.value)}),t.jsx("button",{onClick:F,disabled:(e.length||0)>=5,className:"bg-yellow-500 text-white px-3 py-2 rounded text-sm font-bold hover:bg-yellow-600 whitespace-nowrap disabled:bg-gray-400",children:""})]}),t.jsx("div",{className:"space-y-2 mt-2",children:X.length===0?t.jsx("div",{className:"text-center py-2 text-xs text-gray-400 bg-gray-50 rounded border border-gray-100 border-dashed",children:"  ."}):X.map(S=>t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded p-2 flex flex-col gap-2",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center w-full gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx(Bt,{size:16,className:"text-blue-600 flex-shrink-0"}),t.jsx("span",{className:"text-sm font-bold text-gray-800 whitespace-nowrap",children:S.datetime}),t.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold whitespace-nowrap ${S.type===""?"bg-purple-100 text-purple-700":S.type===""?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:S.type||""})]}),S.content&&t.jsx("span",{className:"text-xs text-gray-600 break-words w-full md:w-auto md:max-w-[200px]",children:S.content})]}),t.jsx("div",{className:"pt-2 border-t border-blue-100 w-full",children:S.resultStatus?t.jsxs("div",{className:"flex justify-between items-center text-xs",children:[t.jsx("span",{className:`font-bold px-2 py-0.5 rounded ${S.resultStatus===""?"bg-green-100 text-green-700":S.resultStatus===""?"bg-red-100 text-red-700":S.resultStatus===""?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:S.resultStatus}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-500 truncate max-w-[150px]",children:S.resultNote}),t.jsx("button",{onClick:()=>{const T=e.map(H=>H.id===S.id?{...H,resultStatus:void 0,resultNote:void 0}:H);n(T)},className:"text-gray-400 hover:text-gray-600 underline whitespace-nowrap",children:""})]})]}):t.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar pb-1",children:[t.jsx("span",{className:"text-xs text-blue-400 font-bold flex-shrink-0",children:":"}),["","","",""].map(T=>t.jsx("button",{type:"button",onClick:()=>{const H=prompt(`${T}     ():`),de=e.map(h=>h.id===S.id?{...h,resultStatus:T,resultNote:H||""}:h);n(de)},className:`text-[10px] px-2 py-1 rounded border flex-shrink-0 transition-colors ${T===""?"border-green-200 text-green-700 hover:bg-green-50":T===""?"border-red-200 text-red-700 hover:bg-red-50":T===""?"border-blue-200 text-blue-700 hover:bg-blue-50":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:T},T)),b===S.id?t.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[t.jsx("button",{onClick:()=>G(S.id),className:"text-green-600 text-xs font-bold",children:""}),t.jsx("button",{onClick:()=>y(null),className:"text-red-500 text-xs",children:""})]}):t.jsx("button",{onClick:()=>y(S.id),className:"text-red-500 p-1 hover:bg-red-50 rounded flex-shrink-0",title:" ",children:t.jsx(ye,{size:16})})]})})]},S.id))})]}),t.jsxs("div",{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-yellow-800 mb-1",children:"  "}),t.jsx("textarea",{className:"w-full p-2 border border-yellow-300 rounded bg-white h-[60px] text-sm focus:ring-1 focus:ring-yellow-500 outline-none",value:I,onChange:S=>$(S.target.value),placeholder:"   ..."}),t.jsx("button",{onClick:J,className:"w-full mt-1 bg-yellow-100 text-yellow-800 border border-yellow-300 px-3 py-1.5 rounded text-xs font-bold hover:bg-yellow-200",children:"  "})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("label",{className:"block text-xs font-medium text-yellow-800 mb-2",children:["  (",r.length,")"]}),t.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-2 bg-yellow-100/30 p-2 rounded",children:[Q.length===0&&t.jsx("p",{className:"text-center text-xs text-gray-500 py-4",children:"   ."}),Q.map(S=>t.jsxs("div",{className:"bg-white p-3 rounded text-xs shadow-sm border border-yellow-100",children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsx("p",{className:"font-bold text-gray-500 text-[10px]",children:Te(new Date(S.createdAt),"yyyy-MM-dd HH:mm")}),t.jsx("div",{className:"flex gap-1",children:j===S.id?t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:Y,className:"text-green-600 hover:bg-green-50 p-1 rounded",title:"",children:t.jsx(vn,{size:14})}),t.jsx("button",{type:"button",onClick:()=>v(null),className:"text-gray-400 hover:bg-gray-100 p-1 rounded",title:"",children:t.jsx(lt,{size:14})})]}):k===S.id?t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:()=>q(S.id),className:"text-green-600 hover:bg-green-50 p-1 rounded font-bold",title:"",children:""}),t.jsx("button",{type:"button",onClick:()=>M(null),className:"text-red-500 hover:bg-red-50 p-1 rounded",title:"",children:""})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:()=>{v(S.id),D(S.content)},className:"text-blue-500 hover:bg-blue-50 p-1 rounded",title:"",children:t.jsx(Le,{size:14})}),t.jsx("button",{type:"button",onClick:()=>M(S.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",title:"",children:t.jsx(ye,{size:14})})]})})]}),j===S.id?t.jsx("textarea",{className:"w-full p-1 border rounded text-xs h-20",value:C,onChange:T=>D(T.target.value)}):t.jsx("p",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:S.content})]},S.id))]})]})]})]})]})},$t=e=>{if(!e||isNaN(e))return"00:00";const r=Math.floor(e/60),n=Math.floor(e%60);return`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},Eo=({src:e,fileName:r})=>{const n=o.useRef(null),[s,a]=o.useState(!1),[l,i]=o.useState(0),[c,f]=o.useState(0),[d,m]=o.useState(!1);o.useEffect(()=>{a(!1),f(0),i(0),m(!1),n.current&&(n.current.currentTime=0,n.current.load())},[e]);const x=()=>{if(n.current){if(s)n.current.pause();else{const j=n.current.play();j!==void 0&&j.catch(v=>{console.error("Playback failed",v),m(!0)})}a(!s)}},p=()=>{n.current&&f(n.current.currentTime)},u=()=>{n.current&&(i(n.current.duration),m(!1))},w=j=>{const v=Number(j.target.value);n.current&&(n.current.currentTime=v,f(v))},g=j=>{n.current&&(n.current.currentTime+=j)},N=()=>{m(!0),a(!1)},b=e.includes("drive.google.com"),y=j=>{if(!j.includes("drive.google.com"))return j;let v="";const C=j.match(/\/file\/d\/([a-zA-Z0-9_-]+)/);if(C)v=C[1];else{const D=j.match(/[?&]id=([a-zA-Z0-9_-]+)/);D&&(v=D[1])}return v?`https://drive.google.com/file/d/${v}/preview`:j};return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-purple-100 p-4 w-full",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"bg-purple-100 p-1.5 rounded-full text-purple-600",children:t.jsx(Bn,{size:16})}),t.jsx("span",{className:"text-sm font-bold text-gray-700 truncate flex-1",children:r||"  "})]}),b?t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"relative w-full h-[100px] bg-gray-100 rounded-lg overflow-hidden border border-gray-200",children:t.jsx("iframe",{src:y(e),className:"w-full h-full border-none",title:"Audio Preview",allow:"autoplay"})}),t.jsxs("div",{className:"flex justify-end items-center gap-2",children:[t.jsx("span",{className:"text-[10px] text-gray-400",children:"*       ."}),t.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-purple-50 text-purple-700 px-2 py-1 rounded font-bold hover:bg-purple-100 transition-colors",children:"  "})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("audio",{ref:n,src:e,onTimeUpdate:p,onLoadedMetadata:u,onEnded:()=>a(!1),onError:N}),d?t.jsxs("div",{className:"bg-red-50 text-red-600 text-xs p-3 rounded flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(gn,{size:14}),"    ."]}),t.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"underline font-bold",children:" "})]}):t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("input",{type:"range",min:0,max:l||100,value:c,onChange:w,className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-600 hover:h-2 transition-all",style:{background:`linear-gradient(to right, #9333ea ${c/(l||1)*100}%, #e5e7eb ${c/(l||1)*100}%)`}}),t.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 font-mono mt-1",children:[t.jsx("span",{children:$t(c)}),t.jsx("span",{children:$t(l)})]})]}),t.jsxs("div",{className:"flex justify-center items-center gap-6",children:[t.jsx("button",{onClick:()=>g(-10),className:"text-gray-400 hover:text-purple-600 transition-colors p-2 hover:bg-purple-50 rounded-full",title:"10 ",children:t.jsx($n,{size:20})}),t.jsx("button",{onClick:x,className:"bg-purple-600 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:bg-purple-700 hover:scale-105 transition-all",children:s?t.jsx(Pn,{size:24,fill:"currentColor"}):t.jsx(On,{size:24,fill:"currentColor",className:"ml-1"})}),t.jsx("button",{onClick:()=>g(30),className:"text-gray-400 hover:text-purple-600 transition-colors p-2 hover:bg-purple-50 rounded-full",title:"30 ",children:t.jsx(zn,{size:20})})]})]})]})]})},ko=({c:e,aiSummaryText:r,setAiSummaryText:n,aiSummaryEditMode:s,setAiSummaryEditMode:a,handleUpdateAiSummaryText:l,handleDeleteAiSummary:i,handleSaveSummaryToMemo:c,currentAudioFile:f,audioUrl:d,isFileUploading:m,isAiLoading:x,onAudioFileSelect:p,onTriggerAudioInput:u,onGenerateAiSummary:w,onPlayRecording:g,onDeleteRecording:N})=>{var j,v;const b=o.useRef(null),y=()=>{var C;(C=b.current)==null||C.click()};return t.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsxs("h3",{className:"font-bold text-purple-800 flex items-center gap-2",children:[t.jsx(et,{size:18,className:"flex-shrink-0"}),t.jsxs("div",{className:"flex flex-col leading-none",children:[t.jsx("span",{children:"AI  "}),t.jsx("span",{children:"& "})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"file",ref:b,className:"hidden",accept:"audio/*",onChange:p}),t.jsxs("button",{onClick:y,disabled:m,className:"flex items-center gap-1 text-xs px-2 py-1.5 rounded border "+(f?"bg-green-100 text-green-700 border-green-300":"bg-white text-gray-600 border-gray-300")+(m?" opacity-50 cursor-not-allowed":""),children:[t.jsx(An,{size:14,className:"flex-shrink-0"}),t.jsx("span",{className:"text-center leading-tight",children:m?"...":f?" ":t.jsxs(t.Fragment,{children:["",t.jsx("br",{}),""]})})]}),t.jsx("button",{onClick:w,disabled:x,className:"flex items-center gap-1 text-xs bg-purple-600 text-white px-3 py-1.5 rounded font-bold hover:bg-purple-700 disabled:opacity-50 transition-colors shadow-sm",children:x?" ...":t.jsxs("span",{className:"text-center leading-tight",children:["",t.jsx("br",{}),""]})})]})]}),t.jsx("div",{className:"mb-4",children:(d||f)&&t.jsx(Eo,{src:d&&d.includes("drive.google.com")?nn(d):d||"",fileName:f?f.name:`  (ID: ${(v=(j=e.recordings)==null?void 0:j.find(C=>C.url===d))==null?void 0:v.id.substring(0,8)}...)`})}),e.recordings&&e.recordings.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("h4",{className:"text-xs font-bold text-gray-600 mb-2 flex items-center",children:[t.jsx(jn,{size:12,className:"mr-1"}),"  "]}),t.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto no-scrollbar",children:e.recordings.map(C=>t.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded border border-gray-200 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[t.jsx(En,{size:16,className:"text-blue-500 cursor-pointer flex-shrink-0",onClick:()=>g(C)}),t.jsxs("div",{className:"truncate",children:[t.jsx("span",{className:"font-medium",children:C.filename}),t.jsx("span",{className:"text-gray-400 text-[10px] ml-1",children:Te(new Date(C.uploadDate),"yy.MM.dd HH:mm")})]})]}),t.jsx("button",{onClick:()=>N(C.id),className:"text-gray-400 hover:text-red-500",children:t.jsx(lt,{size:14})})]},C.id))})]}),t.jsx("div",{className:"bg-white p-3 rounded-lg border border-purple-100 shadow-sm relative min-h-[80px]",children:s?t.jsxs("div",{className:"space-y-2",children:[t.jsx("textarea",{className:"w-full h-32 p-2 text-sm border border-purple-200 rounded focus:outline-none focus:ring-1 focus:ring-purple-500",value:r||"",onChange:C=>n(C.target.value)}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:l,className:"text-xs bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",children:""}),t.jsx("button",{onClick:()=>a(!1),className:"text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded hover:bg-gray-300",children:""})]})]}):t.jsxs("div",{className:"group",children:[t.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>a(!0),className:"p-1 text-blue-500 hover:bg-blue-50 rounded",title:"",children:t.jsx(Le,{size:14})}),t.jsx("button",{onClick:i,className:"p-1 text-red-500 hover:bg-red-50 rounded",title:"",children:t.jsx(ye,{size:14})})]}),t.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed pr-10",children:r||t.jsx("span",{className:"text-gray-400",children:"   .         ."})})]})}),r&&!s&&t.jsx("div",{className:"mt-3 flex justify-end",children:t.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-xs bg-indigo-50 text-indigo-700 px-3 py-2 rounded font-bold hover:bg-indigo-100 border border-indigo-200 transition-colors",children:[t.jsx(Vt,{size:14}),"    ( )"]})})]})},z=({label:e,value:r,onChange:n,onBlur:s,type:a="text",placeholder:l="",suffix:i="",readOnly:c=!1,isPhone:f=!1,isCurrency:d=!1,className:m="",updateOnBlur:x=!1})=>{const[p,u]=pt.useState(r);pt.useEffect(()=>{u(r)},[r]);const w=x?p:r,g=y=>a==="number"&&!d&&(y===0||y===void 0||y===null)?"":d&&(typeof y=="number"||!isNaN(Number(y)))?Number(y).toLocaleString():y,N=y=>{let j=y.target.value;if(f){const v=j.replace(/[^0-9]/g,"");let C=v;v.length>3&&v.length<=7?C=`${v.slice(0,3)}-${v.slice(3)}`:v.length>7&&(C=`${v.slice(0,3)}-${v.slice(3,7)}-${v.slice(7,11)}`),x?u(C):n(C);return}if(d){const v=j.replace(/,/g,"");if(v===""||/^[0-9]+$/.test(v)){const C=v===""?0:Number(v);x?u(C):n(C)}return}if(a==="number"){if(j===""||/^[0-9]+$/.test(j)){const v=j===""?0:Number(j);x?u(v):n(v)}}else x?u(j):n(j)},b=()=>{x&&p!==r&&n(p),s&&s()};return t.jsxs("div",{className:`mb-4 ${m}`,children:[e&&t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:e}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",autoComplete:"off",className:"w-full p-2 border border-blue-300 rounded text-sm outline-none "+(c?"bg-gray-100 text-gray-500 cursor-not-allowed":"focus:ring-1 focus:ring-blue-500"),value:g(w)||"",onChange:c?void 0:N,onBlur:b,placeholder:l,readOnly:c}),i&&t.jsx("span",{className:"absolute right-3 top-2 text-gray-500 text-xs",children:i})]})]})},Z=({label:e,value:r,onChange:n,options:s,isMulti:a=!1,className:l=""})=>t.jsxs("div",{className:`mb-4 ${l}`,children:[e&&t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:e}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:s.map(i=>{const c=a?r==null?void 0:r.includes(i):r===i;return t.jsx("button",{type:"button",onClick:()=>n(i),className:"px-3 py-1.5 text-xs rounded border "+(c?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:i},i)})})]}),Ro=({c:e,partners:r,inboundPaths:n,onUpdate:s,statusLogs:a})=>{var l;return t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:" ()"}),t.jsx("select",{className:"w-full p-2 border border-gray-300 rounded text-sm bg-gray-50",value:e.partnerId,onChange:i=>s("partnerId",i.target.value),children:r.map(i=>t.jsx("option",{value:i.partnerId,children:i.name},i.partnerId))})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:" "}),t.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500 outline-none",value:e.inboundPath,onChange:i=>s("inboundPath",i.target.value),children:[t.jsx("option",{value:"",children:""}),n.map(i=>t.jsx("option",{value:i,children:i},i))]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"   (  )"}),t.jsx("div",{className:"w-full p-2 border border-gray-200 rounded text-sm bg-gray-50 min-h-[40px] "+(e.preInfo?"text-gray-800":"text-gray-400"),children:e.preInfo?e.preInfo.split(/\s\/\s|\n/).filter(i=>{const c=i.toLowerCase();return!c.includes("[referrer]")&&!c.includes("[marketing_consent]")&&!c.includes("[third_party_consent]")&&!c.includes("[user_agent]")&&i.trim()!==""}).map((i,c)=>t.jsxs("div",{className:"flex items-start gap-1",children:[t.jsx("span",{className:"text-blue-500 font-bold",children:"*"}),t.jsx("span",{children:i.trim()})]},c)):t.jsx("span",{className:"text-gray-400 italic",children:"  "})})]}),a.length>0&&t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 mb-6",children:[t.jsxs("h4",{className:"font-bold text-blue-800 mb-3 flex items-center gap-2",children:[t.jsx(Bt,{size:16}),"   "]}),t.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:a.map(i=>t.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-100 shadow-sm text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold text-gray-400 line-through text-xs px-2 py-0.5 bg-gray-100 rounded",children:i.fromStatus}),t.jsx("span",{className:"text-gray-400",children:""}),t.jsx("span",{className:"font-bold text-blue-600 text-xs px-2 py-0.5 bg-blue-50 rounded border border-blue-100",children:i.toStatus})]}),t.jsx("span",{className:"text-[10px] text-gray-400",children:Te(new Date(i.changedAt),"yy.MM.dd HH:mm")})]}),i.memo&&t.jsx("div",{className:"mt-2 text-gray-600 bg-gray-50 p-2 rounded text-xs leading-relaxed",children:i.memo}),t.jsx("div",{className:"mt-1 text-right",children:t.jsxs("span",{className:"text-[10px] text-gray-400",children:["Changed by ",i.changedBy]})})]},i.logId))})]}),t.jsx(z,{label:" ",value:e.createdAt?Te(new Date(e.createdAt),"yyyy-MM-dd HH:mm"):"-",readOnly:!0,onChange:()=>{}}),t.jsx("div",{className:"mb-4",children:t.jsx(Z,{label:" ",value:e.caseType,onChange:i=>s("caseType",i),options:Hr})}),t.jsx(z,{label:"",value:e.customerName,onChange:i=>s("customerName",i),updateOnBlur:!0}),t.jsx(z,{label:"",value:e.phone,onChange:i=>s("phone",i),placeholder:"010-0000-0000",isPhone:!0,updateOnBlur:!0}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(z,{label:" (2)",value:e.birth,onChange:i=>s("birth",i),onBlur:()=>{const i=sn(e.birth);i!==e.birth&&s("birth",i)},placeholder:": 77",suffix:((l=e.birth)==null?void 0:l.length)===4?"":"",updateOnBlur:!0}),t.jsx(Z,{label:"",value:e.gender,onChange:i=>s("gender",i),options:["",""]})]})]})},Ao=({c:e,onUpdate:r,onIncomeChange:n,onJobTypeChange:s})=>{var a,l,i,c;return t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:" / "}),t.jsx(Z,{label:" ( )",value:e.jobTypes,onChange:s,options:Wr,isMulti:!0}),((a=e.jobTypes)==null?void 0:a.includes(""))&&t.jsx(z,{label:" ()",type:"number",value:e.incomeDetails.salary,onChange:f=>n("salary",f),isCurrency:!0,updateOnBlur:!0}),(((l=e.jobTypes)==null?void 0:l.includes(""))||((i=e.jobTypes)==null?void 0:i.includes("")))&&t.jsx(z,{label:" ()",type:"number",value:e.incomeDetails.business,onChange:f=>n("business",f),isCurrency:!0,updateOnBlur:!0}),((c=e.jobTypes)==null?void 0:c.includes(""))&&t.jsx(z,{label:" ()",type:"number",value:e.incomeDetails.freelance,onChange:f=>n("freelance",f),isCurrency:!0,updateOnBlur:!0}),t.jsx(Z,{label:"4",value:e.insurance4,onChange:f=>r("insurance4",f),options:["",""]}),t.jsx(Z,{label:"",value:e.maritalStatus,onChange:f=>r("maritalStatus",f),options:["","",""]}),e.maritalStatus!==""&&t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"  "}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:[0,1,2,3,4,5,6,7].map(f=>t.jsxs("button",{type:"button",onClick:()=>r("childrenCount",f),className:"px-3 py-1.5 text-xs rounded border "+(e.childrenCount===f?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:[f,""]},f))})]})]})},Do=({c:e,onUpdate:r})=>t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:""}),t.jsx(Z,{label:"",value:e.housingType,onChange:n=>r("housingType",n),options:Br}),t.jsx(Z,{label:"",value:e.housingDetail,onChange:n=>r("housingDetail",n),options:Vr}),e.housingType===""?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(z,{label:" ()",type:"number",value:e.ownHousePrice,onChange:n=>r("ownHousePrice",n),isCurrency:!0,updateOnBlur:!0}),t.jsx(z,{label:"  ()",type:"number",value:e.ownHouseLoan,onChange:n=>r("ownHouseLoan",n),isCurrency:!0,updateOnBlur:!0})]}),t.jsx(Z,{label:" ",value:e.ownHouseOwner,onChange:n=>r("ownHouseOwner",n),options:["",""," "]})]}):e.housingType===""?t.jsx(t.Fragment,{children:t.jsx(Z,{label:" ",value:e.freeHousingOwner,onChange:n=>r("freeHousingOwner",n),options:Kr})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(z,{label:"()",type:"number",value:e.deposit,onChange:n=>r("deposit",n),isCurrency:!0,updateOnBlur:!0}),t.jsx(z,{label:" ()",type:"number",value:e.depositLoanAmount,onChange:n=>r("depositLoanAmount",n),isCurrency:!0,updateOnBlur:!0})]}),t.jsx(z,{label:"()",type:"number",value:e.rent,onChange:n=>r("rent",n),isCurrency:!0,updateOnBlur:!0}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:" "}),t.jsx("div",{className:"flex gap-2",children:Gr.map(n=>t.jsx("button",{type:"button",onClick:()=>r("rentContractor",n),className:"flex-1 py-1.5 text-xs rounded border "+(e.rentContractor===n?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:n},n))})]})]}),t.jsx(z,{label:"",value:e.region,onChange:n=>r("region",n),updateOnBlur:!0})]}),Io=({c:e,onUpdate:r,showToast:n})=>{var p;const[s,a]=o.useState({owner:"",type:"",amount:0,loanAmount:0,rentDeposit:0,desc:""}),[l,i]=o.useState({desc:"",amount:0}),c=()=>{if(!s.amount&&!s.loanAmount){n("    .");return}const u={id:Date.now().toString(),owner:s.owner,type:s.type||"",amount:s.amount||0,loanAmount:s.loanAmount||0,rentDeposit:s.rentDeposit||0,desc:s.desc||""},w=e.assets||[];r("assets",[...w,u]),a({owner:"",type:"",amount:0,loanAmount:0,rentDeposit:0,desc:""})},f=u=>{r("assets",(e.assets||[]).filter(w=>w.id!==u))},d=()=>{if(!l.amount){n("  .");return}const u={id:Date.now().toString(),desc:l.desc||"",amount:l.amount||0},w=e.creditLoan||[];r("creditLoan",[...w,u]),i({desc:"",amount:0})},m=u=>{r("creditLoan",(e.creditLoan||[]).filter(w=>w.id!==u))},x=an(e);return t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:" / "}),t.jsxs("div",{className:"mb-6 bg-blue-50 p-4 rounded-lg border border-blue-200",children:[t.jsx("h4",{className:"font-bold text-gray-700 mb-2 text-xs",children:" "}),t.jsxs("div",{className:"space-y-2 mb-3",children:[(!e.assets||e.assets.length===0)&&t.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"  ."}),e.assets&&e.assets.map(u=>t.jsxs("div",{className:"bg-white p-2 rounded border flex justify-between items-center text-xs",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("span",{className:"font-bold text-blue-600 mr-2",children:["[",u.owner,"]"]}),t.jsx("span",{className:"font-semibold mr-2",children:u.type}),t.jsxs("span",{className:"text-gray-800 mr-2",children:[" ",u.amount>0?u.amount.toLocaleString()+" ":"0"]}),u.loanAmount>0&&t.jsxs("span",{className:"text-red-500 mr-2",children:[" ",u.loanAmount.toLocaleString(),""]}),u.rentDeposit&&u.rentDeposit>0&&t.jsxs("span",{className:"text-green-600 mr-2",children:[" ",u.rentDeposit.toLocaleString(),""]}),u.desc&&t.jsxs("span",{className:"text-gray-500",children:["(",u.desc,")"]})]}),t.jsx("button",{onClick:()=>f(u.id),className:"text-red-500 p-1",children:t.jsx(ye,{size:14})})]},u.id))]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsx("select",{className:"p-1.5 border rounded text-xs bg-white",value:s.owner,onChange:u=>a({...s,owner:u.target.value}),children:Yr.map(u=>t.jsx("option",{value:u,children:u},u))}),t.jsx("select",{className:"p-1.5 border rounded text-xs bg-white",value:s.type,onChange:u=>a({...s,type:u.target.value}),children:Ur.map(u=>t.jsx("option",{value:u,children:u},u))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsx(z,{label:"",type:"number",value:s.amount,onChange:u=>a({...s,amount:u}),placeholder:"",suffix:"",isCurrency:!0}),t.jsx(z,{label:"",type:"number",value:s.loanAmount,onChange:u=>a({...s,loanAmount:u}),placeholder:"",suffix:"",isCurrency:!0})]}),["",""].includes(s.type||"")&&t.jsx("div",{className:"mb-2",children:t.jsx(z,{label:"",type:"number",value:s.rentDeposit,onChange:u=>a({...s,rentDeposit:u}),placeholder:"",suffix:"",isCurrency:!0})}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",placeholder:"  (:  )",className:"flex-1 p-1.5 border rounded text-xs",value:s.desc||"",onChange:u=>a({...s,desc:u.target.value})}),t.jsxs("button",{type:"button",onClick:c,className:"w-24 bg-blue-600 text-white rounded text-xs font-bold flex justify-center items-center hover:bg-blue-700 flex-shrink-0",children:[t.jsx(tt,{size:14,className:"mr-1"})," "]})]})]}),t.jsxs("div",{className:"mb-6 bg-pink-50 p-4 rounded-lg border border-pink-200",children:[t.jsx("h4",{className:"font-bold text-gray-700 mb-2 text-xs",children:" "}),t.jsxs("div",{className:"space-y-2 mb-3",children:[(!e.creditLoan||e.creditLoan.length===0)&&t.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"  ."}),(p=e.creditLoan)==null?void 0:p.map(u=>t.jsxs("div",{className:"bg-white p-2 rounded border flex justify-between items-center text-xs",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"font-semibold mr-2",children:u.desc}),t.jsxs("span",{className:"text-gray-800",children:[u.amount.toLocaleString(),""]})]}),t.jsx("button",{type:"button",onClick:()=>m(u.id),className:"text-red-500 p-1",children:t.jsx(ye,{size:14})})]},u.id))]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsx("input",{type:"text",placeholder:"  (: )",className:"w-full p-1.5 border rounded text-xs col-span-2",value:l.desc||"",onChange:u=>i({...l,desc:u.target.value})}),t.jsx(z,{label:"",type:"number",value:l.amount,onChange:u=>i({...l,amount:u}),placeholder:"",suffix:"",isCurrency:!0}),t.jsx("div",{className:"flex items-center pb-4",children:t.jsxs("button",{type:"button",onClick:d,className:"w-full px-4 py-2 bg-blue-600 text-white rounded text-xs font-bold flex justify-center items-center hover:bg-blue-700 whitespace-nowrap h-[38px] mt-auto",children:[t.jsx(tt,{size:14,className:"mr-1"})," "]})})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"   (  + )"}),t.jsxs("div",{className:"bg-gray-50 p-2 rounded text-xs text-blue-800 font-medium mb-1",children:[" : ",x]}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500",value:e.collateralLoanMemo||"",onChange:u=>r("collateralLoanMemo",u.target.value),placeholder:"    "})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(Z,{label:" ",value:e.creditCardUse,onChange:u=>r("creditCardUse",u),options:["",""]}),e.creditCardUse===""&&t.jsx(z,{label:" ()",type:"number",value:e.creditCardAmount,onChange:u=>r("creditCardAmount",u),isCurrency:!0,updateOnBlur:!0})]}),t.jsx(z,{label:" ()",type:"number",value:e.loanMonthlyPay,onChange:u=>r("loanMonthlyPay",u),isCurrency:!0,updateOnBlur:!0})]})},Mo=({c:e,onUpdate:r})=>{const[n,s]=o.useState(e.historyMemo||"");o.useEffect(()=>{s(e.historyMemo||"")},[e.historyMemo]);const a=()=>{n!==e.historyMemo&&r("historyMemo",n)};return t.jsxs("div",{className:"mt-4",children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:" /  "}),t.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:qr.map(l=>t.jsx("button",{type:"button",onClick:()=>r("historyType",l),className:"px-3 py-1.5 text-xs rounded border "+(e.historyType===l?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:l},l))}),e.historyType&&e.historyType!==""&&t.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded text-sm h-24",value:n,onChange:l=>s(l.target.value),onBlur:a,placeholder:"   ."})]})},Po=({c:e,partners:r,inboundPaths:n,onUpdate:s,onIncomeChange:a,onJobTypeChange:l,reminders:i,memos:c,onUpdateReminders:f,onUpdateMemos:d,aiSummaryText:m,setAiSummaryText:x,aiSummaryEditMode:p,setAiSummaryEditMode:u,handleUpdateAiSummaryText:w,handleDeleteAiSummary:g,handleSaveSummaryToMemo:N,currentAudioFile:b,audioUrl:y,isFileUploading:j,isAiLoading:v,onAudioFileSelect:C,onTriggerAudioInput:D,onGenerateAiSummary:k,onPlayRecording:M,onDeleteRecording:I,statusLogs:$,showToast:F})=>t.jsxs("div",{className:"space-y-8",children:[t.jsx(So,{reminders:i,memos:c,onUpdateReminders:f,onUpdateMemos:d,showToast:F}),t.jsx(ko,{c:e,aiSummaryText:m,setAiSummaryText:x,aiSummaryEditMode:p,setAiSummaryEditMode:u,handleUpdateAiSummaryText:w,handleDeleteAiSummary:g,handleSaveSummaryToMemo:N,currentAudioFile:b,audioUrl:y,isFileUploading:j,isAiLoading:v,onAudioFileSelect:C,onTriggerAudioInput:D,onGenerateAiSummary:k,onPlayRecording:M,onDeleteRecording:I}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[t.jsx(Ro,{c:e,partners:r,inboundPaths:n,onUpdate:s,statusLogs:$}),t.jsx(Ao,{c:e,onUpdate:s,onIncomeChange:a,onJobTypeChange:l})]}),t.jsx("hr",{className:"border-gray-100"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[t.jsx(Do,{c:e,onUpdate:s}),t.jsx(Io,{c:e,onUpdate:s,showToast:F})]}),t.jsx(Mo,{c:e,onUpdate:s})]}),To=({c:e,currentPartner:r,aiSummaryText:n,setAiSummaryText:s,aiSummaryEditMode:a,setAiSummaryEditMode:l,handleUpdateAiSummaryText:i,handleSaveSummaryToMemo:c,showToast:f})=>{const[d,m]=o.useState(""),[x,p]=o.useState(!1);return t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 h-full min-h-[400px] md:min-h-[500px]",children:[t.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex flex-col h-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[t.jsx(Wt,{size:18}),"  "]}),t.jsx("div",{className:"flex gap-2",children:x?t.jsx(t.Fragment,{children:t.jsx("button",{onClick:()=>p(!1),className:"text-xs bg-gray-200 text-gray-700 px-3 py-1.5 rounded hover:bg-gray-300",children:""})}):t.jsxs("button",{onClick:()=>{m(Be(e,r==null?void 0:r.summaryTemplate)),p(!0)},className:"text-xs bg-gray-100 text-gray-600 px-3 py-1.5 rounded hover:bg-gray-200 flex items-center gap-1",children:[t.jsx(Le,{size:12})," "]})})]}),t.jsx("div",{className:"flex-1 relative h-full",children:x?t.jsx("textarea",{className:"w-full h-full p-4 border rounded-lg text-sm leading-relaxed resize-none focus:ring-2 focus:ring-blue-500 outline-none min-h-[200px] md:min-h-[250px] max-h-[400px] md:max-h-[500px] overflow-y-auto",value:d,onChange:u=>m(u.target.value)}):t.jsx("div",{className:"w-full h-full p-4 bg-gray-50 rounded-lg text-sm whitespace-pre-wrap leading-relaxed border border-gray-100 overflow-y-auto min-h-[200px] md:min-h-[250px] max-h-[400px] md:max-h-[500px]",children:Be(e,r==null?void 0:r.summaryTemplate)})}),t.jsx("div",{className:"mt-4 flex justify-center",children:t.jsxs("button",{onClick:()=>{const u=x?d:Be(e,r==null?void 0:r.summaryTemplate);navigator.clipboard.writeText(u),f(".")},className:"bg-gray-800 text-white px-6 py-3 rounded-lg font-bold flex items-center hover:bg-gray-900 w-full justify-center",children:[t.jsx(vt,{className:"mr-2",size:16}),"  "]})})]}),t.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl border border-purple-100 shadow-sm flex flex-col h-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsxs("h3",{className:"font-bold text-purple-800 flex items-center gap-2",children:[t.jsx(et,{size:18})," AI "]}),t.jsx("div",{className:"flex gap-2",children:a?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:i,className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded hover:bg-green-700 font-bold",children:""}),t.jsx("button",{onClick:()=>l(!1),className:"text-xs bg-gray-200 text-gray-700 px-3 py-1.5 rounded hover:bg-gray-300",children:""})]}):t.jsxs("button",{onClick:()=>{s(ht(n||"",e)),l(!0)},className:"text-xs bg-purple-100 text-purple-700 px-3 py-1.5 rounded hover:bg-purple-200 flex items-center gap-1",children:[t.jsx(Le,{size:12})," "]})})]}),t.jsx("div",{className:"flex-1 relative h-full",children:n?a?t.jsx("textarea",{className:"w-full h-full p-4 border border-purple-200 rounded-lg text-sm leading-relaxed resize-none focus:ring-2 focus:ring-purple-500 outline-none min-h-[200px] md:min-h-[250px] max-h-[400px] md:max-h-[500px] overflow-y-auto",value:n,onChange:u=>s(u.target.value)}):t.jsx("div",{className:"w-full h-full p-4 bg-white rounded-lg text-sm whitespace-pre-wrap leading-relaxed border border-purple-100 overflow-y-auto cursor-text hover:bg-purple-50/50 transition-colors min-h-[200px] md:min-h-[250px] max-h-[400px] md:max-h-[500px]",onClick:()=>{s(ht(n,e)),l(!0)},children:n}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 gap-4 min-h-[200px]",children:[t.jsx(et,{size:48,className:"opacity-20"}),t.jsxs("p",{className:"text-center text-sm",children:["AI   .",t.jsx("br",{}),"' '    ",t.jsx("br",{}),"AI  ."]}),t.jsx("p",{className:"text-center text-xs text-purple-500",children:"     ."})]})}),n&&t.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(n),f(".")},className:"bg-gray-700 text-white px-4 py-3 rounded-lg font-bold flex items-center justify-center hover:bg-gray-800 shadow-sm transition-all active:scale-95 text-xs md:text-sm",children:[t.jsx(vt,{className:"mr-2",size:16}),"  "]}),t.jsxs("button",{onClick:c,className:"bg-indigo-600 text-white px-4 py-3 rounded-lg font-bold flex items-center justify-center hover:bg-indigo-700 w-full shadow-sm transition-all active:scale-95 text-xs md:text-sm",children:[t.jsx(Vt,{className:"mr-2",size:16}),"  "]})]}),t.jsx("p",{className:"text-[10px] text-center text-purple-400",children:"*   ''    ."})]})]})]})},Lo=({c:e,commission:r,onUpdate:n})=>{var s;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-green-50 p-6 rounded-xl border border-green-100",children:[t.jsx("h3",{className:"font-bold text-green-800 mb-4 text-lg",children:"  "}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-green-900 mb-1",children:" ()"}),t.jsx("input",{type:"date",className:"w-full p-2 border border-green-300 rounded",value:e.contractAt||"",onChange:a=>n("contractAt",a.target.value)})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-bold text-green-900 mb-1 flex items-center justify-between",children:[" ",t.jsxs("label",{className:"flex items-center gap-1 cursor-pointer text-blue-600 bg-white px-2 py-0.5 rounded border border-blue-100",children:[t.jsx("input",{type:"checkbox",className:"form-checkbox h-3 w-3",checked:e.useCapital||!1,onChange:a=>n("useCapital",a.target.checked)}),t.jsx("span",{className:"text-xs",children:" "})]})]}),t.jsxs("select",{className:"w-full p-2 border border-green-300 rounded bg-white",value:e.installmentMonths||"",onChange:a=>n("installmentMonths",a.target.value),children:[t.jsx("option",{value:"",children:""}),!e.useCapital&&t.jsx("option",{value:"",children:""}),Array.from({length:8},(a,l)=>l+1).map(a=>e.useCapital||a>=2?t.jsxs("option",{value:`${a} `,children:[a,""]},a):null)]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-green-900 mb-1",children:"  ()"}),t.jsx(z,{type:"number",value:e.contractFee||0,onChange:a=>n("contractFee",Number(a)),updateOnBlur:!0,className:"text-lg font-bold",placeholder:"0"}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-green-200 flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-green-700 font-medium",children:"  (Commission):"}),t.jsxs("span",{className:"text-xl font-bold text-green-900",children:[r.toLocaleString(),""]})]})]})]})]}),t.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"font-bold text-gray-700 text-lg",children:" "}),t.jsxs("button",{onClick:()=>{const l=[...e.depositHistory&&e.depositHistory.length>0?e.depositHistory:[{date:e.deposit1Date||"",amount:e.deposit1Amount||0},{date:e.deposit2Date||"",amount:e.deposit2Amount||0}],{date:"",amount:0}];n("depositHistory",l)},className:"flex items-center gap-1 bg-blue-600 text-white px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-blue-700 shadow-sm",children:[t.jsx(tt,{size:16}),"  (",(((s=e.depositHistory)==null?void 0:s.length)||2)+1,")"]})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:(e.depositHistory&&e.depositHistory.length>0?e.depositHistory:[{date:e.deposit1Date||"",amount:e.deposit1Amount||0},{date:e.deposit2Date||"",amount:e.deposit2Amount||0}]).map((a,l)=>t.jsxs("div",{className:"bg-white p-4 rounded border border-gray-200 shadow-sm relative group",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("h4",{className:"font-bold text-gray-600 text-sm",children:[l+1," "]}),l>=2&&t.jsx("button",{onClick:()=>{const c=(e.depositHistory||[]).filter((f,d)=>d!==l);n("depositHistory",c)},className:"text-gray-400 hover:text-red-500",children:t.jsx(lt,{size:16})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:" ()"}),t.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded text-sm font-bold",value:a.amount||"",onChange:i=>{const c=e.depositHistory&&e.depositHistory.length>0?[...e.depositHistory]:[{date:e.deposit1Date||"",amount:e.deposit1Amount||0},{date:e.deposit2Date||"",amount:e.deposit2Amount||0}];c[l].amount=Number(i.target.value),n("depositHistory",c)}})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:""}),t.jsx("input",{type:"date",className:"w-full p-2 border border-gray-300 rounded text-sm",value:a.date||"",onChange:i=>{const c=e.depositHistory&&e.depositHistory.length>0?[...e.depositHistory]:[{date:e.deposit1Date||"",amount:e.deposit1Amount||0},{date:e.deposit2Date||"",amount:e.deposit2Amount||0}];c[l].date=i.target.value,n("depositHistory",c)}})]})]})]},l))}),t.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-between items-center",children:[t.jsx("span",{className:"font-bold text-gray-700",children:"  "}),t.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[(e.depositHistory&&e.depositHistory.length>0?e.depositHistory.reduce((a,l)=>a+(l.amount||0),0):(e.deposit1Amount||0)+(e.deposit2Amount||0)).toLocaleString()," "]})]})]})]})};function Go(){const{caseId:e}=Xr(),r=e,n=zt(),{data:s,isLoading:a,error:l}=Zr(r),{data:i=[]}=Jr(),{data:c=[]}=Qr(),{data:f=[]}=en(),d=tn(),[m,x]=o.useState("info"),[p,u]=o.useState(null),[w,g]=o.useState(!1),[N,b]=o.useState(!1),[y,j]=o.useState(null),[v,C]=o.useState(""),[D,k]=o.useState([]),[M,I]=o.useState(null),[$,F]=o.useState(!1),[G,J]=o.useState(!1),[Y,q]=o.useState(null),[X,Q]=o.useState(null),[S,T]=o.useState(!1);o.useEffect(()=>{s&&(I(s.aiSummary||null),s.status===" "?k([" "," "," "," "]):k([]))},[s]),o.useEffect(()=>{s&&!s.isViewed&&E("isViewed",!0)},[s]);const H=i.find(A=>A.partnerId===(s==null?void 0:s.partnerId)),de=s?on(s.contractFee||0,(H==null?void 0:H.commissionRules)||[]):0,h=(A,O="success")=>{u({msg:A,type:O}),setTimeout(()=>u(null),3e3)};o.useEffect(()=>{const A=O=>{(O.metaKey||O.ctrlKey)&&O.key==="k"&&(O.preventDefault(),g(!0))};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[]);const E=(A,O)=>{s&&d.mutate({id:s.caseId,updates:{[A]:O},silent:!0})},P=(A,O)=>{if(!s)return;const fe={...s.incomeDetails,[A]:O};E("incomeDetails",fe)},R=A=>{if(!s)return;let O=s.jobTypes?[...s.jobTypes]:[];O.includes(A)?O=O.filter(fe=>fe!==A):O.push(A),E("jobTypes",O)},L=A=>{E("reminders",A)},_=A=>{E("specialMemo",A)},V=A=>{k(A===" "?[" "," "," "," "]:[]);const O={logId:Date.now().toString(),fromStatus:s.status,toStatus:A,changedAt:new Date().toISOString(),changedBy:"User",memo:""};d.mutate({id:s.caseId,updates:{status:A,statusLogs:[O,...s.statusLogs||[]]}}),h(` ${A}() .`)},W=A=>{A!==(s==null?void 0:s.secondaryStatus)&&(j(A),C(""),b(!0))},ue=()=>{if(!s||!y)return;const A={logId:Date.now().toString(),fromStatus:`${s.status} (${s.secondaryStatus||""})`,toStatus:`${s.status} (${y})`,changedAt:new Date().toISOString(),changedBy:"User",memo:v};E("secondaryStatus",y),E("statusLogs",[A,...s.statusLogs||[]]),b(!1),j(null),h("2  .")},kr=async A=>{if(A.target.files&&A.target.files[0]){const O=A.target.files[0];q(O),Q(URL.createObjectURL(O)),T(!0);try{await new Promise(Mr=>setTimeout(Mr,1500));const fe={id:Date.now().toString(),filename:O.name,url:URL.createObjectURL(O),uploadDate:new Date().toISOString(),mimeType:O.type||"audio/mp3",duration:0};E("recordings",[fe,...(s==null?void 0:s.recordings)||[]]),h("  .")}catch{h("  ","error")}finally{T(!1)}}},Rr=async()=>{if(!Y&&!X){h("   .","error");return}J(!0);try{const A=await ln(Y||new File([],"mock.mp3"));I(A),F(!0),E("aiSummary",A),h("AI  .")}catch(A){console.error(A),h("AI     .","error")}finally{J(!1)}},ft=()=>{M&&(E("aiSummary",M),F(!1),h("AI  ."))},Ar=()=>{window.confirm("AI  ?")&&(I(null),E("aiSummary",null),h("."))},mt=()=>{if(!M)return;const A=`[AI  ] 
${M.slice(0,200)}...`,O={id:Date.now().toString(),createdAt:new Date().toISOString(),content:A};_([O,...(s==null?void 0:s.specialMemo)||[]]),h("  .")},Dr=A=>{Q(A.url),q(null)},Ir=A=>{window.confirm("  ?")&&E("recordings",((s==null?void 0:s.recordings)||[]).filter(O=>O.id!==A))};return a?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"  ..."}):a?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"  ..."}):l||!s?t.jsxs("div",{className:"p-8 text-center text-red-500 flex flex-col items-center gap-4",children:[t.jsx("p",{className:"text-xl font-bold",children:"    ."}),t.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",r]}),t.jsxs("div",{className:"text-xs bg-gray-100 p-2 rounded max-w-md break-all",children:["     .",t.jsx("br",{}),"   , (F5) ."]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:" "})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[t.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>n(-1),className:"p-2 hover:bg-gray-100 rounded-full text-gray-600 transition-colors",children:t.jsx(wn,{size:20})}),t.jsx("span",{className:"font-bold text-gray-700 text-lg",children:" "})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",title:"  (Cmd+K)",children:t.jsx(In,{size:20})})})]}),t.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-6 space-y-6",children:[t.jsx(Co,{c:s,partner:H,statuses:f,secondaryStatuses:D,onStatusChangeStart:V,onSecondaryStatusChangeStart:W}),N&&y!==null&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 w-[400px] shadow-xl border-t-4 border-purple-500",children:[t.jsx("h3",{className:"text-lg font-bold mb-4 text-purple-700",children:"2   "}),t.jsxs("p",{className:"mb-4 text-gray-700",children:["2  ",t.jsx("span",{className:"font-bold text-purple-600",children:s.secondaryStatus||""})," ",t.jsx("span",{className:"font-bold text-purple-600",children:y||""}),"() ?"]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),t.jsx("textarea",{className:"w-full p-2 border border-purple-200 rounded resize-none h-24 focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"   ...",value:v,onChange:A=>C(A.target.value)})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:()=>{b(!1),j(null)},className:"px-4 py-2 bg-gray-200 rounded text-gray-800 font-medium hover:bg-gray-300",children:""}),t.jsx("button",{onClick:ue,className:"px-4 py-2 bg-purple-600 rounded text-white font-medium hover:bg-purple-700",children:""})]})]})}),t.jsx("div",{className:"flex border-b border-gray-200 bg-white px-4 rounded-t-lg overflow-x-auto no-scrollbar",children:[{id:"info",label:" "},{id:"summary",label:""},{id:"settlement",label:"/"}].map(A=>t.jsx("button",{onClick:()=>x(A.id),className:"px-4 py-3 text-sm font-medium border-b-2 whitespace-nowrap "+(m===A.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:A.label},A.id))}),t.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-gray-100 border-t-0 min-h-[600px]",children:[m==="info"&&t.jsx(Po,{c:s,partners:i,inboundPaths:c,onUpdate:E,onIncomeChange:P,onJobTypeChange:R,reminders:s.reminders||[],memos:s.specialMemo||[],onUpdateReminders:L,onUpdateMemos:_,aiSummaryText:M,setAiSummaryText:I,aiSummaryEditMode:$,setAiSummaryEditMode:F,handleUpdateAiSummaryText:ft,handleDeleteAiSummary:Ar,handleSaveSummaryToMemo:mt,currentAudioFile:Y,audioUrl:X,isFileUploading:S,isAiLoading:G,onAudioFileSelect:kr,onTriggerAudioInput:()=>{},onGenerateAiSummary:Rr,onPlayRecording:Dr,onDeleteRecording:Ir,statusLogs:s.statusLogs||[],showToast:h}),m==="summary"&&t.jsx(To,{c:s,currentPartner:H,aiSummaryText:M,setAiSummaryText:I,aiSummaryEditMode:$,setAiSummaryEditMode:F,handleUpdateAiSummaryText:ft,handleSaveSummaryToMemo:mt,showToast:h}),m==="settlement"&&t.jsx(Lo,{c:s,commission:de,onUpdate:E})]})]}),p&&t.jsx("div",{className:`fixed bottom-24 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full shadow-lg text-white text-sm font-bold z-50 animate-fade-in-up ${p.type==="error"?"bg-red-500":"bg-gray-900"}`,children:p.msg}),t.jsx(No,{isOpen:w,onClose:()=>g(!1)})]})}export{Go as default};
