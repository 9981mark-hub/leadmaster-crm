import{c as T,n as X,a as te,g as se,t as ae,r as f,s as re,j as e,f as S,L as C,p as le,u as ne,b as de,d as oe,X as L}from"./index.CVlxKVCd.js";import{i as ie,a as _,g as W,b as ce,c as xe}from"./utils.D2PDrlh4.js";import{s as G,e as q,a as J,b as me,i as ge,P as he,c as ue,L as pe}from"./PieChart.x_MBVLgn.js";import{C as be}from"./chevron-left.C6x_xW9T.js";import{C as fe}from"./chevron-right.DWpwTxhm.js";import{E as A,M as Q,B as U,C as M}from"./Skeleton.tUAuMpFM.js";import{P}from"./phone.esvSBywN.js";import{R as V,B as ye,C as je,X as Ne,Y as we,T as Z,a as ve,b as ke}from"./BarChart.BcZ8BnOn.js";import{m as ee,C as R}from"./proxy.CVLposEN.js";import{W as H}from"./wallet.D1ZhcRfO.js";import"./index.IVLYfAte.js";import"./tiny-invariant.CSvvWF0j.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Se=T("calendar",Ce);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],K=T("clock",De);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$e=T("phone-call",Me);function Fe(c,s){const[d,a]=X(c,s.start,s.end);return{start:d,end:a}}function Ee(c,s){const{start:d,end:a}=Fe(s==null?void 0:s.in,c);let n=+d>+a;const x=n?+d:+a,r=n?a:d;r.setHours(0,0,0,0);let h=1;const m=[];for(;+r<=x;)m.push(te(d,r)),r.setDate(r.getDate()+h),r.setHours(0,0,0,0);return n?m.reverse():m}function ze(c,s){var h,m;const d=se(),a=d.weekStartsOn??((m=(h=d.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,n=ae(c,s==null?void 0:s.in),x=n.getDay(),r=(x<a?-7:0)+6-(x-a);return n.setDate(n.getDate()+r),n.setHours(23,59,59,999),n}function Ie(c,s,d){const[a,n]=X(d==null?void 0:d.in,c,s);return a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()}function Oe({cases:c,onDateSelect:s,selectedDate:d}){const[a,n]=f.useState(new Date),[x,r]=f.useState(null),h=()=>n(J(a,1)),m=()=>n(me(a,1)),v=()=>n(new Date),j=G(a),z=q(j),k=re(j),I=ze(z),F=Ee({start:k,end:I}),O=c.flatMap(o=>(o.reminders||[]).map(i=>({caseId:o.caseId,customerName:o.customerName,datetime:i.datetime,type:i.type||"í†µí™”",content:i.content||"",resultStatus:i.resultStatus}))),D=o=>O.filter(i=>{if(!i.datetime)return!1;const y=le(i.datetime,"yyyy-MM-dd HH:mm",new Date);return _(y,o)}).sort((i,y)=>(i.datetime||"").localeCompare(y.datetime||"")),B=o=>{switch(o){case"í†µí™”":return e.jsx(P,{size:12,className:"text-blue-600"});case"ì¶œìž¥ë¯¸íŒ…":return e.jsx(U,{size:12,className:"text-green-600"});case"ë°©ë¬¸ë¯¸íŒ…":return e.jsx(Q,{size:12,className:"text-purple-600"});case"ê¸°íƒ€":return e.jsx(A,{size:12,className:"text-gray-600"});default:return e.jsx(A,{size:12,className:"text-gray-600"})}};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-white",children:[e.jsx("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:e.jsx("span",{className:"text-xl",children:S(a,"yyyyë…„ Mì›”")})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:v,className:"px-3 py-1 text-xs font-medium bg-gray-100 rounded hover:bg-gray-200 text-gray-600",children:"ì˜¤ëŠ˜"}),e.jsxs("div",{className:"flex rounded-md border border-gray-200 bg-white",children:[e.jsx("button",{onClick:h,className:"p-1 hover:bg-gray-50 text-gray-600 border-r border-gray-200",children:e.jsx(be,{size:20})}),e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-50 text-gray-600",children:e.jsx(fe,{size:20})})]})]})]}),e.jsx("div",{className:"grid grid-cols-7 border-b border-gray-100 bg-gray-50",children:["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "].map((o,i)=>e.jsx("div",{className:`text-center py-2 text-xs font-semibold ${i===0?"text-red-500":"text-gray-500"}`,children:o},o))}),e.jsx("div",{className:"grid grid-cols-7 bg-gray-200 gap-px",children:F.map(o=>{const i=D(o),y=Ie(o,j),p=ie(o),E=d?_(o,d):!1;return e.jsxs("div",{onClick:()=>s&&s(o),onMouseEnter:()=>i.length>0&&r(o.toISOString()),onMouseLeave:()=>r(null),className:`p-1 md:p-2 flex flex-col gap-1 cursor-pointer transition-colors h-[80px] md:h-[140px] border border-gray-100 relative
                ${E?"bg-blue-50 ring-2 ring-blue-500 ring-inset z-10":y?"bg-white hover:bg-gray-50":"bg-gray-50 hover:bg-gray-100"}
              `,children:[x===o.toISOString()&&i.length>0&&e.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 z-50 w-64 bg-gray-900 text-white rounded-lg shadow-xl p-3 animate-fade-in",onMouseEnter:()=>r(o.toISOString()),onMouseLeave:()=>r(null),children:[e.jsxs("div",{className:"text-xs font-bold text-blue-300 mb-2 border-b border-gray-700 pb-1",children:[S(o,"Mì›” dì¼")," ì¼ì • (",i.length,"ê±´)"]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:i.map((l,N)=>{var t;return e.jsxs("div",{className:"text-xs border-l-2 border-blue-400 pl-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-mono font-bold text-yellow-300",children:(t=l.datetime)==null?void 0:t.split(" ")[1]}),e.jsx("span",{className:"px-1 py-0.5 rounded text-[10px] bg-gray-700",children:l.type})]}),e.jsx("div",{className:"font-medium text-white mt-0.5",children:l.customerName}),l.content&&e.jsxs("div",{className:"text-gray-400 mt-0.5 truncate",children:['"',l.content,'"']}),l.resultStatus&&e.jsxs("span",{className:"text-green-400 text-[10px]",children:["â†’ ",l.resultStatus]})]},N)})}),e.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-gray-900"})]}),e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:`text-xs font-medium w-6 h-6 flex items-center justify-center rounded-full
                    ${p?"bg-blue-600 text-white":E?"text-blue-700 font-bold":y?"text-gray-700":"text-gray-400"}`,children:S(o,"d")}),i.length>0&&e.jsx("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-1.5 rounded font-bold",children:i.length})]}),e.jsxs("div",{className:"md:hidden flex flex-wrap gap-1 content-end mt-auto px-1 pb-1",children:[i.slice(0,5).map((l,N)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${l.type==="ë°©ë¬¸ë¯¸íŒ…"?"bg-purple-500":l.type==="ì¶œìž¥ë¯¸íŒ…"?"bg-green-500":"bg-blue-500"}`},N)),i.length>5&&e.jsx("span",{className:"text-[8px] text-gray-400 text-xs",children:"+"})]}),e.jsx("div",{className:"hidden md:block h-[96px] overflow-y-auto no-scrollbar space-y-1 mt-1",children:i.map((l,N)=>{var b;const t=((b=l.datetime)==null?void 0:b.split(" ")[1])||"",g=l.customerName.length>4?l.customerName.substring(0,4)+"...":l.customerName;return e.jsx(C,{to:`/case/${l.caseId}`,className:`block text-[10px] px-1 py-0.5 rounded border border-transparent hover:border-blue-200 transition-colors truncate
                                ${p?"bg-blue-50 text-blue-700":"bg-white hover:bg-gray-50 text-gray-600"}
                            `,title:`${t} [${l.type}] ${l.customerName}`,children:e.jsxs("div",{className:"flex items-center gap-1 w-full",children:[e.jsx("span",{className:"font-mono font-bold text-gray-500 whitespace-nowrap",children:t}),e.jsx("div",{className:"flex-shrink-0 flex items-center",title:l.type,children:B(l.type)}),e.jsxs("span",{className:`font-medium truncate flex-1 text-left ${l.resultStatus==="ì™„ë£Œ"?"text-gray-400 line-through":""}`,children:[l.resultStatus==="ì™„ë£Œ"&&"âœ… ",l.resultStatus==="ë¯¸ì—°ê²°"&&"ðŸ“ž ",l.resultStatus==="ìž¬ì˜ˆì•½"&&"ðŸ”„ ",g]})]})},`${l.caseId}-${N}`)})})]},o.toISOString())})})]})}const Y=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#6B7280"],Be=({cases:c,isDark:s})=>{const d=f.useMemo(()=>{const a=new Date,n=Array.from({length:6},(r,h)=>{const m=J(a,5-h);return{name:S(m,"yyyy-MM"),start:G(m),end:q(m),count:0}});return c.filter(r=>r.status!=="íœ´ì§€í†µ").forEach(r=>{if(!r.createdAt)return;const h=new Date(r.createdAt),m=n.find(v=>ge(h,{start:v.start,end:v.end}));m&&m.count++}),n.map(r=>({name:S(r.start,"MMì›”"),ê±´ìˆ˜:r.count}))},[c]);return e.jsxs("div",{className:"h-[350px] w-full bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 transition-colors flex flex-col",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"ì›”ë³„ ì‹ ê·œ ì ‘ìˆ˜ ì¶”ì´"}),e.jsx("div",{className:"flex-1 w-full min-h-0",children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(ye,{data:d,margin:{top:5,right:30,left:10,bottom:5},children:[e.jsx(je,{strokeDasharray:"3 3",stroke:s?"#374151":"#E5E7EB"}),e.jsx(Ne,{dataKey:"name",stroke:s?"#9CA3AF":"#6B7280",tick:{fontSize:12}}),e.jsx(we,{stroke:s?"#9CA3AF":"#6B7280",tick:{fontSize:12}}),e.jsx(Z,{contentStyle:{backgroundColor:s?"#1F2937":"#FFFFFF",borderColor:s?"#374151":"#E5E7EB",color:s?"#F3F4F6":"#111827"}}),e.jsx(ve,{dataKey:"ê±´ìˆ˜",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})},Ae=({cases:c,isDark:s})=>{const d=f.useMemo(()=>{const a={};return c.filter(x=>x.status!=="íœ´ì§€í†µ").forEach(x=>{const r=x.status||"ë¯¸ë¶„ë¥˜";a[r]=(a[r]||0)+1}),Object.entries(a).map(([x,r])=>({name:x,value:r})).sort((x,r)=>r.value-x.value)},[c]);return e.jsxs("div",{className:"h-[350px] w-full bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 transition-colors flex flex-col",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2",children:"ì§„í–‰ ìƒíƒœ ë¶„í¬"}),e.jsx("div",{className:"flex-1 w-full min-h-0",children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(he,{children:[e.jsx(ue,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",label:({percent:a})=>a>.05?`${(a*100).toFixed(0)}%`:"",labelLine:!1,children:d.map((a,n)=>e.jsx(ke,{fill:Y[n%Y.length]},`cell-${n}`))}),e.jsx(Z,{contentStyle:{backgroundColor:s?"#1F2937":"#FFFFFF",borderColor:s?"#374151":"#E5E7EB",color:s?"#F3F4F6":"#111827"}}),e.jsx(pe,{layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{color:s?"#D1D5DB":"#374151",fontSize:"12px"}})]})})})]})},$=({title:c,count:s,color:d,icon:a,subText:n})=>e.jsxs(ee.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"glass-panel p-4 rounded-xl flex items-center justify-between transition-all h-full",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:c}),e.jsx("p",{className:`text-2xl font-bold ${d}`,children:s}),n&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n})]}),e.jsx("div",{className:`p-3 rounded-full bg-gray-50 dark:bg-gray-700 ${d.replace("text","text-opacity-20")}`,children:e.jsx(a,{size:24,className:d})})]});function Je(){const{theme:c}=ne(),[s,d]=f.useState([]),[a,n]=f.useState([]),[x,r]=f.useState(!0),[h,m]=f.useState(new Date),[v,j]=f.useState(!1),[z,k]=f.useState(!1);if(f.useEffect(()=>{Promise.all([de(),oe()]).then(([t,g])=>{d(t),n(g),r(!1)})},[]),x)return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pt-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(M,{}),e.jsx(M,{}),e.jsx(M,{}),e.jsx(M,{}),e.jsx(M,{})]}),e.jsx("div",{className:"h-64 glass-panel rounded-xl"})]});const I=localStorage.getItem("lm_missedStatus")||"ë¶€ìž¬",F=Number(localStorage.getItem("lm_missedInterval"))||3,O=s.filter(t=>{if(t.status!==I||!t.lastMissedCallAt)return!1;const g=new Date().getTime(),b=new Date(t.lastMissedCallAt).getTime();return g-b>F*24*60*60*1e3}).length,D=s.flatMap(t=>(t.reminders||[]).map(g=>({reminder:g,caseData:t}))),B=D.filter(t=>W(t.reminder.datetime)==="today"),o=D.filter(t=>W(t.reminder.datetime)==="overdue"&&!t.reminder.resultStatus),i=s.map(t=>{const g=a.find(u=>u.partnerId===t.partnerId),b=ce(t,g);return{caseData:t,warnings:b}}).filter(t=>t.warnings.length>0),y=i.map(t=>t.caseData);let p=null;a.length>0&&(p=xe(s,a[0]));const E=h?S(h,"yyyy-MM-dd"):"",l=D.filter(t=>t.reminder.datetime?t.reminder.datetime.startsWith(E):!1).sort((t,g)=>t.reminder.datetime.localeCompare(g.reminder.datetime)),N=t=>{const g=["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "];return`${t.getMonth()+1}ì›” ${t.getDate()}ì¼ (${g[t.getDay()]}) ì¼ì •`};return e.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"space-y-6 max-w-7xl mx-auto pb-4 md:pb-0",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"ëŒ€ì‹œë³´ë“œ"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx($,{title:"ì˜¤ëŠ˜ ë¦¬ë§ˆì¸ë”",count:B.length,color:"text-blue-600",icon:$e}),e.jsx("div",{onClick:()=>j(!0),className:"cursor-pointer hover:scale-[1.02] transition-transform h-full",children:e.jsx($,{title:"ì§€ì—°ëœ ë¦¬ë§ˆì¸ë”",count:o.length,color:"text-red-600",icon:K})}),e.jsx("div",{onClick:()=>k(!0),className:"cursor-pointer hover:scale-[1.02] transition-transform h-full",children:e.jsx($,{title:"ì¡°ì¹˜ í•„ìš” (ê²½ê³ )",count:y.length,color:"text-yellow-600",icon:R})}),e.jsx(C,{to:"/cases",onClick:()=>sessionStorage.setItem("lm_showOverdueMissed","true"),children:e.jsx($,{title:"ìž¬í†µí™” í•„ìš”",count:O,color:"text-orange-600",icon:P,subText:`${F}ì¼ ì´ìƒ ê²½ê³¼`})}),p&&e.jsx($,{title:p.isEligible?"ì§€ê¸‰ ì˜ˆì • ìˆ˜ë‹¹":"ëˆ„ì  ìž…ê¸ˆì•¡(ë¯¸ë‹¬ì„±)",count:p.isEligible?`${p.expectedCommission.toLocaleString()}ë§Œì›`:`${p.currentTotalDeposit.toLocaleString()}ë§Œì›`,color:p.isEligible?"text-green-600":"text-gray-400",icon:H,subText:p.isEligible?`ì§€ê¸‰ì¼: ${p.payoutDate}`:`ëª©í‘œ: ${p.threshold}ë§Œì›`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"ì˜ì—… í˜„í™©"}),e.jsx(C,{to:"/statistics",className:"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1 hover:underline",children:"ðŸ“Š ìƒì„¸ í†µê³„ ë³´ê¸° â†’"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx(Be,{cases:s,isDark:c==="dark"}),e.jsx(Ae,{cases:s,isDark:c==="dark"})]})]}),e.jsxs("div",{className:"glass-panel rounded-xl",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 bg-indigo-50/50 dark:bg-indigo-900/20 flex justify-between items-center rounded-t-xl",children:[e.jsxs("h3",{className:"font-bold text-indigo-900 dark:text-indigo-300 flex items-center gap-2",children:[e.jsx(Se,{size:20}),N(h)]}),e.jsx("span",{className:"text-xs bg-white/80 backdrop-blur text-indigo-600 px-3 py-1 rounded-full font-bold shadow-sm",children:l.length})]}),e.jsx("div",{className:"p-4 min-h-[150px] max-h-[300px] overflow-y-auto",children:l.length===0?e.jsx("div",{className:"flex flex-col items-center justify-center h-24 text-gray-400",children:e.jsx("p",{children:"ë“±ë¡ëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤."})}):e.jsx("div",{className:"grid gap-3",children:l.map((t,g)=>{const b=t.reminder.datetime.split(" ")[1],u=t.reminder.type||"í†µí™”";let w="bg-gray-100 text-gray-600";return u==="í†µí™”"?w="bg-blue-100 text-blue-700":u==="ì¶œìž¥ë¯¸íŒ…"?w="bg-green-100 text-green-700":u==="ë°©ë¬¸ë¯¸íŒ…"?w="bg-purple-100 text-purple-700":u==="ìž…ê¸ˆ"?w="bg-emerald-100 text-emerald-700":u==="ê¸°íƒ€"&&(w="bg-gray-100 text-gray-700"),e.jsx(C,{to:`/case/${t.caseData.caseId}`,className:"block group bg-gray-50 dark:bg-gray-700/50 hover:bg-white dark:hover:bg-gray-700 border border-transparent hover:border-indigo-200 rounded-lg p-3 transition-all shadow-sm hover:shadow-md",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4",children:[e.jsxs("div",{className:"flex md:hidden items-center gap-2 flex-wrap mb-1",children:[e.jsx("span",{className:"font-mono text-lg font-bold text-gray-700 dark:text-gray-300",children:b}),e.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${w} whitespace-nowrap`,children:u})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-3 md:w-auto flex-shrink-0",children:[e.jsx("span",{className:"font-mono text-lg font-bold text-gray-700 dark:text-gray-300",children:b}),e.jsxs("span",{title:u,className:"flex items-center justify-center",children:[u==="í†µí™”"&&e.jsx(P,{size:16,className:"text-blue-600"}),u==="ì¶œìž¥ë¯¸íŒ…"&&e.jsx(U,{size:16,className:"text-green-600"}),u==="ë°©ë¬¸ë¯¸íŒ…"&&e.jsx(Q,{size:16,className:"text-purple-600"}),u==="ìž…ê¸ˆ"&&e.jsx(H,{size:16,className:"text-emerald-600"}),u==="ê¸°íƒ€"&&e.jsx(A,{size:16,className:"text-gray-600"})]}),e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded font-bold ${w} whitespace-nowrap`,children:u})]}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col md:flex-row md:items-center gap-0.5 md:gap-3",children:[e.jsx("span",{className:`font-bold whitespace-nowrap ${t.reminder.resultStatus?"text-gray-400 line-through":"text-gray-800 dark:text-white"}`,children:t.caseData.customerName}),e.jsx("span",{className:"hidden md:inline text-gray-300",children:"|"}),e.jsx("span",{className:`text-xs md:text-sm truncate block w-full md:w-auto ${t.reminder.resultStatus?"text-gray-400":"text-gray-500 dark:text-gray-400"}`,children:t.reminder.content||"ë‚´ìš© ì—†ìŒ"})]}),(t.reminder.resultStatus||t.reminder.resultNote)&&e.jsxs("div",{className:"md:ml-auto flex items-center gap-2 text-xs mt-1 md:mt-0 flex-shrink-0",children:[t.reminder.resultStatus&&e.jsxs("span",{className:`px-2 py-1 rounded font-bold whitespace-nowrap shadow-sm ${t.reminder.resultStatus==="ì™„ë£Œ"?"bg-green-100 text-green-700":t.reminder.resultStatus==="ë¯¸ì—°ê²°"?"bg-red-100 text-red-700":t.reminder.resultStatus==="ìž¬ì˜ˆì•½"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:[t.reminder.resultStatus==="ì™„ë£Œ"&&"âœ… ",t.reminder.resultStatus==="ë¯¸ì—°ê²°"&&"ðŸ“ž ",t.reminder.resultStatus==="ìž¬ì˜ˆì•½"&&"ðŸ”„ ",t.reminder.resultStatus]}),t.reminder.resultNote&&e.jsx("span",{className:"text-gray-600 bg-white dark:bg-gray-800 px-2 py-1 rounded border border-gray-200 dark:border-gray-600 truncate max-w-[200px] md:max-w-[300px]",title:t.reminder.resultNote,children:t.reminder.resultNote})]}),e.jsx("div",{className:"hidden md:block text-right whitespace-nowrap flex-shrink-0",children:e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-indigo-500 font-medium transition-colors",children:"â†’"})})]})},t.reminder.id)})})})]}),e.jsx("div",{children:e.jsx(Oe,{cases:s,selectedDate:h,onDateSelect:m})}),v&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>j(!1),children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-lg mx-4 max-h-[80vh] flex flex-col",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-red-50 dark:bg-red-900/20 rounded-t-xl",children:[e.jsxs("h3",{className:"font-bold text-red-800 dark:text-red-300 flex items-center gap-2",children:[e.jsx(K,{size:20}),"ì§€ì—°ëœ ë¦¬ë§ˆì¸ë” (",o.length,"ê±´)"]}),e.jsx("button",{onClick:()=>j(!1),className:"p-1 hover:bg-red-100 dark:hover:bg-red-800 rounded-full transition-colors",children:e.jsx(L,{size:20,className:"text-red-600 dark:text-red-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.length===0?e.jsx("div",{className:"text-center text-gray-400 py-8",children:"ì§€ì—°ëœ ë¦¬ë§ˆì¸ë”ê°€ ì—†ìŠµë‹ˆë‹¤."}):e.jsx("div",{className:"space-y-2",children:o.map(t=>e.jsx(C,{to:`/case/${t.caseData.caseId}`,onClick:()=>j(!1),className:"block p-3 bg-gray-50 dark:bg-gray-700/50 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg border border-gray-100 dark:border-gray-600 hover:border-red-200 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:t.caseData.customerName}),e.jsx("span",{className:"text-xs text-gray-400",children:"|"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.caseData.phone})]}),e.jsxs("div",{className:"text-xs text-red-500 dark:text-red-400 mt-1 font-medium",children:["ðŸ“… ",t.reminder.datetime]}),t.reminder.content&&e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate max-w-[300px]",children:t.reminder.content})]}),e.jsx("span",{className:"text-xs bg-red-100 text-red-600 dark:bg-red-900/50 dark:text-red-400 px-2 py-1 rounded font-bold",children:"ì§€ì—°"})]})},t.reminder.id))})})]})}),z&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>k(!1),children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-lg mx-4 max-h-[80vh] flex flex-col",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-yellow-50 dark:bg-yellow-900/20 rounded-t-xl",children:[e.jsxs("h3",{className:"font-bold text-yellow-800 dark:text-yellow-300 flex items-center gap-2",children:[e.jsx(R,{size:20}),"ì¡°ì¹˜ í•„ìš” ì¼€ì´ìŠ¤ (",y.length,"ê±´)"]}),e.jsx("button",{onClick:()=>k(!1),className:"p-1 hover:bg-yellow-100 dark:hover:bg-yellow-800 rounded-full transition-colors",children:e.jsx(L,{size:20,className:"text-yellow-600 dark:text-yellow-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i.length===0?e.jsx("div",{className:"text-center text-gray-400 py-8",children:"ì¡°ì¹˜ê°€ í•„ìš”í•œ ì¼€ì´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤."}):e.jsx("div",{className:"space-y-2",children:i.map(t=>e.jsx(C,{to:`/case/${t.caseData.caseId}`,onClick:()=>k(!1),className:"block p-3 bg-gray-50 dark:bg-gray-700/50 hover:bg-yellow-50 dark:hover:bg-yellow-900/30 rounded-lg border border-gray-100 dark:border-gray-600 hover:border-yellow-200 transition-all",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:t.caseData.customerName}),e.jsx("span",{className:"text-xs text-gray-400",children:"|"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.caseData.phone})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t.caseData.status}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.warnings.map((g,b)=>e.jsxs("span",{className:"text-xs bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-400 px-2 py-0.5 rounded font-medium",children:["âš  ",g]},b))})]}),e.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"â†’"})]})},t.caseData.caseId))})})]})})]})}export{Je as default};
