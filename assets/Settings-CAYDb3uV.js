import{c as b,r,e as Ce,d as ke,b as _,o as le,p as Pe,j as e,Y as Se,Z as ne,O as oe,_ as Ie,T as E,$ as de,a0 as Te,a1 as De,a2 as Me,a3 as Fe,a4 as Oe,a5 as ze}from"./index-Dui-bAUz.js";import{k as ie}from"./utils-D807iMIW.js";import{M as w}from"./Modal-0UbEQsiK.js";import{P as u,T as h}from"./trash-2-7ON6Nv0k.js";import{C as Ae,S as ce}from"./sparkles-IUlJISH0.js";import{B as Le}from"./building-Di1cd_oe.js";import{S as Re}from"./save-sfp_N20D.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Ee=b("calendar-check",_e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qe=b("info",$e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Ue=b("list-checks",Je);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Ge=b("megaphone",Be);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],We=b("pen-line",Ke);function tt(){const[C,g]=r.useState([]),[k,P]=r.useState([]),[S,c]=r.useState(null),[s,n]=r.useState(null),[p,I]=r.useState([]),[m,$]=r.useState(""),[T,D]=r.useState([]),[f,q]=r.useState(""),[J,U]=r.useState("Mark"),{showToast:o}=Ce(),[me,j]=r.useState(!1),[B,y]=r.useState(!1),[M,G]=r.useState(null),[F,O]=r.useState(""),[K,xe]=r.useState(0),[W,N]=r.useState(!1),[z,V]=r.useState(null),[A,L]=r.useState(""),[Y,ue]=r.useState(0),[he,v]=r.useState(!1),[R,H]=r.useState(""),[d,x]=r.useState({minFee:0,maxFee:0,commission:0,fullPayoutThreshold:0,priority:1,active:!0});r.useEffect(()=>{Promise.all([ke(),_(),le(),Pe()]).then(([a,l,i,we])=>{g(a),P(l),I(i),D(we),a.length>0&&(c(a[0].partnerId),n(JSON.parse(JSON.stringify(a[0]))))});const t=localStorage.getItem("managerName");t&&U(t)},[]);const Z=t=>{c(t.partnerId),n(JSON.parse(JSON.stringify(t)))},be=()=>{localStorage.setItem("managerName",J),o("ë‹´ë‹¹ìž ì´ë¦„ì´ ì €ìž¥ë˜ì—ˆìŠµë‹ˆë‹¤.")},Q=()=>{H(""),v(!0)},X=async()=>{if(!R.trim()){o("ê±°ëž˜ì²˜ ì´ë¦„ì„ ìž…ë ¥í•´ì£¼ì„¸ìš”.","error");return}const t={partnerId:`p_${Date.now()}`,name:R.trim(),active:!0,settlementConfig:{cutoffDay:0,payoutDay:2,payoutWeekDelay:0,downPaymentPercentage:10,firstPayoutPercentage:50},commissionRules:[],summaryTemplate:ze,aiPromptTemplate:oe,requiredFields:ne.map(i=>i.key)},a=await de(t),l=a.find(i=>i.partnerId===t.partnerId);g(a),l&&(c(l.partnerId),n(JSON.parse(JSON.stringify(l)))),v(!1),o("ìƒˆë¡œìš´ ê±°ëž˜ì²˜ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.")},ge=async()=>{if(!s)return;const t=await de(s);g(t),o("ë³€ê²½ì‚¬í•­ì´ ì €ìž¥ë˜ì—ˆìŠµë‹ˆë‹¤.")},pe=()=>{if(!s)return;if(C.length<=1){o("ìµœì†Œ 1ê°œì˜ ê±°ëž˜ì²˜ëŠ” ì¡´ìž¬í•´ì•¼ í•©ë‹ˆë‹¤.","error");return}if(k.filter(a=>a.partnerId===s.partnerId).length>0){o(`'${s.name}'ì— ë°°ì •ëœ ì‚¬ê±´ì´ ìžˆì–´ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`,"error");return}j(!0)},fe=async()=>{if(!s)return;const t=s.name,a=await Te(s.partnerId);g(a),a.length>0?(c(a[0].partnerId),n(JSON.parse(JSON.stringify(a[0])))):(c(null),n(null)),j(!1),o(`'${t}' ê±°ëž˜ì²˜ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`)},je=()=>{if(!s||d.minFee===void 0||d.commission===void 0)return;const t={ruleId:Date.now().toString(),minFee:d.minFee||0,maxFee:d.maxFee||0,commission:d.commission||0,fullPayoutThreshold:d.fullPayoutThreshold||0,priority:d.priority||1,active:!0,updatedAt:new Date().toISOString()},a=[...s.commissionRules,t];n({...s,commissionRules:a}),x({minFee:0,maxFee:0,commission:0,fullPayoutThreshold:0,priority:1,active:!0})},ee=t=>{s&&n({...s,commissionRules:s.commissionRules.filter(a=>a.ruleId!==t)})},te=async()=>{if(m.trim()){if(p.includes(m)){o("ì´ë¯¸ ì¡´ìž¬í•˜ëŠ” ê²½ë¡œìž…ë‹ˆë‹¤.","error");return}await De(m),I([...p,m]),$(""),o("ìœ ìž… ê²½ë¡œê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.")}},ye=t=>{const a=k.filter(l=>l.inboundPath===t).length;a>0?(xe(a),G(t),O(""),y(!0)):se(t)},se=async t=>{const a=t||M;if(a)try{if(B&&!F){o("ì´ê´€í•  ê²½ë¡œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.","error");return}await Me(a,F||void 0);const[l,i]=await Promise.all([le(),_()]);I(l),P(i),y(!1),G(null),O(""),o(`'${a}' ê²½ë¡œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`)}catch(l){console.error(l),o("ê²½ë¡œ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.","error")}},ae=async()=>{if(!f.trim())return;if(T.includes(f)){o("ì´ë¯¸ ì¡´ìž¬í•˜ëŠ” ìƒíƒœìž…ë‹ˆë‹¤.","error");return}const t=await Fe(f);D(t),q(""),o("ìƒíƒœê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.")},Ne=t=>{const a=k.filter(l=>l.status===t).length;a>0?(ue(a),V(t),L(""),N(!0)):re(t)},re=async t=>{const a=t||z;if(a)try{if(W&&!A){o("ì´ê´€í•  ìƒíƒœë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.","error");return}const l=await Oe(a,A||void 0);D(l);const i=await _();P(i),N(!1),V(null),L(""),o(`'${a}' ìƒíƒœê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`)}catch(l){o("ìƒíƒœ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.","error"),console.error(l)}},ve=t=>{if(!s)return;const a=s.requiredFields||[],l=a.includes(t)?a.filter(i=>i!==t):[...a,t];n({...s,requiredFields:l})};return e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"ì„¤ì •"})}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700 mb-4 flex items-center",children:[e.jsx(Se,{className:"mr-2 text-gray-600",size:20})," ê³µí†µ ì„¤ì •"]}),e.jsxs("div",{className:"max-w-sm",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ë‹´ë‹¹ìž ì´ë¦„"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"ë‹´ë‹¹ìž ì´ë¦„",className:"flex-1 p-2 border rounded",value:J,onChange:t=>U(t.target.value)}),e.jsx("button",{type:"button",onClick:be,className:"bg-gray-700 text-white px-4 rounded hover:bg-gray-800",children:"ì €ìž¥"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["ì—¬ê¸°ì— ì €ìž¥ëœ ì´ë¦„ì€ ì‹ ê·œ ì¼€ì´ìŠ¤ ìƒì„± ì‹œ ë‹´ë‹¹ìž ì´ë¦„ìœ¼ë¡œ ìžë™ ì„¤ì •ë˜ë©°, ìš”ì•½ë¬¸ í…œí”Œë¦¿ì˜ ","{{managerName}}","ì— ì‚¬ìš©ë©ë‹ˆë‹¤."]})]})]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700 mb-4 flex items-center",children:[e.jsx(Ge,{className:"mr-2 text-purple-600",size:20})," ìœ ìž… ê²½ë¡œ ì„¤ì •"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"ìƒˆë¡œìš´ ìœ ìž… ê²½ë¡œ (ì˜ˆ: í‹±í†¡ ê´‘ê³ )",className:"flex-1 p-2 border rounded",value:m,onChange:t=>$(t.target.value),onKeyDown:t=>t.key==="Enter"&&te()}),e.jsx("button",{type:"button",onClick:te,className:"bg-purple-600 text-white px-4 rounded hover:bg-purple-700",children:e.jsx(u,{size:20})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(t=>e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full px-3 py-1.5 text-sm text-gray-700 border border-gray-200",children:[t,e.jsx("button",{type:"button",onClick:()=>ye(t),className:"ml-2 text-gray-400 hover:text-red-500",children:e.jsx(h,{size:14})})]},t))})]})]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700 mb-4 flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-green-600",size:20})," ìƒíƒœ ê´€ë¦¬"]}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"ì¼€ì´ìŠ¤ì˜ ì§„í–‰ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. ì‚¬ìš© ì¤‘ì¸ ìƒíƒœë¥¼ ì‚­ì œí•˜ë©´ ì´ê´€ ì ˆì°¨ê°€ ì§„í–‰ë©ë‹ˆë‹¤."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"ìƒˆë¡œìš´ ìƒíƒœ (ì˜ˆ: ì„œë¥˜ ê²€í† ì¤‘)",className:"flex-1 p-2 border rounded",value:f,onChange:t=>q(t.target.value),onKeyDown:t=>t.key==="Enter"&&ae()}),e.jsx("button",{type:"button",onClick:ae,className:"bg-green-600 text-white px-4 rounded hover:bg-green-700",children:e.jsx(u,{size:20})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(t=>e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full px-3 py-1.5 text-sm text-gray-700 border border-gray-200",children:[t,e.jsx("button",{type:"button",onClick:()=>Ne(t),className:"ml-2 text-gray-400 hover:text-red-500",children:e.jsx(h,{size:14})})]},t))})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsxs("div",{className:"md:hidden mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-bold text-gray-700",children:"ê±°ëž˜ì²˜ ì„ íƒ"}),e.jsx("button",{type:"button",onClick:Q,className:"text-blue-600 hover:bg-blue-50 p-1 rounded",children:e.jsx(u,{size:18})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(t=>e.jsx("button",{type:"button",onClick:()=>Z(t),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap border transition-colors ${S===t.partnerId?"bg-blue-600 text-white border-blue-600 shadow":"bg-white hover:bg-gray-50 text-gray-700 border-gray-200"}`,children:t.name},t.partnerId))})]}),e.jsxs("div",{className:"hidden md:block space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-bold text-gray-700",children:"ê±°ëž˜ì²˜ ëª©ë¡"}),e.jsx("button",{type:"button",onClick:Q,className:"text-blue-600 hover:bg-blue-50 p-1 rounded",children:e.jsx(u,{size:18})})]}),e.jsx("div",{className:"space-y-1",children:C.map(t=>e.jsxs("button",{type:"button",onClick:()=>Z(t),className:`w-full text-left p-3 rounded-lg flex items-center justify-between ${S===t.partnerId?"bg-blue-600 text-white shadow-md":"bg-white hover:bg-gray-50 text-gray-700 border border-gray-200"}`,children:[e.jsx("span",{className:"font-medium truncate",children:t.name}),S===t.partnerId&&e.jsx(Ae,{size:16})]},t.partnerId))})]})]}),s&&e.jsxs("div",{className:"md:col-span-3 space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{size:24,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"ê±°ëž˜ì²˜ëª…"}),e.jsx("input",{type:"text",className:"text-xl font-bold text-gray-800 border-b border-gray-300 focus:border-blue-500 outline-none pb-1 bg-transparent w-full",value:s.name,onChange:t=>n({...s,name:t.target.value})})]})]}),e.jsxs("div",{className:"flex gap-2 self-end sm:self-center",children:[e.jsxs("button",{type:"button",onClick:pe,className:"text-red-500 hover:bg-red-50 px-3 py-2 rounded-lg text-sm flex items-center transition-colors",children:[e.jsx(h,{size:16,className:"mr-1"})," ì‚­ì œ"]}),e.jsxs("button",{type:"button",onClick:ge,className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-blue-700 flex items-center transition-colors shadow-sm",children:[e.jsx(Re,{size:16,className:"mr-2"})," ì €ìž¥"]})]})]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700 mb-4 flex items-center",children:[e.jsx(Ee,{className:"mr-2 text-blue-600",size:20})," ì •ì‚° ìŠ¤ì¼€ì¤„ ì„¤ì •"]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-blue-800 mb-2",children:"ðŸ“… ì •ì‚° ì£¼ê¸°"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[e.jsxs("div",{className:"bg-white p-3 rounded border border-blue-200",children:[e.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"ë§ˆê° ìš”ì¼"}),e.jsx("select",{className:"w-full text-sm font-bold bg-transparent outline-none",value:s.settlementConfig.cutoffDay,onChange:t=>n({...s,settlementConfig:{...s.settlementConfig,cutoffDay:Number(t.target.value)}}),children:[0,1,2,3,4,5,6].map(t=>e.jsxs("option",{value:t,children:[ie(t),"ìš”ì¼"]},t))})]}),e.jsxs("div",{className:"bg-white p-3 rounded border border-blue-200",children:[e.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"ì§€ê¸‰ ì‹œê¸°"}),e.jsxs("select",{className:"w-full text-sm font-bold bg-transparent outline-none",value:s.settlementConfig.payoutWeekDelay,onChange:t=>n({...s,settlementConfig:{...s.settlementConfig,payoutWeekDelay:Number(t.target.value)}}),children:[e.jsx("option",{value:0,children:"ì´ë²ˆ ì£¼ (ê¸ˆì£¼)"}),e.jsx("option",{value:1,children:"ë‹¤ìŒ ì£¼ (ì°¨ì£¼)"})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded border border-blue-200",children:[e.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"ì§€ê¸‰ ìš”ì¼"}),e.jsx("select",{className:"w-full text-sm font-bold bg-transparent outline-none",value:s.settlementConfig.payoutDay,onChange:t=>n({...s,settlementConfig:{...s.settlementConfig,payoutDay:Number(t.target.value)}}),children:[0,1,2,3,4,5,6].map(t=>e.jsxs("option",{value:t,children:[ie(t),"ìš”ì¼"]},t))})]})]})]}),e.jsx("hr",{className:"border-blue-200"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-blue-800 mb-2",children:"ðŸ’¸ ì§€ê¸‰ ë¹„ìœ¨"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"bg-white p-3 rounded border border-blue-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"ê³„ì•½ê¸ˆ ë¹„ìœ¨"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",className:"w-12 text-right font-bold outline-none border-b border-gray-300 focus:border-blue-500 mr-1",value:s.settlementConfig.downPaymentPercentage,onChange:t=>n({...s,settlementConfig:{...s.settlementConfig,downPaymentPercentage:Number(t.target.value)}})}),e.jsx("span",{className:"text-sm",children:"%"})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded border border-blue-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"ì„ ì§€ê¸‰ ë¹„ìœ¨"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",className:"w-12 text-right font-bold outline-none border-b border-gray-300 focus:border-blue-500 mr-1",value:s.settlementConfig.firstPayoutPercentage,onChange:t=>n({...s,settlementConfig:{...s.settlementConfig,firstPayoutPercentage:Number(t.target.value)}})}),e.jsx("span",{className:"text-sm",children:"%"})]})]})]}),e.jsx("p",{className:"text-[10px] text-blue-600 mt-2 ml-1",children:"* ê³„ì•½ê¸ˆì´ ì„¤ì •ëœ ë¹„ìœ¨ ì´ìƒ ìž…ê¸ˆë˜ë©´ ìˆ˜ë‹¹ì˜ ì¼ë¶€ë¥¼ ì„ ì§€ê¸‰í•©ë‹ˆë‹¤."})]})]})]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-4",children:"ìˆ˜ë‹¹ ê³„ì‚° ë£°"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-3 uppercase tracking-wider",children:"ìƒˆë¡œìš´ ê·œì¹™ ì¶”ê°€"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-gray-500 block mb-1",children:"ìµœì†Œ ê¸ˆì•¡"}),e.jsx("input",{type:"number",className:"w-full p-2 border rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"0",value:d.minFee,onChange:t=>x({...d,minFee:Number(t.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-gray-500 block mb-1",children:"ìµœëŒ€ (0=ë¬´ì œí•œ)"}),e.jsx("input",{type:"number",className:"w-full p-2 border rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"0",value:d.maxFee,onChange:t=>x({...d,maxFee:Number(t.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-green-700 font-bold block mb-1",children:"ì§€ê¸‰ ìˆ˜ë‹¹"}),e.jsx("input",{type:"number",className:"w-full p-2 border border-green-200 bg-green-50 rounded text-sm font-bold text-green-800 focus:ring-2 focus:ring-green-500 outline-none",placeholder:"0",value:d.commission,onChange:t=>x({...d,commission:Number(t.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-blue-700 font-bold block mb-1",children:"ì™„ë‚© ê¸°ì¤€"}),e.jsx("input",{type:"number",className:"w-full p-2 border border-blue-200 bg-blue-50 rounded text-sm font-bold text-blue-800 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"0",value:d.fullPayoutThreshold,onChange:t=>x({...d,fullPayoutThreshold:Number(t.target.value)})})]})]}),e.jsxs("button",{type:"button",onClick:je,className:"w-full mt-3 bg-blue-600 text-white py-2 rounded-lg font-bold text-sm hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(u,{size:16})," ê·œì¹™ ì¶”ê°€í•˜ê¸°"]})]}),e.jsxs("div",{className:"md:hidden space-y-2",children:[s.commissionRules.map(t=>e.jsxs("div",{className:"bg-white border rounded-lg p-3 flex justify-between items-center shadow-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[t.minFee.toLocaleString()," ~ ",t.maxFee?t.maxFee.toLocaleString():"ë¬´ì œí•œ"]}),e.jsx("div",{className:"font-bold text-green-700 flex items-center gap-2",children:e.jsxs("span",{children:["ìˆ˜ë‹¹: ",t.commission.toLocaleString(),"ë§Œì›"]})}),e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["ì™„ë‚©ê¸°ì¤€: ",t.fullPayoutThreshold.toLocaleString(),"ë§Œì›"]})]}),e.jsx("button",{type:"button",onClick:()=>ee(t.ruleId),className:"p-2 text-red-500 hover:bg-red-50 rounded ml-2",children:e.jsx(h,{size:18})})]},t.ruleId)),s.commissionRules.length===0&&e.jsx("p",{className:"text-center text-gray-400 py-4 text-sm",children:"ë“±ë¡ëœ ê·œì¹™ì´ ì—†ìŠµë‹ˆë‹¤."})]}),e.jsx("div",{className:"hidden md:block max-h-40 overflow-y-auto border rounded",children:e.jsxs("table",{className:"w-full text-xs text-left",children:[e.jsx("thead",{className:"bg-gray-100 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2",children:"êµ¬ê°„ (ë§Œì›)"}),e.jsx("th",{className:"p-2",children:"ì§€ê¸‰ ìˆ˜ë‹¹"}),e.jsx("th",{className:"p-2",children:"ì™„ë‚© ê¸°ì¤€"}),e.jsx("th",{className:"p-2 text-center",children:"ê´€ë¦¬"})]})}),e.jsx("tbody",{children:s.commissionRules.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"p-2 font-medium",children:[t.minFee.toLocaleString()," ~ ",t.maxFee?t.maxFee.toLocaleString():"âˆž"]}),e.jsxs("td",{className:"p-2 font-bold text-green-700",children:[t.commission.toLocaleString(),"ë§Œì›"]}),e.jsxs("td",{className:"p-2 text-blue-600 font-medium",children:[t.fullPayoutThreshold.toLocaleString(),"ë§Œì›"]}),e.jsx("td",{className:"p-2 text-center",children:e.jsx("button",{type:"button",onClick:()=>ee(t.ruleId),className:"text-red-500 hover:text-red-700",children:e.jsx(h,{size:14})})})]},t.ruleId))})]})})]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700 mb-4 flex items-center",children:[e.jsx(We,{className:"mr-2 text-indigo-600",size:20})," ìž…ë ¥ í•­ëª© ì„¤ì •"]}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"ì‹ ê·œ ì ‘ìˆ˜ ì‹œ ìž…ë ¥ë°›ì„ í•­ëª©ì„ ì„ íƒí•˜ì„¸ìš”."}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ne.map(t=>e.jsxs("button",{type:"button",onClick:()=>ve(t.key),className:`px-3 py-1.5 rounded-full text-sm border ${s.requiredFields.includes(t.key)?"bg-indigo-100 text-indigo-700 border-indigo-200 font-bold":"bg-white text-gray-500 border-gray-200"}`,children:[t.label," ",s.requiredFields.includes(t.key)&&"âœ“"]},t.key))})]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700 mb-4 flex items-center",children:[e.jsx(ce,{className:"mr-2 text-purple-600",size:20})," AI ìš”ì•½ í”„ë¡¬í”„íŠ¸ ì„¤ì •"]}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"í†µí™” ë…¹ìŒ ìš”ì•½ ì‹œ AIì—ê²Œ ë³´ë‚¼ ì§€ì‹œì‚¬í•­ì„ ì„¤ì •í•©ë‹ˆë‹¤."}),e.jsx("textarea",{className:"w-full h-32 p-3 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-purple-500 outline-none",value:s.aiPromptTemplate||oe,onChange:t=>n({...s,aiPromptTemplate:t.target.value}),placeholder:"AI í”„ë¡¬í”„íŠ¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”."})]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700 mb-4 flex items-center",children:[e.jsx(ce,{className:"mr-2 text-pink-600",size:20})," OCR ì¸ì‹ í”„ë¡¬í”„íŠ¸ ì„¤ì • (Gemini)"]}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"ì´ë¯¸ì§€/PDF ì—…ë¡œë“œ ì‹œ Geminiì—ê²Œ ë³´ë‚¼ ì§€ì‹œì‚¬í•­ì„ ì„¤ì •í•©ë‹ˆë‹¤. (JSON í•„ë“œ ì •ì˜ í•„ìˆ˜)"}),e.jsx("textarea",{className:"w-full h-40 p-3 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-pink-500 outline-none font-mono",value:s.ocrPromptTemplate||Ie,onChange:t=>n({...s,ocrPromptTemplate:t.target.value}),placeholder:"OCR í”„ë¡¬í”„íŠ¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”."})]}),e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700 mb-4 flex items-center",children:[e.jsx(qe,{className:"mr-2 text-orange-600",size:20})," ìš”ì•½ë¬¸ ì–‘ì‹"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx("textarea",{className:"w-full h-64 p-3 border border-gray-300 rounded text-sm font-mono whitespace-pre",value:s.summaryTemplate,onChange:t=>n({...s,summaryTemplate:t.target.value})}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded text-xs text-gray-600 h-64 overflow-y-auto",children:[e.jsx("p",{className:"font-bold mb-2",children:"ì‚¬ìš© ê°€ëŠ¥í•œ ì¹˜í™˜ìž:"}),e.jsxs("ul",{className:"space-y-1 list-disc pl-4",children:[e.jsxs("li",{children:[e.jsx("code",{children:"{{managerName}}"})," ë‹´ë‹¹ìžëª…"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{customerName}}"})," ê³ ê°ëª…"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{phone}}"})," ì—°ë½ì²˜"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{birth}}"})," ìƒë…„ì›”ì¼"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{gender}}"})," ì„±ë³„"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{region}}"})," ì§€ì—­"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{jobType}}"})," ì§ì—…"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{incomeNet}}"})," ì›” ì†Œë“"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{loanMonthlyPay}}"})," ì›” ë³€ì œê¸ˆ"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{housingType}}"})," ì£¼ê±°í˜•íƒœ"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{depositRentStr}}"})," ë³´ì¦ê¸ˆ/ì›”ì„¸ í†µí•©"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{assetsStr}}"})," ìžì‚° ëª©ë¡ í†µí•©"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{creditLoan}}"})," ì‹ ìš©ëŒ€ì¶œ"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{collateralStr}}"})," ë‹´ë³´ëŒ€ì¶œ í†µí•©"]}),e.jsxs("li",{children:[e.jsx("code",{children:"{{specialMemo}}"})," íŠ¹ì´ì‚¬í•­"]})]})]})]})]})]})]}),e.jsx(w,{isOpen:me,onClose:()=>j(!1),title:"ê±°ëž˜ì²˜ ì‚­ì œ í™•ì¸",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:e.jsx(E,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),e.jsx("div",{className:"mt-0 text-left",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["ì •ë§ë¡œ ",e.jsxs("span",{className:"font-bold text-gray-900",children:["'",s==null?void 0:s.name,"'"]})," ê±°ëž˜ì²˜ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",e.jsx("br",{}),"ì´ ìž‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."]})})]}),e.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse gap-2",children:[e.jsx("button",{type:"button",onClick:fe,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm",children:"ì‚­ì œ"}),e.jsx("button",{type:"button",onClick:()=>j(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm",children:"ì·¨ì†Œ"})]})]})}),e.jsx(w,{isOpen:he,onClose:()=>v(!1),title:"ìƒˆ ê±°ëž˜ì²˜ ì¶”ê°€",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-partner-name",className:"block text-sm font-medium text-gray-700 mb-2",children:"ê±°ëž˜ì²˜ ì´ë¦„"}),e.jsx("input",{type:"text",id:"new-partner-name",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none",value:R,onChange:t=>H(t.target.value),onKeyDown:t=>t.key==="Enter"&&X(),placeholder:"ì˜ˆ: ë¯¸ëž˜ ë²•ë¥ ì‚¬ë¬´ì†Œ",autoFocus:!0}),e.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse gap-2",children:[e.jsx("button",{type:"button",onClick:X,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm",children:"ì¶”ê°€"}),e.jsx("button",{type:"button",onClick:()=>v(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm",children:"ì·¨ì†Œ"})]})]})}),e.jsx(w,{isOpen:B,onClose:()=>y(!1),title:"ìœ ìž… ê²½ë¡œ ì‚­ì œ í™•ì¸",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:e.jsx(E,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),e.jsxs("div",{className:"mt-0 text-left",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["ì •ë§ë¡œ ",e.jsxs("span",{className:"font-bold text-gray-900",children:["'",M,"'"]})," ê²½ë¡œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"]}),K>0&&e.jsxs("div",{className:"mt-2 bg-yellow-50 p-3 rounded-md border border-yellow-100",children:[e.jsxs("p",{className:"text-sm font-bold text-yellow-800 mb-1",children:["âš ï¸ í˜„ìž¬ ì´ ê²½ë¡œë¡œ ë“±ë¡ëœ ê±´ìˆ˜: ",K,"ê±´"]}),e.jsx("p",{className:"text-xs text-yellow-700 mb-2",children:"ì‚­ì œ ì‹œ í•´ë‹¹ ê±´ë“¤ì˜ ìœ ìž… ê²½ë¡œë¥¼ ì•„ëž˜ ê²½ë¡œë¡œ ì¼ê´„ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤."}),e.jsxs("select",{className:"w-full p-2 border rounded text-sm bg-white",value:F,onChange:t=>O(t.target.value),children:[e.jsx("option",{value:"",children:"-- ì´ê´€í•  ê²½ë¡œ ì„ íƒ --"}),p.filter(t=>t!==M).map(t=>e.jsx("option",{value:t,children:t},t))]})]})]})]}),e.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse gap-2",children:[e.jsx("button",{type:"button",onClick:()=>se(),className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm",children:"ì‚­ì œ ë° ì´ê´€"}),e.jsx("button",{type:"button",onClick:()=>y(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm",children:"ì·¨ì†Œ"})]})]})}),e.jsx(w,{isOpen:W,onClose:()=>N(!1),title:"ìƒíƒœ ì‚­ì œ í™•ì¸",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:e.jsx(E,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),e.jsxs("div",{className:"mt-0 text-left",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["ì •ë§ë¡œ ",e.jsxs("span",{className:"font-bold text-gray-900",children:["'",z,"'"]})," ìƒíƒœë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"]}),Y>0&&e.jsxs("div",{className:"mt-2 bg-yellow-50 p-3 rounded-md border border-yellow-100",children:[e.jsxs("p",{className:"text-sm font-bold text-yellow-800 mb-1",children:["âš ï¸ í˜„ìž¬ ì´ ìƒíƒœë¡œ ë“±ë¡ëœ ê±´ìˆ˜: ",Y,"ê±´"]}),e.jsx("p",{className:"text-xs text-yellow-700 mb-2",children:"ì‚­ì œ ì‹œ í•´ë‹¹ ê±´ë“¤ì˜ ìƒíƒœë¥¼ ì•„ëž˜ ìƒíƒœë¡œ ì¼ê´„ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤."}),e.jsxs("select",{className:"w-full p-2 border rounded text-sm bg-white",value:A,onChange:t=>L(t.target.value),children:[e.jsx("option",{value:"",children:"-- ì´ê´€í•  ìƒíƒœ ì„ íƒ --"}),T.filter(t=>t!==z).map(t=>e.jsx("option",{value:t,children:t},t))]})]})]})]}),e.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse gap-2",children:[e.jsx("button",{type:"button",onClick:()=>re(),className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm",children:"ì‚­ì œ ë° ì´ê´€"}),e.jsx("button",{type:"button",onClick:()=>N(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm",children:"ì·¨ì†Œ"})]})]})})]})}export{tt as default};
