var fe=Object.defineProperty;var me=(n,s,e)=>s in n?fe(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e;var o=(n,s,e)=>me(n,typeof s!="symbol"?s+"":s,e);import{a9 as X,a as k,n as he,aa as K,t as _,g as te,ab as we,ac as ye,ad as pe,ae as be,s as z,af as re,ag as ge,ah as xe,ai as ne,aj as De,ak as J,al as Te,am as S,an as Pe,ao as B,ap as R,aq as A,ar as Me,a5 as ke,as as _e,at as j,f as G,au as W}from"./index-BaVM1vce.js";function ee(n,s,e){return X(n,s*7,e)}function Le(n){return k(n,Date.now())}function Ee(n,s,e){const[t,r]=he(e==null?void 0:e.in,n,s);return+K(t)==+K(r)}function He(n,s){return _(n,s==null?void 0:s.in).getDay()}function Oe(){return Object.assign({},te())}function Ie(n,s){const e=_(n,s==null?void 0:s.in).getDay();return e===0?7:e}function ve(n,s){return+_(n)<+_(s)}function Ye(n,s){const e=Ce(s)?new s(0):k(s,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function Ce(n){var s;return typeof n=="function"&&((s=n.prototype)==null?void 0:s.constructor)===n}const Ne=10;class se{constructor(){o(this,"subPriority",0)}validate(s,e){return!0}}class Re extends se{constructor(s,e,t,r,a){super(),this.value=s,this.validateValue=e,this.setValue=t,this.priority=r,a&&(this.subPriority=a)}validate(s,e){return this.validateValue(s,this.value,e)}set(s,e,t){return this.setValue(s,e,this.value,t)}}class Ae extends se{constructor(e,t){super();o(this,"priority",Ne);o(this,"subPriority",-1);this.context=e||(r=>k(t,r))}set(e,t){return t.timestampIsSet?e:k(e,Ye(e,this.context))}}class d{run(s,e,t,r){const a=this.parse(s,e,t,r);return a?{setter:new Re(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(s,e,t){return!0}}class We extends d{constructor(){super(...arguments);o(this,"priority",140);o(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}}const b={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},L={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function g(n,s){return n&&{value:s(n.value),rest:n.rest}}function w(n,s){const e=s.match(n);return e?{value:parseInt(e[0],10),rest:s.slice(e[0].length)}:null}function E(n,s){const e=s.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:s.slice(1)};const t=e[1]==="+"?1:-1,r=e[2]?parseInt(e[2],10):0,a=e[3]?parseInt(e[3],10):0,i=e[5]?parseInt(e[5],10):0;return{value:t*(r*we+a*ye+i*pe),rest:s.slice(e[0].length)}}function ae(n){return w(b.anyDigitsSigned,n)}function p(n,s){switch(n){case 1:return w(b.singleDigit,s);case 2:return w(b.twoDigits,s);case 3:return w(b.threeDigits,s);case 4:return w(b.fourDigits,s);default:return w(new RegExp("^\\d{1,"+n+"}"),s)}}function Q(n,s){switch(n){case 1:return w(b.singleDigitSigned,s);case 2:return w(b.twoDigitsSigned,s);case 3:return w(b.threeDigitsSigned,s);case 4:return w(b.fourDigitsSigned,s);default:return w(new RegExp("^-?\\d{1,"+n+"}"),s)}}function U(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function oe(n,s){const e=s>0,t=e?s:1-s;let r;if(t<=50)r=n||100;else{const a=t+50,i=Math.trunc(a/100)*100,l=n>=a%100;r=n+i-(l?100:0)}return e?r:1-r}function ie(n){return n%400===0||n%4===0&&n%100!==0}class qe extends d{constructor(){super(...arguments);o(this,"priority",130);o(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,r){const a=i=>({year:i,isTwoDigitYear:t==="yy"});switch(t){case"y":return g(p(4,e),a);case"yo":return g(r.ordinalNumber(e,{unit:"year"}),a);default:return g(p(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const a=e.getFullYear();if(r.isTwoDigitYear){const l=oe(r.year,a);return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}const i=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class $e extends d{constructor(){super(...arguments);o(this,"priority",130);o(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,r){const a=i=>({year:i,isTwoDigitYear:t==="YY"});switch(t){case"Y":return g(p(4,e),a);case"Yo":return g(r.ordinalNumber(e,{unit:"year"}),a);default:return g(p(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,a){const i=be(e,a);if(r.isTwoDigitYear){const f=oe(r.year,i);return e.setFullYear(f,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),z(e,a)}const l=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(l,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),z(e,a)}}class Fe extends d{constructor(){super(...arguments);o(this,"priority",130);o(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return Q(t==="R"?4:t.length,e)}set(e,t,r){const a=k(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),re(a)}}class Qe extends d{constructor(){super(...arguments);o(this,"priority",130);o(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return Q(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}}class Xe extends d{constructor(){super(...arguments);o(this,"priority",120);o(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,r){switch(t){case"Q":case"QQ":return p(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}}class Be extends d{constructor(){super(...arguments);o(this,"priority",120);o(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,r){switch(t){case"q":case"qq":return p(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}}class je extends d{constructor(){super(...arguments);o(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);o(this,"priority",110)}parse(e,t,r){const a=i=>i-1;switch(t){case"M":return g(w(b.month,e),a);case"MM":return g(p(2,e),a);case"Mo":return g(r.ordinalNumber(e,{unit:"month"}),a);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class ze extends d{constructor(){super(...arguments);o(this,"priority",110);o(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,r){const a=i=>i-1;switch(t){case"L":return g(w(b.month,e),a);case"LL":return g(p(2,e),a);case"Lo":return g(r.ordinalNumber(e,{unit:"month"}),a);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}function Ge(n,s,e){const t=_(n,e==null?void 0:e.in),r=ge(t,e)-s;return t.setDate(t.getDate()-r*7),_(t,e==null?void 0:e.in)}class Ve extends d{constructor(){super(...arguments);o(this,"priority",100);o(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,r){switch(t){case"w":return w(b.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return p(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,a){return z(Ge(e,r,a),a)}}function Ue(n,s,e){const t=_(n,e==null?void 0:e.in),r=xe(t,e)-s;return t.setDate(t.getDate()-r*7),t}class Ze extends d{constructor(){super(...arguments);o(this,"priority",100);o(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,r){switch(t){case"I":return w(b.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return p(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return re(Ue(e,r))}}const Ke=[31,28,31,30,31,30,31,31,30,31,30,31],Je=[31,29,31,30,31,30,31,31,30,31,30,31];class Se extends d{constructor(){super(...arguments);o(this,"priority",90);o(this,"subPriority",1);o(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,r){switch(t){case"d":return w(b.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return p(t.length,e)}}validate(e,t){const r=e.getFullYear(),a=ie(r),i=e.getMonth();return a?t>=1&&t<=Je[i]:t>=1&&t<=Ke[i]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}}class et extends d{constructor(){super(...arguments);o(this,"priority",90);o(this,"subpriority",1);o(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,r){switch(t){case"D":case"DD":return w(b.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return p(t.length,e)}}validate(e,t){const r=e.getFullYear();return ie(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}}function q(n,s,e){var T,D,H,P;const t=te(),r=(e==null?void 0:e.weekStartsOn)??((D=(T=e==null?void 0:e.locale)==null?void 0:T.options)==null?void 0:D.weekStartsOn)??t.weekStartsOn??((P=(H=t.locale)==null?void 0:H.options)==null?void 0:P.weekStartsOn)??0,a=_(n,e==null?void 0:e.in),i=a.getDay(),f=(s%7+7)%7,x=7-r,y=s<0||s>6?s-(i+x)%7:(f+x)%7-(i+x)%7;return X(a,y,e)}class tt extends d{constructor(){super(...arguments);o(this,"priority",90);o(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=q(e,r,a),e.setHours(0,0,0,0),e}}class rt extends d{constructor(){super(...arguments);o(this,"priority",90);o(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,r,a){const i=l=>{const f=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+f};switch(t){case"e":case"ee":return g(p(t.length,e),i);case"eo":return g(r.ordinalNumber(e,{unit:"day"}),i);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=q(e,r,a),e.setHours(0,0,0,0),e}}class nt extends d{constructor(){super(...arguments);o(this,"priority",90);o(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,r,a){const i=l=>{const f=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+f};switch(t){case"c":case"cc":return g(p(t.length,e),i);case"co":return g(r.ordinalNumber(e,{unit:"day"}),i);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=q(e,r,a),e.setHours(0,0,0,0),e}}function st(n,s,e){const t=_(n,e==null?void 0:e.in),r=Ie(t,e),a=s-r;return X(t,a,e)}class at extends d{constructor(){super(...arguments);o(this,"priority",90);o(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,r){const a=i=>i===0?7:i;switch(t){case"i":case"ii":return p(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return g(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return g(r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return g(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return g(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=st(e,r),e.setHours(0,0,0,0),e}}class ot extends d{constructor(){super(...arguments);o(this,"priority",80);o(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(U(r),0,0,0),e}}class it extends d{constructor(){super(...arguments);o(this,"priority",80);o(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(U(r),0,0,0),e}}class ut extends d{constructor(){super(...arguments);o(this,"priority",80);o(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(U(r),0,0,0),e}}class ct extends d{constructor(){super(...arguments);o(this,"priority",70);o(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,r){switch(t){case"h":return w(b.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return p(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const a=e.getHours()>=12;return a&&r<12?e.setHours(r+12,0,0,0):!a&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}}class lt extends d{constructor(){super(...arguments);o(this,"priority",70);o(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,r){switch(t){case"H":return w(b.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return p(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}}class dt extends d{constructor(){super(...arguments);o(this,"priority",70);o(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,r){switch(t){case"K":return w(b.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return p(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}}class ft extends d{constructor(){super(...arguments);o(this,"priority",70);o(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,r){switch(t){case"k":return w(b.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return p(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const a=r<=24?r%24:r;return e.setHours(a,0,0,0),e}}class mt extends d{constructor(){super(...arguments);o(this,"priority",60);o(this,"incompatibleTokens",["t","T"])}parse(e,t,r){switch(t){case"m":return w(b.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return p(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}}class ht extends d{constructor(){super(...arguments);o(this,"priority",50);o(this,"incompatibleTokens",["t","T"])}parse(e,t,r){switch(t){case"s":return w(b.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return p(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}}class wt extends d{constructor(){super(...arguments);o(this,"priority",30);o(this,"incompatibleTokens",["t","T"])}parse(e,t){const r=a=>Math.trunc(a*Math.pow(10,-t.length+3));return g(p(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}}class yt extends d{constructor(){super(...arguments);o(this,"priority",10);o(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return E(L.basicOptionalMinutes,e);case"XX":return E(L.basic,e);case"XXXX":return E(L.basicOptionalSeconds,e);case"XXXXX":return E(L.extendedOptionalSeconds,e);case"XXX":default:return E(L.extended,e)}}set(e,t,r){return t.timestampIsSet?e:k(e,e.getTime()-ne(e)-r)}}class pt extends d{constructor(){super(...arguments);o(this,"priority",10);o(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return E(L.basicOptionalMinutes,e);case"xx":return E(L.basic,e);case"xxxx":return E(L.basicOptionalSeconds,e);case"xxxxx":return E(L.extendedOptionalSeconds,e);case"xxx":default:return E(L.extended,e)}}set(e,t,r){return t.timestampIsSet?e:k(e,e.getTime()-ne(e)-r)}}class bt extends d{constructor(){super(...arguments);o(this,"priority",40);o(this,"incompatibleTokens","*")}parse(e){return ae(e)}set(e,t,r){return[k(e,r*1e3),{timestampIsSet:!0}]}}class gt extends d{constructor(){super(...arguments);o(this,"priority",20);o(this,"incompatibleTokens","*")}parse(e){return ae(e)}set(e,t,r){return[k(e,r),{timestampIsSet:!0}]}}const xt={G:new We,y:new qe,Y:new $e,R:new Fe,u:new Qe,Q:new Xe,q:new Be,M:new je,L:new ze,w:new Ve,I:new Ze,d:new Se,D:new et,E:new tt,e:new rt,c:new nt,i:new at,a:new ot,b:new it,B:new ut,h:new ct,H:new lt,K:new dt,k:new ft,m:new mt,s:new ht,S:new wt,X:new yt,x:new pt,t:new bt,T:new gt},Dt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pt=/^'([^]*?)'?$/,Mt=/''/g,kt=/\S/,_t=/[a-zA-Z]/;function Lt(n,s,e,t){var $,O,Y,C;const r=()=>k(e,NaN),a=Oe(),i=a.locale??De,l=a.firstWeekContainsDate??((O=($=a.locale)==null?void 0:$.options)==null?void 0:O.firstWeekContainsDate)??1,f=a.weekStartsOn??((C=(Y=a.locale)==null?void 0:Y.options)==null?void 0:C.weekStartsOn)??0,x={firstWeekContainsDate:l,weekStartsOn:f,locale:i},y=[new Ae(t==null?void 0:t.in,e)],T=s.match(Tt).map(u=>{const m=u[0];if(m in J){const M=J[m];return M(u,i.formatLong)}return u}).join("").match(Dt),D=[];for(let u of T){Te(u)&&S(u,s,n),Pe(u)&&S(u,s,n);const m=u[0],M=xt[m];if(M){const{incompatibleTokens:N}=M;if(Array.isArray(N)){const I=D.find(F=>N.includes(F.token)||F.token===m);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${u}\` at the same time`)}else if(M.incompatibleTokens==="*"&&D.length>0)throw new RangeError(`The format string mustn't contain \`${u}\` and any other token at the same time`);D.push({token:m,fullToken:u});const c=M.run(n,u,i.match,x);if(!c)return r();y.push(c.setter),n=c.rest}else{if(m.match(_t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");if(u==="''"?u="'":m==="'"&&(u=Et(u)),n.indexOf(u)===0)n=n.slice(u.length);else return r()}}if(n.length>0&&kt.test(n))return r();const H=y.map(u=>u.priority).sort((u,m)=>m-u).filter((u,m,M)=>M.indexOf(u)===m).map(u=>y.filter(m=>m.priority===u).sort((m,M)=>M.subPriority-m.subPriority)).map(u=>u[0]);let P=_(e,t==null?void 0:t.in);if(isNaN(+P))return r();const v={};for(const u of H){if(!u.validate(P,x))return r();const m=u.set(P,v,x);Array.isArray(m)?(P=m[0],Object.assign(v,m[1])):P=m}return P}function Et(n){return n.match(Pt)[1].replace(Mt,"'")}function Ht(n){return+_(n)<Date.now()}function ue(n,s){return Ee(k(n,n),Le(n))}function Ot(n,s,e){let t=s-He(n,e);return t<=0&&(t+=7),X(n,t,e)}const It={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},vt=(n,s,e)=>{let t;const r=It[n];return typeof r=="string"?t=r:s===1?t=r.one:t=r.other.replace("{{count}}",s.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?t+" 후":t+" 전":t},Yt={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},Ct={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Nt={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Rt={date:B({formats:Yt,defaultWidth:"full"}),time:B({formats:Ct,defaultWidth:"full"}),dateTime:B({formats:Nt,defaultWidth:"full"})},At={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},Wt=(n,s,e,t)=>At[n],qt={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},$t={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},Ft={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},Qt={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},Xt={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},Bt={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},jt=(n,s)=>{const e=Number(n);switch(String(s==null?void 0:s.unit)){case"minute":case"second":return String(e);case"date":return e+"일";default:return e+"번째"}},zt={ordinalNumber:jt,era:R({values:qt,defaultWidth:"wide"}),quarter:R({values:$t,defaultWidth:"wide",argumentCallback:n=>n-1}),month:R({values:Ft,defaultWidth:"wide"}),day:R({values:Qt,defaultWidth:"wide"}),dayPeriod:R({values:Xt,defaultWidth:"wide",formattingValues:Bt,defaultFormattingWidth:"wide"})},Gt=/^(\d+)(일|번째)?/i,Vt=/\d+/i,Ut={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},Zt={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},Kt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},Jt={any:[/1/i,/2/i,/3/i,/4/i]},St={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},er={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},tr={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},rr={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},nr={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},sr={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},ar={ordinalNumber:Me({matchPattern:Gt,parsePattern:Vt,valueCallback:n=>parseInt(n,10)}),era:A({matchPatterns:Ut,defaultMatchWidth:"wide",parsePatterns:Zt,defaultParseWidth:"any"}),quarter:A({matchPatterns:Kt,defaultMatchWidth:"wide",parsePatterns:Jt,defaultParseWidth:"any",valueCallback:n=>n+1}),month:A({matchPatterns:St,defaultMatchWidth:"wide",parsePatterns:er,defaultParseWidth:"any"}),day:A({matchPatterns:tr,defaultMatchWidth:"wide",parsePatterns:rr,defaultParseWidth:"any"}),dayPeriod:A({matchPatterns:nr,defaultMatchWidth:"any",parsePatterns:sr,defaultParseWidth:"any"})},or={code:"ko",formatDistance:vt,formatLong:Rt,formatRelative:Wt,localize:zt,match:ar,options:{weekStartsOn:0,firstWeekContainsDate:1}},Z=(n,s)=>{const t=s.filter(r=>r.active).filter(r=>{const a=n>=r.minFee,i=!r.maxFee||n<=r.maxFee;return a&&i});if(t.length!==0)return t.sort((r,a)=>a.minFee!==r.minFee?a.minFee-r.minFee:a.priority!==r.priority?a.priority-r.priority:a.updatedAt!==r.updatedAt?a.updatedAt.localeCompare(r.updatedAt):a.ruleId.localeCompare(r.ruleId)),t[0]},ce=(n,s)=>{if(!n)return 0;const e=Z(n,s);return e?e.commission:0},le=(n,s,e)=>{if(!n.contractFee)return{payable:0,total:0,isPartial:!1};const t=Z(n.contractFee,s);if(!t)return{payable:0,total:0,isPartial:!1};const r=(n.deposit1Amount||0)+(n.deposit2Amount||0),a=t.fullPayoutThreshold||0,i=e?e.downPaymentPercentage/100:.1,l=e?e.firstPayoutPercentage/100:.5;return a>0&&r>=a?{payable:t.commission,total:t.commission,isPartial:!1,rule:t}:r>=n.contractFee*i?{payable:t.commission*l,total:t.commission,isPartial:!0,rule:t}:{payable:0,total:t.commission,isPartial:!1,rule:t}},ir=(n,s)=>{const e=[];return _e.includes(n.status)&&(!n.reminders||n.reminders.length===0)&&e.push("리마인더 없음"),j.includes(n.status)&&!n.contractAt&&e.push("계약일 미입력"),j.includes(n.status)&&!n.contractFee&&e.push("수임료 미입력"),n.contractFee&&j.includes(n.status)&&s&&ce(n.contractFee,s.commissionRules)===0&&e.push("수당 룰 없음"),e},ur=n=>{const s=n.replace(/[^\d]/g,"");return s.length===2?parseInt(s,10)<=30?`20${s}`:`19${s}`:s},h=n=>{if(n==null||isNaN(n))return"";if(n===0)return"0원";const s=Math.floor(n/1e4),e=n%1e4;return s>0&&e>0?`${s.toLocaleString()}억 ${e.toLocaleString()}만원`:s>0&&e===0?`${s.toLocaleString()}억원`:s===0&&e>0?`${e.toLocaleString()}만원`:"0원"},cr=(n,s=ke)=>{var m,M,N;let e=s;n.maritalStatus==="미혼"&&(e=e.replace(/^\* 미성년 자녀 수 : .*\r?\n?/gm,"")),n.creditCardUse==="미사용"&&(e=e.replace(/^\* 신용카드 사용금액 : .*\r?\n?/gm,"")),n.jobTypes&&n.jobTypes.length===1&&n.jobTypes[0]==="무직"&&(e=e.replace(/^\* 4대보험 가입유무 : .*\r?\n?/gm,""));const t=[];n.housingType==="자가"?(n.ownHousePrice&&t.push(`집 시세 ${h(n.ownHousePrice)}`),n.ownHouseLoan&&t.push(`(집 담보대출 ${h(n.ownHouseLoan)})`),n.ownHouseOwner&&t.push(`[명의: ${n.ownHouseOwner}]`)):n.housingType==="무상거주"?(t.push("무상거주"),n.freeHousingOwner&&t.push(`[명의: ${n.freeHousingOwner}]`)):(n.deposit&&t.push(`보증금 ${h(n.deposit)}`),n.rent&&t.push(`월세 ${h(n.rent)}`),n.depositLoanAmount&&t.push(`(보증금 대출: ${h(n.depositLoanAmount)})`),n.rentContractor&&t.push(`[계약자: ${n.rentContractor}]`));const r=t.length>0?t.join(" "):"정보 없음",a=n.assets&&n.assets.length>0?n.assets.map(c=>{const I=c.desc?`(${c.desc})`:"",F=c.rentDeposit?`/보증금${h(c.rentDeposit)}`:"";return`(${c.owner}/${c.type}${I} 시세 ${h(c.amount)}${c.loanAmount?`/담보${h(c.loanAmount)}`:""}${F})`}):[];let i=a.length>0?a.join(" "):"없음";const l=[];let f=0;n.housingType!=="자가"&&n.housingType!=="무상거주"&&n.depositLoanAmount&&(l.push(`보증금 대출(${h(n.depositLoanAmount)})`),f+=n.depositLoanAmount),n.housingType==="자가"&&n.ownHouseLoan&&(l.push(`집 담보 대출(${h(n.ownHouseLoan)})`),f+=n.ownHouseLoan),n.assets&&n.assets.filter(c=>c.loanAmount>0).forEach(c=>{l.push(`${c.type} 담보(${h(c.loanAmount)})`),f+=c.loanAmount}),n.collateralLoanMemo&&l.push(n.collateralLoanMemo);let x=l.length>0?l.join(", "):"없음";f>0&&(x+=` [총 합계: ${h(f)}]`);let y=0;const T=n.creditLoan&&n.creditLoan.length>0?n.creditLoan.map(c=>(y+=c.amount||0,`${c.desc} ${h(c.amount)}`)):[];n.creditCardUse==="사용"&&n.creditCardAmount&&(y+=n.creditCardAmount,T.push(`신용카드 ${h(n.creditCardAmount)}`));let D=T.length>0?T.join(", "):"없음";y>0&&(D+=` [총 합계: ${h(y)}]`);let H=n.historyType||"없음";n.historyType&&n.historyType!=="없음"&&n.historyMemo&&(H+=` (${n.historyMemo})`);const P=n.specialMemo?[...n.specialMemo].filter(c=>!c.content.startsWith("[상태변경]")).sort((c,I)=>I.createdAt.localeCompare(c.createdAt)):[],v=P.length>0?P.map(c=>`[${G(new Date(c.createdAt),"yyyy-MM-dd HH:mm",{locale:or})}]
${c.content}`).join(`

`):"없음",$=n.jobTypes&&n.jobTypes.length>0?n.jobTypes.join(", "):"정보 없음",O=[];(m=n.incomeDetails)!=null&&m.salary&&O.push(`직장인 ${h(n.incomeDetails.salary)}`),(M=n.incomeDetails)!=null&&M.business&&O.push(`사업자 ${h(n.incomeDetails.business)}`),(N=n.incomeDetails)!=null&&N.freelance&&O.push(`프리랜서 ${h(n.incomeDetails.freelance)}`);let Y=O.join(" + ");O.length>1?Y+=` (총 ${h(n.incomeNet)})`:O.length===0&&(Y=h(n.incomeNet));const C={managerName:n.managerName,customerName:n.customerName,phone:n.phone,birth:n.birth?n.birth+"년생":"-",gender:n.gender,region:n.region,jobTypes:$,insurance4:n.insurance4,maritalStatus:n.maritalStatus,childrenCount:n.childrenCount!==void 0?n.childrenCount+"명":"-",incomeDetails:Y,loanMonthlyPay:h(n.loanMonthlyPay),housingType:n.housingType,housingDetail:n.housingDetail,depositRentStr:r,assetsStr:i,creditLoanStr:D,collateralStr:x,creditCardUse:n.creditCardUse||"미사용",creditCardAmountStr:n.creditCardUse==="사용"&&n.creditCardAmount?h(n.creditCardAmount):"없음",historyStr:H,specialMemo:v};let u=e;for(const c in C){const I=new RegExp(`{{${c}}}`,"g");u=u.replace(I,C[c]||"")}return u.trim()},de=n=>{if(!n)return null;const s=Lt(n,"yyyy-MM-dd HH:mm",new Date);return W(s)?s:null},lr=n=>{if(!n)return"none";const s=de(n);return s?ue(s)?"today":Ht(s)?"overdue":"future":"none"},dr=n=>{if(!n)return null;const s=new Date(n);if(W(s)&&n.includes("-")&&!isNaN(s.getTime()))return s;const e=n.trim(),t=/(\d{4})[\.\-]\s*(\d{1,2})[\.\-]\s*(\d{1,2})[\.]?\s*(오전|오후)?\s*(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?/,r=e.match(t);if(r){const f=parseInt(r[1]),x=parseInt(r[2])-1,y=parseInt(r[3]),T=r[4];let D=parseInt(r[5]);const H=parseInt(r[6]),P=r[7]?parseInt(r[7]):0;T==="오후"&&D<12&&(D+=12),T==="오전"&&D===12&&(D=0);const v=new Date(f,x,y,D,H,P);if(W(v))return v}const a=/(\d{4})[\.\-]\s*(\d{1,2})[\.\-]\s*(\d{1,2})/,i=e.match(a);if(i){const f=parseInt(i[1]),x=parseInt(i[2])-1,y=parseInt(i[3]),T=new Date(f,x,y);if(W(T))return T}const l=new Date(n.replace(/\./g,"-"));return W(l)&&!isNaN(l.getTime())?l:null},V=n=>["일","월","화","수","목","금","토"][n]||"",fr=(n,s)=>{const e=s.commissionRules,t=s.settlementConfig,r=n.filter(y=>y.partnerId===s.partnerId&&["1차 입금완료","2차 입금완료","계약 완료"].includes(y.status)&&y.contractFee);let a=0,i=0;r.forEach(y=>{const T=(y.deposit1Amount||0)+(y.deposit2Amount||0);a+=T;const{payable:D}=le(y,e,t);i+=D});const l=new Date;let f=q(l,t.cutoffDay,{weekStartsOn:0});ve(f,l)&&!ue(f)&&(f=Ot(l,t.cutoffDay));let x=q(f,t.payoutDay,{weekStartsOn:0});return t.payoutDay<=t.cutoffDay&&(x=ee(x,1)),t.payoutWeekDelay>0&&(x=ee(x,t.payoutWeekDelay)),{cutoffDate:G(f,"yyyy-MM-dd"),payoutDate:G(x,"yyyy-MM-dd"),currentTotalDeposit:a,expectedCommission:i,threshold:0,isEligible:i>0,cutoffDayName:V(t.cutoffDay),payoutDayName:V(t.payoutDay)}},mr=n=>new Promise((s,e)=>{const t=new FileReader;t.readAsDataURL(n),t.onload=()=>{if(typeof t.result=="string"){const r=t.result.split(",")[1];s(r)}else e(new Error("Failed to convert file to base64"))},t.onerror=r=>e(r)}),yr=Object.freeze(Object.defineProperty({__proto__:null,calculateCommission:ce,calculateNextSettlement:fr,calculatePayableCommission:le,fileToBase64:mr,formatKoreanMoney:h,generateSummary:cr,getCaseWarnings:ir,getDayName:V,getMatchingRule:Z,getReminderStatus:lr,normalizeBirthYear:ur,parseGenericDate:dr,parseReminder:de},Symbol.toStringTag,{value:"Module"}));export{Ee as a,ir as b,fr as c,dr as d,de as e,mr as f,lr as g,ce as h,ue as i,cr as j,V as k,ur as n,Lt as p,yr as u};
