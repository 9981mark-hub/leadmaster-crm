import{c as K,r as o,j as t,K as ot,_ as re,N as $t,O as Mr,e as Ft,h as Pr,b as xt,P as Tr,Q as Lr,U as We,T as Or,G as _r,V as $r,q as Fr,f as Te,X as lt,S as et,C as zr,J as Hr,H as Wr,y as Br,F as Vr,z as Kr,A as Gr,B as Yr,D as Ur,W as qr}from"./index-BQeOKDwG.js";import{F as zt,f as Xr,a as Zr,b as Jr,c as Qr,d as en}from"./queries-D93dDcBL.js";import{b as tn,h as rn,n as nn,j as sn,k as Be,l as pt,m as an,o as on}from"./utils-37AySP7k.js";import{r as ln,R as cn}from"./index-CjpSaML6.js";import{M as dn,i as ht,u as Ht,P as un,a as fn,b as mn,L as xn,m as pn,C as hn}from"./proxy-DHkM5Lb-.js";import{S as gn}from"./search-CwR4XYiS.js";import{C as gt}from"./chevron-right-_Vt64A43.js";import{T as ye,P as tt}from"./trash-2-D9XqfvR9.js";import{C as bn}from"./check-VuipGylM.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],yn=K("archive",vn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nn=K("arrow-left",jn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Wt=K("calendar-clock",wn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sn=K("circle-play",Cn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bt=K("copy",En);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Rn=K("mic",kn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Dn=K("panels-top-left",An);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Mn=K("pause",In);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Le=K("pen",Pn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ln=K("play",Tn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_n=K("rotate-ccw",On);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Fn=K("rotate-cw",$n);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Bt=K("send",zn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Wn=K("volume-2",Hn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Vn=K("zap",Bn);function vt(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function Kn(...e){return r=>{let n=!1;const s=e.map(a=>{const l=vt(a,r);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():vt(e[a],null)}}}}function Gn(...e){return o.useCallback(Kn(...e),e)}class Yn extends o.Component{getSnapshotBeforeUpdate(r){const n=this.props.childRef.current;if(n&&r.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=ht(s)&&s.offsetWidth||0,l=ht(s)&&s.offsetHeight||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left,i.bottom=l-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Un({children:e,isPresent:r,anchorX:n,anchorY:s,root:a}){var x;const l=o.useId(),i=o.useRef(null),c=o.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=o.useContext(dn),d=((x=e.props)==null?void 0:x.ref)??(e==null?void 0:e.ref),m=Gn(i,d);return o.useInsertionEffect(()=>{const{width:h,height:u,top:v,left:p,right:y,bottom:b}=c.current;if(r||!i.current||!h||!u)return;const C=n==="left"?`left: ${p}`:`right: ${y}`,N=s==="bottom"?`bottom: ${b}`:`top: ${v}`;i.current.dataset.motionPopId=l;const w=document.createElement("style");f&&(w.nonce=f);const S=a??document.head;return S.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${u}px !important;
            ${C}px !important;
            ${N}px !important;
          }
        `),()=>{S.contains(w)&&S.removeChild(w)}},[r]),t.jsx(Yn,{isPresent:r,childRef:i,sizeRef:c,children:o.cloneElement(e,{ref:m})})}const qn=({children:e,initial:r,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:i,anchorX:c,anchorY:f,root:d})=>{const m=Ht(Xn),x=o.useId();let h=!0,u=o.useMemo(()=>(h=!1,{id:x,initial:r,isPresent:n,custom:a,onExitComplete:v=>{m.set(v,!0);for(const p of m.values())if(!p)return;s&&s()},register:v=>(m.set(v,!1),()=>m.delete(v))}),[n,m,s]);return l&&h&&(u={...u}),o.useMemo(()=>{m.forEach((v,p)=>m.set(p,!1))},[n]),o.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),i==="popLayout"&&(e=t.jsx(Un,{isPresent:n,anchorX:c,anchorY:f,root:d,children:e})),t.jsx(un.Provider,{value:u,children:e})};function Xn(){return new Map}const Ee=e=>e.key||"";function yt(e){const r=[];return o.Children.forEach(e,n=>{o.isValidElement(n)&&r.push(n)}),r}const Zn=({children:e,custom:r,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:i=!1,anchorX:c="left",anchorY:f="top",root:d})=>{const[m,x]=fn(i),h=o.useMemo(()=>yt(e),[e]),u=i&&!m?[]:h.map(Ee),v=o.useRef(!0),p=o.useRef(h),y=Ht(()=>new Map),b=o.useRef(new Set),[C,N]=o.useState(h),[w,S]=o.useState(h);mn(()=>{v.current=!1,p.current=h;for(let M=0;M<w.length;M++){const I=Ee(w[M]);u.includes(I)?(y.delete(I),b.current.delete(I)):y.get(I)!==!0&&y.set(I,!1)}},[w,u.length,u.join("-")]);const D=[];if(h!==C){let M=[...h];for(let I=0;I<w.length;I++){const $=w[I],F=Ee($);u.includes(F)||(M.splice(I,0,$),D.push($))}return l==="wait"&&D.length&&(M=D),S(yt(M)),N(h),null}const{forceRender:k}=o.useContext(xn);return t.jsx(t.Fragment,{children:w.map(M=>{const I=Ee(M),$=i&&!m?!1:h===w||u.includes(I),F=()=>{if(b.current.has(I))return;if(b.current.add(I),y.has(I))y.set(I,!0);else return;let G=!0;y.forEach(J=>{J||(G=!1)}),G&&(k==null||k(),S(p.current),i&&(x==null||x()),s&&s())};return t.jsx(qn,{isPresent:$,initial:!v.current||n?void 0:!1,custom:r,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:$?void 0:F,anchorX:c,anchorY:f,children:M},I)})})};var jt=1,Jn=.9,Qn=.8,es=.17,Ve=.1,Ke=.999,ts=.9999,rs=.99,ns=/[\\\/_+.#"@\[\(\{&]/,ss=/[\\\/_+.#"@\[\(\{&]/g,as=/[\s-]/,Vt=/[\s-]/g;function rt(e,r,n,s,a,l,i){if(l===r.length)return a===e.length?jt:rs;var c=`${a},${l}`;if(i[c]!==void 0)return i[c];for(var f=s.charAt(l),d=n.indexOf(f,a),m=0,x,h,u,v;d>=0;)x=rt(e,r,n,s,d+1,l+1,i),x>m&&(d===a?x*=jt:ns.test(e.charAt(d-1))?(x*=Qn,u=e.slice(a,d-1).match(ss),u&&a>0&&(x*=Math.pow(Ke,u.length))):as.test(e.charAt(d-1))?(x*=Jn,v=e.slice(a,d-1).match(Vt),v&&a>0&&(x*=Math.pow(Ke,v.length))):(x*=es,a>0&&(x*=Math.pow(Ke,d-a))),e.charAt(d)!==r.charAt(l)&&(x*=ts)),(x<Ve&&n.charAt(d-1)===s.charAt(l+1)||s.charAt(l+1)===s.charAt(l)&&n.charAt(d-1)!==s.charAt(l))&&(h=rt(e,r,n,s,d+1,l+2,i),h*Ve>x&&(x=h*Ve)),x>m&&(m=x),d=n.indexOf(f,d+1);return i[c]=m,m}function Nt(e){return e.toLowerCase().replace(Vt," ")}function os(e,r,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,rt(e,r,Nt(e),Nt(r),0,0,{})}function ne(e,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return r==null?void 0:r(a)}}function wt(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function se(...e){return r=>{let n=!1;const s=e.map(a=>{const l=wt(a,r);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():wt(e[a],null)}}}}function ce(...e){return o.useCallback(se(...e),e)}function ls(e,r){const n=o.createContext(r),s=l=>{const{children:i,...c}=l,f=o.useMemo(()=>c,Object.values(c));return t.jsx(n.Provider,{value:f,children:i})};s.displayName=e+"Provider";function a(l){const i=o.useContext(n);if(i)return i;if(r!==void 0)return r;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,a]}function is(e,r=[]){let n=[];function s(l,i){const c=o.createContext(i),f=n.length;n=[...n,i];const d=x=>{var b;const{scope:h,children:u,...v}=x,p=((b=h==null?void 0:h[e])==null?void 0:b[f])||c,y=o.useMemo(()=>v,Object.values(v));return t.jsx(p.Provider,{value:y,children:u})};d.displayName=l+"Provider";function m(x,h){var p;const u=((p=h==null?void 0:h[e])==null?void 0:p[f])||c,v=o.useContext(u);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[d,m]}const a=()=>{const l=n.map(i=>o.createContext(i));return function(c){const f=(c==null?void 0:c[e])||l;return o.useMemo(()=>({[`__scope${e}`]:{...c,[e]:f}}),[c,f])}};return a.scopeName=e,[s,cs(a,...r)]}function cs(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const i=s.reduce((c,{useScope:f,scopeName:d})=>{const x=f(l)[`__scope${d}`];return{...c,...x}},{});return o.useMemo(()=>({[`__scope${r.scopeName}`]:i}),[i])}};return n.scopeName=r.scopeName,n}var je=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},ds=ot[" useId ".trim().toString()]||(()=>{}),us=0;function ee(e){const[r,n]=o.useState(ds());return je(()=>{n(s=>s??String(us++))},[e]),r?`radix-${r}`:""}var fs=ot[" useInsertionEffect ".trim().toString()]||je;function ms({prop:e,defaultProp:r,onChange:n=()=>{},caller:s}){const[a,l,i]=xs({defaultProp:r,onChange:n}),c=e!==void 0,f=c?e:a;{const m=o.useRef(e!==void 0);o.useEffect(()=>{const x=m.current;x!==c&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,s])}const d=o.useCallback(m=>{var x;if(c){const h=ps(m)?m(e):m;h!==e&&((x=i.current)==null||x.call(i,h))}else l(m)},[c,e,l,i]);return[f,d]}function xs({defaultProp:e,onChange:r}){const[n,s]=o.useState(e),a=o.useRef(n),l=o.useRef(r);return fs(()=>{l.current=r},[r]),o.useEffect(()=>{var i;a.current!==n&&((i=l.current)==null||i.call(l,n),a.current=n)},[n,a]),[n,s,l]}function ps(e){return typeof e=="function"}function we(e){const r=hs(e),n=o.forwardRef((s,a)=>{const{children:l,...i}=s,c=o.Children.toArray(l),f=c.find(bs);if(f){const d=f.props.children,m=c.map(x=>x===f?o.Children.count(d)>1?o.Children.only(null):o.isValidElement(d)?d.props.children:null:x);return t.jsx(r,{...i,ref:a,children:o.isValidElement(d)?o.cloneElement(d,void 0,m):null})}return t.jsx(r,{...i,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function hs(e){const r=o.forwardRef((n,s)=>{const{children:a,...l}=n;if(o.isValidElement(a)){const i=ys(a),c=vs(l,a.props);return a.type!==o.Fragment&&(c.ref=s?se(s,i):i),o.cloneElement(a,c)}return o.Children.count(a)>1?o.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var gs=Symbol("radix.slottable");function bs(e){return o.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gs}function vs(e,r){const n={...r};for(const s in r){const a=e[s],l=r[s];/^on[A-Z]/.test(s)?a&&l?n[s]=(...c)=>{const f=l(...c);return a(...c),f}:a&&(n[s]=a):s==="style"?n[s]={...a,...l}:s==="className"&&(n[s]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function ys(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var js=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kt=js.reduce((e,r)=>{const n=we(`Primitive.${r}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function Ns(e,r){e&&ln.flushSync(()=>e.dispatchEvent(r))}function Ne(e){const r=o.useRef(e);return o.useEffect(()=>{r.current=e}),o.useMemo(()=>(...n)=>{var s;return(s=r.current)==null?void 0:s.call(r,...n)},[])}function ws(e,r=globalThis==null?void 0:globalThis.document){const n=Ne(e);o.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[n,r])}var Cs="DismissableLayer",nt="dismissableLayer.update",Ss="dismissableLayer.pointerDownOutside",Es="dismissableLayer.focusOutside",Ct,Gt=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yt=o.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:i,onDismiss:c,...f}=e,d=o.useContext(Gt),[m,x]=o.useState(null),h=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,u]=o.useState({}),v=ce(r,k=>x(k)),p=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(y),C=m?p.indexOf(m):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,w=C>=b,S=As(k=>{const M=k.target,I=[...d.branches].some($=>$.contains(M));!w||I||(a==null||a(k),i==null||i(k),k.defaultPrevented||c==null||c())},h),D=Ds(k=>{const M=k.target;[...d.branches].some($=>$.contains(M))||(l==null||l(k),i==null||i(k),k.defaultPrevented||c==null||c())},h);return ws(k=>{C===d.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},h),o.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Ct=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),St(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ct)}},[m,h,n,d]),o.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),St())},[m,d]),o.useEffect(()=>{const k=()=>u({});return document.addEventListener(nt,k),()=>document.removeEventListener(nt,k)},[]),t.jsx(Kt.div,{...f,ref:v,style:{pointerEvents:N?w?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,D.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,S.onPointerDownCapture)})});Yt.displayName=Cs;var ks="DismissableLayerBranch",Rs=o.forwardRef((e,r)=>{const n=o.useContext(Gt),s=o.useRef(null),a=ce(r,s);return o.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),t.jsx(Kt.div,{...e,ref:a})});Rs.displayName=ks;function As(e,r=globalThis==null?void 0:globalThis.document){const n=Ne(e),s=o.useRef(!1),a=o.useRef(()=>{});return o.useEffect(()=>{const l=c=>{if(c.target&&!s.current){let f=function(){Ut(Ss,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",a.current),a.current=f,r.addEventListener("click",a.current,{once:!0})):f()}else r.removeEventListener("click",a.current);s.current=!1},i=window.setTimeout(()=>{r.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(i),r.removeEventListener("pointerdown",l),r.removeEventListener("click",a.current)}},[r,n]),{onPointerDownCapture:()=>s.current=!0}}function Ds(e,r=globalThis==null?void 0:globalThis.document){const n=Ne(e),s=o.useRef(!1);return o.useEffect(()=>{const a=l=>{l.target&&!s.current&&Ut(Es,n,{originalEvent:l},{discrete:!1})};return r.addEventListener("focusin",a),()=>r.removeEventListener("focusin",a)},[r,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function St(){const e=new CustomEvent(nt);document.dispatchEvent(e)}function Ut(e,r,n,{discrete:s}){const a=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),s?Ns(a,l):a.dispatchEvent(l)}var Is=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ms=Is.reduce((e,r)=>{const n=we(`Primitive.${r}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),Ge="focusScope.autoFocusOnMount",Ye="focusScope.autoFocusOnUnmount",Et={bubbles:!1,cancelable:!0},Ps="FocusScope",qt=o.forwardRef((e,r)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...i}=e,[c,f]=o.useState(null),d=Ne(a),m=Ne(l),x=o.useRef(null),h=ce(r,p=>f(p)),u=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(s){let p=function(N){if(u.paused||!c)return;const w=N.target;c.contains(w)?x.current=w:te(x.current,{select:!0})},y=function(N){if(u.paused||!c)return;const w=N.relatedTarget;w!==null&&(c.contains(w)||te(x.current,{select:!0}))},b=function(N){if(document.activeElement===document.body)for(const S of N)S.removedNodes.length>0&&te(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const C=new MutationObserver(b);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),C.disconnect()}}},[s,c,u.paused]),o.useEffect(()=>{if(c){Rt.add(u);const p=document.activeElement;if(!c.contains(p)){const b=new CustomEvent(Ge,Et);c.addEventListener(Ge,d),c.dispatchEvent(b),b.defaultPrevented||(Ts(Fs(Xt(c)),{select:!0}),document.activeElement===p&&te(c))}return()=>{c.removeEventListener(Ge,d),setTimeout(()=>{const b=new CustomEvent(Ye,Et);c.addEventListener(Ye,m),c.dispatchEvent(b),b.defaultPrevented||te(p??document.body,{select:!0}),c.removeEventListener(Ye,m),Rt.remove(u)},0)}}},[c,d,m,u]);const v=o.useCallback(p=>{if(!n&&!s||u.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(y&&b){const C=p.currentTarget,[N,w]=Ls(C);N&&w?!p.shiftKey&&b===w?(p.preventDefault(),n&&te(N,{select:!0})):p.shiftKey&&b===N&&(p.preventDefault(),n&&te(w,{select:!0})):b===C&&p.preventDefault()}},[n,s,u.paused]);return t.jsx(Ms.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});qt.displayName=Ps;function Ts(e,{select:r=!1}={}){const n=document.activeElement;for(const s of e)if(te(s,{select:r}),document.activeElement!==n)return}function Ls(e){const r=Xt(e),n=kt(r,e),s=kt(r.reverse(),e);return[n,s]}function Xt(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function kt(e,r){for(const n of e)if(!Os(n,{upTo:r}))return n}function Os(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _s(e){return e instanceof HTMLInputElement&&"select"in e}function te(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&_s(e)&&r&&e.select()}}var Rt=$s();function $s(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=At(e,r),e.unshift(r)},remove(r){var n;e=At(e,r),(n=e[0])==null||n.resume()}}}function At(e,r){const n=[...e],s=n.indexOf(r);return s!==-1&&n.splice(s,1),n}function Fs(e){return e.filter(r=>r.tagName!=="A")}var zs=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hs=zs.reduce((e,r)=>{const n=we(`Primitive.${r}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),Ws="Portal",Zt=o.forwardRef((e,r)=>{var c;const{container:n,...s}=e,[a,l]=o.useState(!1);je(()=>l(!0),[]);const i=n||a&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return i?cn.createPortal(t.jsx(Hs.div,{...s,ref:r}),i):null});Zt.displayName=Ws;function Bs(e,r){return o.useReducer((n,s)=>r[n][s]??n,e)}var $e=e=>{const{present:r,children:n}=e,s=Vs(r),a=typeof n=="function"?n({present:s.isPresent}):o.Children.only(n),l=ce(s.ref,Ks(a));return typeof n=="function"||s.isPresent?o.cloneElement(a,{ref:l}):null};$e.displayName="Presence";function Vs(e){const[r,n]=o.useState(),s=o.useRef(null),a=o.useRef(e),l=o.useRef("none"),i=e?"mounted":"unmounted",[c,f]=Bs(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const d=ke(s.current);l.current=c==="mounted"?d:"none"},[c]),je(()=>{const d=s.current,m=a.current;if(m!==e){const h=l.current,u=ke(d);e?f("MOUNT"):u==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(m&&h!==u?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),je(()=>{if(r){let d;const m=r.ownerDocument.defaultView??window,x=u=>{const p=ke(s.current).includes(CSS.escape(u.animationName));if(u.target===r&&p&&(f("ANIMATION_END"),!a.current)){const y=r.style.animationFillMode;r.style.animationFillMode="forwards",d=m.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=y)})}},h=u=>{u.target===r&&(l.current=ke(s.current))};return r.addEventListener("animationstart",h),r.addEventListener("animationcancel",x),r.addEventListener("animationend",x),()=>{m.clearTimeout(d),r.removeEventListener("animationstart",h),r.removeEventListener("animationcancel",x),r.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[r,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function ke(e){return(e==null?void 0:e.animationName)||"none"}function Ks(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Gs=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ce=Gs.reduce((e,r)=>{const n=we(`Primitive.${r}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),Ue=0;function Ys(){o.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Dt()),document.body.insertAdjacentElement("beforeend",e[1]??Dt()),Ue++,()=>{Ue===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ue--}},[])}function Dt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Me="right-scroll-bar-position",Pe="width-before-scroll-bar",Us="with-scroll-bars-hidden",qs="--removed-body-scroll-bar-size";function qe(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function Xs(e,r){var n=o.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=r,n.facade}var Zs=typeof window<"u"?o.useLayoutEffect:o.useEffect,It=new WeakMap;function Js(e,r){var n=Xs(null,function(s){return e.forEach(function(a){return qe(a,s)})});return Zs(function(){var s=It.get(n);if(s){var a=new Set(s),l=new Set(e),i=n.current;a.forEach(function(c){l.has(c)||qe(c,null)}),l.forEach(function(c){a.has(c)||qe(c,i)})}It.set(n,e)},[e]),n}function Qs(e){return e}function ea(e,r){r===void 0&&(r=Qs);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var i=r(l,s);return n.push(i),function(){n=n.filter(function(c){return c!==i})}},assignSyncMedium:function(l){for(s=!0;n.length;){var i=n;n=[],i.forEach(l)}n={push:function(c){return l(c)},filter:function(){return n}}},assignMedium:function(l){s=!0;var i=[];if(n.length){var c=n;n=[],c.forEach(l),i=n}var f=function(){var m=i;i=[],m.forEach(l)},d=function(){return Promise.resolve().then(f)};d(),n={push:function(m){i.push(m),d()},filter:function(m){return i=i.filter(m),n}}}};return a}function ta(e){e===void 0&&(e={});var r=ea(null);return r.options=re({async:!0,ssr:!1},e),r}var Jt=function(e){var r=e.sideCar,n=$t(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return o.createElement(s,re({},n))};Jt.isSideCarExport=!0;function ra(e,r){return e.useMedium(r),Jt}var Qt=ta(),Xe=function(){},Fe=o.forwardRef(function(e,r){var n=o.useRef(null),s=o.useState({onScrollCapture:Xe,onWheelCapture:Xe,onTouchMoveCapture:Xe}),a=s[0],l=s[1],i=e.forwardProps,c=e.children,f=e.className,d=e.removeScrollBar,m=e.enabled,x=e.shards,h=e.sideCar,u=e.noRelative,v=e.noIsolation,p=e.inert,y=e.allowPinchZoom,b=e.as,C=b===void 0?"div":b,N=e.gapMode,w=$t(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,D=Js([n,r]),k=re(re({},w),a);return o.createElement(o.Fragment,null,m&&o.createElement(S,{sideCar:Qt,removeScrollBar:d,shards:x,noRelative:u,noIsolation:v,inert:p,setCallbacks:l,allowPinchZoom:!!y,lockRef:n,gapMode:N}),i?o.cloneElement(o.Children.only(c),re(re({},k),{ref:D})):o.createElement(C,re({},k,{className:f,ref:D}),c))});Fe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fe.classNames={fullWidth:Pe,zeroRight:Me};var na=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sa(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=na();return r&&e.setAttribute("nonce",r),e}function aa(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function oa(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var la=function(){var e=0,r=null;return{add:function(n){e==0&&(r=sa())&&(aa(r,n),oa(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},ia=function(){var e=la();return function(r,n){o.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}},er=function(){var e=ia(),r=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return r},ca={left:0,top:0,right:0,gap:0},Ze=function(e){return parseInt(e||"",10)||0},da=function(e){var r=window.getComputedStyle(document.body),n=r[e==="padding"?"paddingLeft":"marginLeft"],s=r[e==="padding"?"paddingTop":"marginTop"],a=r[e==="padding"?"paddingRight":"marginRight"];return[Ze(n),Ze(s),Ze(a)]},ua=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ca;var r=da(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-n+r[2]-r[0])}},fa=er(),be="data-scroll-locked",ma=function(e,r,n,s){var a=e.left,l=e.top,i=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Us,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(be,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Me,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Pe,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Me," .").concat(Me,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Pe," .").concat(Pe,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(be,`] {
    `).concat(qs,": ").concat(c,`px;
  }
`)},Mt=function(){var e=parseInt(document.body.getAttribute(be)||"0",10);return isFinite(e)?e:0},xa=function(){o.useEffect(function(){return document.body.setAttribute(be,(Mt()+1).toString()),function(){var e=Mt()-1;e<=0?document.body.removeAttribute(be):document.body.setAttribute(be,e.toString())}},[])},pa=function(e){var r=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;xa();var l=o.useMemo(function(){return ua(a)},[a]);return o.createElement(fa,{styles:ma(l,!r,a,n?"":"!important")})},st=!1;if(typeof window<"u")try{var Re=Object.defineProperty({},"passive",{get:function(){return st=!0,!0}});window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch{st=!1}var me=st?{passive:!1}:!1,ha=function(e){return e.tagName==="TEXTAREA"},tr=function(e,r){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!ha(e)&&n[r]==="visible")},ga=function(e){return tr(e,"overflowY")},ba=function(e){return tr(e,"overflowX")},Pt=function(e,r){var n=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=rr(e,s);if(a){var l=nr(e,s),i=l[1],c=l[2];if(i>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},va=function(e){var r=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[r,n,s]},ya=function(e){var r=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[r,n,s]},rr=function(e,r){return e==="v"?ga(r):ba(r)},nr=function(e,r){return e==="v"?va(r):ya(r)},ja=function(e,r){return e==="h"&&r==="rtl"?-1:1},Na=function(e,r,n,s,a){var l=ja(e,window.getComputedStyle(r).direction),i=l*s,c=n.target,f=r.contains(c),d=!1,m=i>0,x=0,h=0;do{if(!c)break;var u=nr(e,c),v=u[0],p=u[1],y=u[2],b=p-y-l*v;(v||b)&&rr(e,c)&&(x+=b,h+=v);var C=c.parentNode;c=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!f&&c!==document.body||f&&(r.contains(c)||r===c));return(m&&Math.abs(x)<1||!m&&Math.abs(h)<1)&&(d=!0),d},Ae=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Tt=function(e){return[e.deltaX,e.deltaY]},Lt=function(e){return e&&"current"in e?e.current:e},wa=function(e,r){return e[0]===r[0]&&e[1]===r[1]},Ca=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Sa=0,xe=[];function Ea(e){var r=o.useRef([]),n=o.useRef([0,0]),s=o.useRef(),a=o.useState(Sa++)[0],l=o.useState(er)[0],i=o.useRef(e);o.useEffect(function(){i.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Mr([e.lockRef.current],(e.shards||[]).map(Lt),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var b=Ae(p),C=n.current,N="deltaX"in p?p.deltaX:C[0]-b[0],w="deltaY"in p?p.deltaY:C[1]-b[1],S,D=p.target,k=Math.abs(N)>Math.abs(w)?"h":"v";if("touches"in p&&k==="h"&&D.type==="range")return!1;var M=window.getSelection(),I=M&&M.anchorNode,$=I?I===D||I.contains(D):!1;if($)return!1;var F=Pt(k,D);if(!F)return!0;if(F?S=k:(S=k==="v"?"h":"v",F=Pt(k,D)),!F)return!1;if(!s.current&&"changedTouches"in p&&(N||w)&&(s.current=S),!S)return!0;var G=s.current||S;return Na(G,y,p,G==="h"?N:w)},[]),f=o.useCallback(function(p){var y=p;if(!(!xe.length||xe[xe.length-1]!==l)){var b="deltaY"in y?Tt(y):Ae(y),C=r.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&wa(S.delta,b)})[0];if(C&&C.should){y.cancelable&&y.preventDefault();return}if(!C){var N=(i.current.shards||[]).map(Lt).filter(Boolean).filter(function(S){return S.contains(y.target)}),w=N.length>0?c(y,N[0]):!i.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),d=o.useCallback(function(p,y,b,C){var N={name:p,delta:y,target:b,should:C,shadowParent:ka(b)};r.current.push(N),setTimeout(function(){r.current=r.current.filter(function(w){return w!==N})},1)},[]),m=o.useCallback(function(p){n.current=Ae(p),s.current=void 0},[]),x=o.useCallback(function(p){d(p.type,Tt(p),p.target,c(p,e.lockRef.current))},[]),h=o.useCallback(function(p){d(p.type,Ae(p),p.target,c(p,e.lockRef.current))},[]);o.useEffect(function(){return xe.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:h}),document.addEventListener("wheel",f,me),document.addEventListener("touchmove",f,me),document.addEventListener("touchstart",m,me),function(){xe=xe.filter(function(p){return p!==l}),document.removeEventListener("wheel",f,me),document.removeEventListener("touchmove",f,me),document.removeEventListener("touchstart",m,me)}},[]);var u=e.removeScrollBar,v=e.inert;return o.createElement(o.Fragment,null,v?o.createElement(l,{styles:Ca(a)}):null,u?o.createElement(pa,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ka(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const Ra=ra(Qt,Ea);var sr=o.forwardRef(function(e,r){return o.createElement(Fe,re({},e,{ref:r,sideCar:Ra}))});sr.classNames=Fe.classNames;var Aa=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},pe=new WeakMap,De=new WeakMap,Ie={},Je=0,ar=function(e){return e&&(e.host||ar(e.parentNode))},Da=function(e,r){return r.map(function(n){if(e.contains(n))return n;var s=ar(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Ia=function(e,r,n,s){var a=Da(r,Array.isArray(e)?e:[e]);Ie[n]||(Ie[n]=new WeakMap);var l=Ie[n],i=[],c=new Set,f=new Set(a),d=function(x){!x||c.has(x)||(c.add(x),d(x.parentNode))};a.forEach(d);var m=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(h){if(c.has(h))m(h);else try{var u=h.getAttribute(s),v=u!==null&&u!=="false",p=(pe.get(h)||0)+1,y=(l.get(h)||0)+1;pe.set(h,p),l.set(h,y),i.push(h),p===1&&v&&De.set(h,!0),y===1&&h.setAttribute(n,"true"),v||h.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return m(r),c.clear(),Je++,function(){i.forEach(function(x){var h=pe.get(x)-1,u=l.get(x)-1;pe.set(x,h),l.set(x,u),h||(De.has(x)||x.removeAttribute(s),De.delete(x)),u||x.removeAttribute(n)}),Je--,Je||(pe=new WeakMap,pe=new WeakMap,De=new WeakMap,Ie={})}},Ma=function(e,r,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Aa(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),Ia(s,a,n,"aria-hidden")):function(){return null}},ze="Dialog",[or]=is(ze),[Pa,U]=or(ze),lr=e=>{const{__scopeDialog:r,children:n,open:s,defaultOpen:a,onOpenChange:l,modal:i=!0}=e,c=o.useRef(null),f=o.useRef(null),[d,m]=ms({prop:s,defaultProp:a??!1,onChange:l,caller:ze});return t.jsx(Pa,{scope:r,triggerRef:c,contentRef:f,contentId:ee(),titleId:ee(),descriptionId:ee(),open:d,onOpenChange:m,onOpenToggle:o.useCallback(()=>m(x=>!x),[m]),modal:i,children:n})};lr.displayName=ze;var ir="DialogTrigger",Ta=o.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=U(ir,n),l=ce(r,a.triggerRef);return t.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":dt(a.open),...s,ref:l,onClick:ne(e.onClick,a.onOpenToggle)})});Ta.displayName=ir;var it="DialogPortal",[La,cr]=or(it,{forceMount:void 0}),dr=e=>{const{__scopeDialog:r,forceMount:n,children:s,container:a}=e,l=U(it,r);return t.jsx(La,{scope:r,forceMount:n,children:o.Children.map(s,i=>t.jsx($e,{present:n||l.open,children:t.jsx(Zt,{asChild:!0,container:a,children:i})}))})};dr.displayName=it;var Oe="DialogOverlay",ur=o.forwardRef((e,r)=>{const n=cr(Oe,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,l=U(Oe,e.__scopeDialog);return l.modal?t.jsx($e,{present:s||l.open,children:t.jsx(_a,{...a,ref:r})}):null});ur.displayName=Oe;var Oa=we("DialogOverlay.RemoveScroll"),_a=o.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=U(Oe,n);return t.jsx(sr,{as:Oa,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx(Ce.div,{"data-state":dt(a.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),le="DialogContent",fr=o.forwardRef((e,r)=>{const n=cr(le,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,l=U(le,e.__scopeDialog);return t.jsx($e,{present:s||l.open,children:l.modal?t.jsx($a,{...a,ref:r}):t.jsx(Fa,{...a,ref:r})})});fr.displayName=le;var $a=o.forwardRef((e,r)=>{const n=U(le,e.__scopeDialog),s=o.useRef(null),a=ce(r,n.contentRef,s);return o.useEffect(()=>{const l=s.current;if(l)return Ma(l)},[]),t.jsx(mr,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ne(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&l.preventDefault()}),onFocusOutside:ne(e.onFocusOutside,l=>l.preventDefault())})}),Fa=o.forwardRef((e,r)=>{const n=U(le,e.__scopeDialog),s=o.useRef(!1),a=o.useRef(!1);return t.jsx(mr,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var i,c;(i=e.onCloseAutoFocus)==null||i.call(e,l),l.defaultPrevented||(s.current||(c=n.triggerRef.current)==null||c.focus(),l.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:l=>{var f,d;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=l.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),mr=o.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,...i}=e,c=U(le,n),f=o.useRef(null),d=ce(r,f);return Ys(),t.jsxs(t.Fragment,{children:[t.jsx(qt,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:l,children:t.jsx(Yt,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":dt(c.open),...i,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Ba,{titleId:c.titleId}),t.jsx(Ka,{contentRef:f,descriptionId:c.descriptionId})]})]})}),ct="DialogTitle",za=o.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=U(ct,n);return t.jsx(Ce.h2,{id:a.titleId,...s,ref:r})});za.displayName=ct;var xr="DialogDescription",Ha=o.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=U(xr,n);return t.jsx(Ce.p,{id:a.descriptionId,...s,ref:r})});Ha.displayName=xr;var pr="DialogClose",Wa=o.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=U(pr,n);return t.jsx(Ce.button,{type:"button",...s,ref:r,onClick:ne(e.onClick,()=>a.onOpenChange(!1))})});Wa.displayName=pr;function dt(e){return e?"open":"closed"}var hr="DialogTitleWarning",[Vo,gr]=ls(hr,{contentName:le,titleName:ct,docsSlug:"dialog"}),Ba=({titleId:e})=>{const r=gr(hr),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return o.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Va="DialogDescriptionWarning",Ka=({contentRef:e,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gr(Va).contentName}}.`;return o.useEffect(()=>{var l;const a=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(s))},[s,e,r]),null},Ga=lr,Ya=dr,Ua=ur,qa=fr,Xa=Symbol.for("react.lazy"),_e=ot[" use ".trim().toString()];function Za(e){return typeof e=="object"&&e!==null&&"then"in e}function br(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Xa&&"_payload"in e&&Za(e._payload)}function Ja(e){const r=Qa(e),n=o.forwardRef((s,a)=>{let{children:l,...i}=s;br(l)&&typeof _e=="function"&&(l=_e(l._payload));const c=o.Children.toArray(l),f=c.find(to);if(f){const d=f.props.children,m=c.map(x=>x===f?o.Children.count(d)>1?o.Children.only(null):o.isValidElement(d)?d.props.children:null:x);return t.jsx(r,{...i,ref:a,children:o.isValidElement(d)?o.cloneElement(d,void 0,m):null})}return t.jsx(r,{...i,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function Qa(e){const r=o.forwardRef((n,s)=>{let{children:a,...l}=n;if(br(a)&&typeof _e=="function"&&(a=_e(a._payload)),o.isValidElement(a)){const i=no(a),c=ro(l,a.props);return a.type!==o.Fragment&&(c.ref=s?se(s,i):i),o.cloneElement(a,c)}return o.Children.count(a)>1?o.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var eo=Symbol("radix.slottable");function to(e){return o.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eo}function ro(e,r){const n={...r};for(const s in r){const a=e[s],l=r[s];/^on[A-Z]/.test(s)?a&&l?n[s]=(...c)=>{const f=l(...c);return a(...c),f}:a&&(n[s]=a):s==="style"?n[s]={...a,...l}:s==="className"&&(n[s]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function no(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var so=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oe=so.reduce((e,r)=>{const n=Ja(`Primitive.${r}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),ve='[cmdk-group=""]',Qe='[cmdk-group-items=""]',ao='[cmdk-group-heading=""]',vr='[cmdk-item=""]',Ot=`${vr}:not([aria-disabled="true"])`,at="cmdk-item-select",he="data-value",oo=(e,r,n)=>os(e,r,n),yr=o.createContext(void 0),Se=()=>o.useContext(yr),jr=o.createContext(void 0),ut=()=>o.useContext(jr),Nr=o.createContext(void 0),wr=o.forwardRef((e,r)=>{let n=ge(()=>{var g,E;return{search:"",value:(E=(g=e.value)!=null?g:e.defaultValue)!=null?E:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=ge(()=>new Set),a=ge(()=>new Map),l=ge(()=>new Map),i=ge(()=>new Set),c=Cr(e),{label:f,children:d,value:m,onValueChange:x,filter:h,shouldFilter:u,loop:v,disablePointerSelection:p=!1,vimBindings:y=!0,...b}=e,C=ee(),N=ee(),w=ee(),S=o.useRef(null),D=bo();ie(()=>{if(m!==void 0){let g=m.trim();n.current.value=g,k.emit()}},[m]),ie(()=>{D(6,J)},[]);let k=o.useMemo(()=>({subscribe:g=>(i.current.add(g),()=>i.current.delete(g)),snapshot:()=>n.current,setState:(g,E,P)=>{var R,L,_,V;if(!Object.is(n.current[g],E)){if(n.current[g]=E,g==="search")G(),$(),D(1,F);else if(g==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let W=document.getElementById(w);W?W.focus():(R=document.getElementById(C))==null||R.focus()}if(D(7,()=>{var W;n.current.selectedItemId=(W=Y())==null?void 0:W.id,k.emit()}),P||D(5,J),((L=c.current)==null?void 0:L.value)!==void 0){let W=E??"";(V=(_=c.current).onValueChange)==null||V.call(_,W);return}}k.emit()}},emit:()=>{i.current.forEach(g=>g())}}),[]),M=o.useMemo(()=>({value:(g,E,P)=>{var R;E!==((R=l.current.get(g))==null?void 0:R.value)&&(l.current.set(g,{value:E,keywords:P}),n.current.filtered.items.set(g,I(E,P)),D(2,()=>{$(),k.emit()}))},item:(g,E)=>(s.current.add(g),E&&(a.current.has(E)?a.current.get(E).add(g):a.current.set(E,new Set([g]))),D(3,()=>{G(),$(),n.current.value||F(),k.emit()}),()=>{l.current.delete(g),s.current.delete(g),n.current.filtered.items.delete(g);let P=Y();D(4,()=>{G(),(P==null?void 0:P.getAttribute("id"))===g&&F(),k.emit()})}),group:g=>(a.current.has(g)||a.current.set(g,new Set),()=>{l.current.delete(g),a.current.delete(g)}),filter:()=>c.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:C,inputId:w,labelId:N,listInnerRef:S}),[]);function I(g,E){var P,R;let L=(R=(P=c.current)==null?void 0:P.filter)!=null?R:oo;return g?L(g,n.current.search,E):0}function $(){if(!n.current.search||c.current.shouldFilter===!1)return;let g=n.current.filtered.items,E=[];n.current.filtered.groups.forEach(R=>{let L=a.current.get(R),_=0;L.forEach(V=>{let W=g.get(V);_=Math.max(W,_)}),E.push([R,_])});let P=S.current;q().sort((R,L)=>{var _,V;let W=R.getAttribute("id"),ue=L.getAttribute("id");return((_=g.get(ue))!=null?_:0)-((V=g.get(W))!=null?V:0)}).forEach(R=>{let L=R.closest(Qe);L?L.appendChild(R.parentElement===L?R:R.closest(`${Qe} > *`)):P.appendChild(R.parentElement===P?R:R.closest(`${Qe} > *`))}),E.sort((R,L)=>L[1]-R[1]).forEach(R=>{var L;let _=(L=S.current)==null?void 0:L.querySelector(`${ve}[${he}="${encodeURIComponent(R[0])}"]`);_==null||_.parentElement.appendChild(_)})}function F(){let g=q().find(P=>P.getAttribute("aria-disabled")!=="true"),E=g==null?void 0:g.getAttribute(he);k.setState("value",E||void 0)}function G(){var g,E,P,R;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let L=0;for(let _ of s.current){let V=(E=(g=l.current.get(_))==null?void 0:g.value)!=null?E:"",W=(R=(P=l.current.get(_))==null?void 0:P.keywords)!=null?R:[],ue=I(V,W);n.current.filtered.items.set(_,ue),ue>0&&L++}for(let[_,V]of a.current)for(let W of V)if(n.current.filtered.items.get(W)>0){n.current.filtered.groups.add(_);break}n.current.filtered.count=L}function J(){var g,E,P;let R=Y();R&&(((g=R.parentElement)==null?void 0:g.firstChild)===R&&((P=(E=R.closest(ve))==null?void 0:E.querySelector(ao))==null||P.scrollIntoView({block:"nearest"})),R.scrollIntoView({block:"nearest"}))}function Y(){var g;return(g=S.current)==null?void 0:g.querySelector(`${vr}[aria-selected="true"]`)}function q(){var g;return Array.from(((g=S.current)==null?void 0:g.querySelectorAll(Ot))||[])}function X(g){let E=q()[g];E&&k.setState("value",E.getAttribute(he))}function Q(g){var E;let P=Y(),R=q(),L=R.findIndex(V=>V===P),_=R[L+g];(E=c.current)!=null&&E.loop&&(_=L+g<0?R[R.length-1]:L+g===R.length?R[0]:R[L+g]),_&&k.setState("value",_.getAttribute(he))}function j(g){let E=Y(),P=E==null?void 0:E.closest(ve),R;for(;P&&!R;)P=g>0?ho(P,ve):go(P,ve),R=P==null?void 0:P.querySelector(Ot);R?k.setState("value",R.getAttribute(he)):Q(g)}let T=()=>X(q().length-1),H=g=>{g.preventDefault(),g.metaKey?T():g.altKey?j(1):Q(1)},de=g=>{g.preventDefault(),g.metaKey?X(0):g.altKey?j(-1):Q(-1)};return o.createElement(oe.div,{ref:r,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:g=>{var E;(E=b.onKeyDown)==null||E.call(b,g);let P=g.nativeEvent.isComposing||g.keyCode===229;if(!(g.defaultPrevented||P))switch(g.key){case"n":case"j":{y&&g.ctrlKey&&H(g);break}case"ArrowDown":{H(g);break}case"p":case"k":{y&&g.ctrlKey&&de(g);break}case"ArrowUp":{de(g);break}case"Home":{g.preventDefault(),X(0);break}case"End":{g.preventDefault(),T();break}case"Enter":{g.preventDefault();let R=Y();if(R){let L=new Event(at);R.dispatchEvent(L)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:yo},f),He(e,g=>o.createElement(jr.Provider,{value:k},o.createElement(yr.Provider,{value:M},g))))}),lo=o.forwardRef((e,r)=>{var n,s;let a=ee(),l=o.useRef(null),i=o.useContext(Nr),c=Se(),f=Cr(e),d=(s=(n=f.current)==null?void 0:n.forceMount)!=null?s:i==null?void 0:i.forceMount;ie(()=>{if(!d)return c.item(a,i==null?void 0:i.id)},[d]);let m=Sr(a,l,[e.value,e.children,l],e.keywords),x=ut(),h=ae(D=>D.value&&D.value===m.current),u=ae(D=>d||c.filter()===!1?!0:D.search?D.filtered.items.get(a)>0:!0);o.useEffect(()=>{let D=l.current;if(!(!D||e.disabled))return D.addEventListener(at,v),()=>D.removeEventListener(at,v)},[u,e.onSelect,e.disabled]);function v(){var D,k;p(),(k=(D=f.current).onSelect)==null||k.call(D,m.current)}function p(){x.setState("value",m.current,!0)}if(!u)return null;let{disabled:y,value:b,onSelect:C,forceMount:N,keywords:w,...S}=e;return o.createElement(oe.div,{ref:se(l,r),...S,id:a,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!h,"data-disabled":!!y,"data-selected":!!h,onPointerMove:y||c.getDisablePointerSelection()?void 0:p,onClick:y?void 0:v},e.children)}),io=o.forwardRef((e,r)=>{let{heading:n,children:s,forceMount:a,...l}=e,i=ee(),c=o.useRef(null),f=o.useRef(null),d=ee(),m=Se(),x=ae(u=>a||m.filter()===!1?!0:u.search?u.filtered.groups.has(i):!0);ie(()=>m.group(i),[]),Sr(i,c,[e.value,e.heading,f]);let h=o.useMemo(()=>({id:i,forceMount:a}),[a]);return o.createElement(oe.div,{ref:se(c,r),...l,"cmdk-group":"",role:"presentation",hidden:x?void 0:!0},n&&o.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),He(e,u=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},o.createElement(Nr.Provider,{value:h},u))))}),co=o.forwardRef((e,r)=>{let{alwaysRender:n,...s}=e,a=o.useRef(null),l=ae(i=>!i.search);return!n&&!l?null:o.createElement(oe.div,{ref:se(a,r),...s,"cmdk-separator":"",role:"separator"})}),uo=o.forwardRef((e,r)=>{let{onValueChange:n,...s}=e,a=e.value!=null,l=ut(),i=ae(d=>d.search),c=ae(d=>d.selectedItemId),f=Se();return o.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),o.createElement(oe.input,{ref:r,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":c,id:f.inputId,type:"text",value:a?e.value:i,onChange:d=>{a||l.setState("search",d.target.value),n==null||n(d.target.value)}})}),fo=o.forwardRef((e,r)=>{let{children:n,label:s="Suggestions",...a}=e,l=o.useRef(null),i=o.useRef(null),c=ae(d=>d.selectedItemId),f=Se();return o.useEffect(()=>{if(i.current&&l.current){let d=i.current,m=l.current,x,h=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let u=d.offsetHeight;m.style.setProperty("--cmdk-list-height",u.toFixed(1)+"px")})});return h.observe(d),()=>{cancelAnimationFrame(x),h.unobserve(d)}}},[]),o.createElement(oe.div,{ref:se(l,r),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":s,id:f.listId},He(e,d=>o.createElement("div",{ref:se(i,f.listInnerRef),"cmdk-list-sizer":""},d)))}),mo=o.forwardRef((e,r)=>{let{open:n,onOpenChange:s,overlayClassName:a,contentClassName:l,container:i,...c}=e;return o.createElement(Ga,{open:n,onOpenChange:s},o.createElement(Ya,{container:i},o.createElement(Ua,{"cmdk-overlay":"",className:a}),o.createElement(qa,{"aria-label":e.label,"cmdk-dialog":"",className:l},o.createElement(wr,{ref:r,...c}))))}),xo=o.forwardRef((e,r)=>ae(n=>n.filtered.count===0)?o.createElement(oe.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),po=o.forwardRef((e,r)=>{let{progress:n,children:s,label:a="Loading...",...l}=e;return o.createElement(oe.div,{ref:r,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},He(e,i=>o.createElement("div",{"aria-hidden":!0},i)))}),B=Object.assign(wr,{List:fo,Item:lo,Input:uo,Group:io,Separator:co,Dialog:mo,Empty:xo,Loading:po});function ho(e,r){let n=e.nextElementSibling;for(;n;){if(n.matches(r))return n;n=n.nextElementSibling}}function go(e,r){let n=e.previousElementSibling;for(;n;){if(n.matches(r))return n;n=n.previousElementSibling}}function Cr(e){let r=o.useRef(e);return ie(()=>{r.current=e}),r}var ie=typeof window>"u"?o.useEffect:o.useLayoutEffect;function ge(e){let r=o.useRef();return r.current===void 0&&(r.current=e()),r}function ae(e){let r=ut(),n=()=>e(r.snapshot());return o.useSyncExternalStore(r.subscribe,n,n)}function Sr(e,r,n,s=[]){let a=o.useRef(),l=Se();return ie(()=>{var i;let c=(()=>{var d;for(let m of n){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(d=m.current.textContent)==null?void 0:d.trim():a.current}})(),f=s.map(d=>d.trim());l.value(e,c,f),(i=r.current)==null||i.setAttribute(he,c),a.current=c}),a}var bo=()=>{let[e,r]=o.useState(),n=ge(()=>new Map);return ie(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,a)=>{n.current.set(s,a),r({})}};function vo(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function He({asChild:e,children:r},n){return e&&o.isValidElement(r)?o.cloneElement(vo(r),{ref:r.ref},n(r.props.children)):n(r)}var yo={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const jo=()=>{const[e,r]=o.useState(!1),[n,s]=o.useState([]),[a,l]=o.useState([]),[i,c]=o.useState("root"),[f,d]=o.useState(null),[m,x]=o.useState(""),h=Ft(),{showToast:u}=Pr();o.useEffect(()=>{const b=C=>{C.key==="k"&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),r(N=>(N||(c("root"),x("")),!N)))};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[]),o.useEffect(()=>{e&&(xt().then(s),Tr().then(l))},[e]);const v=b=>{r(!1),b()},p=async b=>{if(!f)return;const C=n.find(N=>N.caseId===f);C==null||C.status;try{await _r(f,{status:b}),u(`${C==null?void 0:C.customerName}  ${b}() .`,"success"),r(!1),c("root"),xt().then(s)}catch(N){console.error("Failed to update status",N),u("  .","error")}},y=o.useMemo(()=>{if(!m)return n;const b=m.toLowerCase();return n.filter(C=>C.customerName.toLowerCase().includes(b)||C.phone.includes(b))},[n,m]);return e?t.jsx(Zn,{children:e&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsx(pn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:t.jsxs(B,{className:"w-full",onKeyDown:b=>{b.key==="Backspace"&&!m&&(b.preventDefault(),i==="status-select"&&c("status-case-select"),i==="status-case-select"&&c("root"))},children:[t.jsxs("div",{className:"flex items-center border-b border-gray-100 dark:border-gray-700 px-4",children:[i!=="root"&&t.jsx("button",{onClick:()=>{c(i==="status-select"?"status-case-select":"root")},className:"mr-2 p-1 hover:bg-gray-100 rounded text-gray-500",children:t.jsx(No,{})}),t.jsx(gn,{className:"w-5 h-5 text-gray-400 mr-2"}),t.jsx(B.Input,{value:m,onValueChange:x,className:"w-full p-4 bg-transparent outline-none text-gray-800 dark:text-gray-100 placeholder-gray-400",placeholder:i==="root"?"   (, , )...":i==="status-case-select"?"   ...":"  ..."})]}),t.jsxs(B.List,{className:"max-h-[60vh] overflow-y-auto p-2 scrollbar-hide",children:[t.jsx(B.Empty,{className:"p-4 text-center text-gray-500",children:"  ."}),i==="root"&&t.jsxs(t.Fragment,{children:[t.jsx(B.Group,{heading:" ",className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:t.jsxs(B.Item,{onSelect:()=>{c("status-case-select"),x("")},className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-orange-100 p-1.5 rounded mr-3 text-orange-600",children:t.jsx(Vn,{size:16})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium",children:"  "}),t.jsx("span",{className:"text-[10px] text-gray-400",children:"     "})]}),t.jsx(gt,{className:"ml-auto w-4 h-4 text-gray-400"})]})}),t.jsxs(B.Group,{heading:" ",className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:[t.jsxs(B.Item,{onSelect:()=>v(()=>h("/")),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-blue-100 p-1.5 rounded mr-3 text-blue-600",children:t.jsx(Lr,{size:16})}),t.jsx("span",{className:"text-sm font-medium",children:""})]}),t.jsxs(B.Item,{onSelect:()=>v(()=>h("/cases")),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-purple-100 p-1.5 rounded mr-3 text-purple-600",children:t.jsx(zt,{size:16})}),t.jsx("span",{className:"text-sm font-medium",children:" "})]}),t.jsxs(B.Item,{onSelect:()=>v(()=>h("/new")),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-green-100 p-1.5 rounded mr-3 text-green-600",children:t.jsx(We,{size:16})}),t.jsx("span",{className:"text-sm font-medium",children:"  "})]})]}),t.jsx(B.Group,{heading:" ",className:"text-xs font-semibold text-gray-500 mb-2 px-2 mt-2",children:n.slice(0,5).map(b=>t.jsxs(B.Item,{onSelect:()=>v(()=>h(`/case/${b.caseId}`)),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-1.5 rounded mr-3 text-gray-600 dark:text-gray-300",children:t.jsx(We,{size:16})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:b.customerName}),t.jsxs("span",{className:"text-xs text-gray-500",children:[b.phone," | ",b.status]})]})]},b.caseId))})]}),i==="status-case-select"&&t.jsx(B.Group,{heading:"  ( )",className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:y.slice(0,20).map(b=>t.jsxs(B.Item,{onSelect:()=>{d(b.caseId),c("status-select"),x("")},className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-1.5 rounded mr-3 text-gray-600 dark:text-gray-300",children:t.jsx(We,{size:16})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:b.customerName}),t.jsxs("span",{className:"text-xs text-gray-500",children:[b.phone," | : ",b.status]})]}),t.jsx(gt,{className:"ml-auto w-4 h-4 text-gray-400"})]},"status-"+b.caseId))}),i==="status-select"&&t.jsx(B.Group,{heading:"  ",className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:a.filter(b=>b!=="").map(b=>t.jsxs(B.Item,{onSelect:()=>p(b),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-gray-100 p-1.5 rounded mr-3 text-gray-600",children:t.jsx(Or,{size:16})}),t.jsx("span",{className:"text-sm font-medium text-gray-800",children:b})]},b))})]}),t.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 p-2 px-4 flex justify-between items-center text-[10px] text-gray-400 bg-gray-50 dark:bg-gray-900/50",children:[t.jsx("span",{children:": "}),t.jsx("span",{children:": "}),t.jsx("span",{children:": Bksp"}),t.jsx("span",{children:": ESC"})]})]})})})}):null},No=()=>t.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",children:t.jsx("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),wo=({c:e,partner:r,statuses:n,secondaryStatuses:s,onStatusChangeStart:a,onSecondaryStatusChangeStart:l})=>{const i=tn(e,r);return t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 sticky top-0 z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold text-white whitespace-nowrap "+(["",""].includes(e.caseType||"")?"bg-indigo-500":"bg-gray-500"),children:e.caseType}),t.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded font-bold border border-gray-200 whitespace-nowrap",children:(r==null?void 0:r.name)||" "}),t.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 whitespace-nowrap",children:e.customerName}),t.jsx("span",{className:"text-gray-500 whitespace-nowrap",children:e.phone})]}),i.length>0&&t.jsx("div",{className:"flex gap-2 mt-2",children:i.map(c=>t.jsxs("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-0.5 rounded font-bold flex items-center",children:[t.jsx($r,{size:12,className:"mr-1"})," ",c]},c))})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("label",{className:"text-xs text-gray-400 font-medium",children:"1 "}),t.jsx("select",{className:"p-2 border border-gray-300 rounded font-semibold outline-none min-w-[140px] "+(Fr[e.status]||"bg-blue-50 text-blue-800"),value:e.status,onChange:c=>a(c.target.value),children:n.map(c=>t.jsx("option",{value:c,children:c},c))})]}),e.status===" "&&t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("label",{className:"text-xs text-purple-500 font-medium",children:"2 "}),t.jsxs("select",{className:"p-2 border border-purple-300 rounded font-semibold outline-none min-w-[140px] bg-purple-50 text-purple-800",value:e.secondaryStatus||"",onChange:c=>l(c.target.value||null),children:[t.jsx("option",{value:"",children:" "}),s.map(c=>t.jsx("option",{value:c,children:c},c))]})]})]})]})})},Co=({reminders:e,memos:r,onUpdateReminders:n,onUpdateMemos:s,showToast:a})=>{const[l,i]=o.useState(""),[c,f]=o.useState("09"),[d,m]=o.useState("00"),[x,h]=o.useState(""),[u,v]=o.useState(""),[p,y]=o.useState(""),[b,C]=o.useState(null),[N,w]=o.useState(null),[S,D]=o.useState(""),[k,M]=o.useState(null),[I,$]=o.useState("");o.useEffect(()=>{h(l&&c&&d?`${l} ${c}:${d}`:"")},[l,c,d]);const F=()=>{if(!x){a("  .","error");return}if(e.length>=5){a("  5   .","error");return}const j={id:Date.now().toString(),datetime:x.replace("T"," "),type:u,content:p};n([...e,j]),i(""),f("09"),m("00"),h(""),y(""),v(""),a("  .")},G=j=>{n(e.filter(T=>T.id!==j)),C(null),a(" .")},J=()=>{if(!I.trim())return;const j={id:Date.now().toString(),createdAt:new Date().toISOString(),content:I.trim()};s([j,...r]),$(""),a("  .")},Y=()=>{if(!N)return;const j=r.map(T=>T.id===N?{...T,content:S}:T);s(j),w(null),D(""),a("  .")},q=j=>{s(r.filter(T=>T.id!==j)),a("  ."),M(null)},X=[...e].sort((j,T)=>j.datetime.localeCompare(T.datetime)),Q=[...r].sort((j,T)=>T.createdAt.localeCompare(j.createdAt));return t.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-100",children:[t.jsx("h3",{className:"font-bold text-yellow-800 mb-2 flex items-center gap-2",children:"    "}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-200 shadow-sm",children:[t.jsxs("label",{className:"block text-xs font-bold text-yellow-800 mb-2",children:["   (",X.length,"/5)"]}),t.jsx("div",{className:"flex flex-col md:flex-row gap-2 mb-3",children:t.jsxs("div",{className:"flex flex-col gap-2 flex-[2]",children:[t.jsx("input",{type:"date",className:"w-full p-2 border border-blue-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500",value:l,onChange:j=>i(j.target.value),disabled:(e.length||0)>=5}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("select",{className:"flex-1 p-2 border border-blue-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500",value:c,onChange:j=>f(j.target.value),disabled:(e.length||0)>=5,children:Array.from({length:24}).map((j,T)=>{const H=T.toString().padStart(2,"0");return t.jsxs("option",{value:H,children:[H,""]},H)})}),t.jsx("select",{className:"flex-1 p-2 border border-blue-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500",value:d,onChange:j=>m(j.target.value),disabled:(e.length||0)>=5,children:["00","10","20","30","40","50"].map(j=>t.jsxs("option",{value:j,children:[j,""]},j))}),t.jsxs("select",{className:"flex-1 p-2 border border-blue-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500 min-w-[60px]",value:u,onChange:j=>v(j.target.value),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",className:"flex-1 p-2 border border-gray-300 rounded text-sm",placeholder:u===""?"  ":" ()",value:p,onChange:j=>y(j.target.value)}),t.jsx("button",{onClick:F,disabled:(e.length||0)>=5,className:"bg-yellow-500 text-white px-3 py-2 rounded text-sm font-bold hover:bg-yellow-600 whitespace-nowrap disabled:bg-gray-400",children:""})]}),t.jsx("div",{className:"space-y-2 mt-2",children:X.length===0?t.jsx("div",{className:"text-center py-2 text-xs text-gray-400 bg-gray-50 rounded border border-gray-100 border-dashed",children:"  ."}):X.map(j=>t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded p-2 flex flex-col gap-2",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center w-full gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx(Wt,{size:16,className:"text-blue-600 flex-shrink-0"}),t.jsx("span",{className:"text-sm font-bold text-gray-800 whitespace-nowrap",children:j.datetime}),t.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold whitespace-nowrap ${j.type===""?"bg-purple-100 text-purple-700":j.type===""?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:j.type||""})]}),j.content&&t.jsx("span",{className:"text-xs text-gray-600 break-words w-full md:w-auto md:max-w-[200px]",children:j.content})]}),t.jsx("div",{className:"pt-2 border-t border-blue-100 w-full",children:j.resultStatus?t.jsxs("div",{className:"flex justify-between items-center text-xs",children:[t.jsx("span",{className:`font-bold px-2 py-0.5 rounded ${j.resultStatus===""?"bg-green-100 text-green-700":j.resultStatus===""?"bg-red-100 text-red-700":j.resultStatus===""?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:j.resultStatus}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-500 truncate max-w-[150px]",children:j.resultNote}),t.jsx("button",{onClick:()=>{const T=e.map(H=>H.id===j.id?{...H,resultStatus:void 0,resultNote:void 0}:H);n(T)},className:"text-gray-400 hover:text-gray-600 underline whitespace-nowrap",children:""})]})]}):t.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar pb-1",children:[t.jsx("span",{className:"text-xs text-blue-400 font-bold flex-shrink-0",children:":"}),["","","",""].map(T=>t.jsx("button",{type:"button",onClick:()=>{const H=prompt(`${T}     ():`),de=e.map(g=>g.id===j.id?{...g,resultStatus:T,resultNote:H||""}:g);n(de)},className:`text-[10px] px-2 py-1 rounded border flex-shrink-0 transition-colors ${T===""?"border-green-200 text-green-700 hover:bg-green-50":T===""?"border-red-200 text-red-700 hover:bg-red-50":T===""?"border-blue-200 text-blue-700 hover:bg-blue-50":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:T},T)),b===j.id?t.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[t.jsx("button",{onClick:()=>G(j.id),className:"text-green-600 text-xs font-bold",children:""}),t.jsx("button",{onClick:()=>C(null),className:"text-red-500 text-xs",children:""})]}):t.jsx("button",{onClick:()=>C(j.id),className:"text-red-500 p-1 hover:bg-red-50 rounded flex-shrink-0",title:" ",children:t.jsx(ye,{size:16})})]})})]},j.id))})]}),t.jsxs("div",{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-yellow-800 mb-1",children:"  "}),t.jsx("textarea",{className:"w-full p-2 border border-yellow-300 rounded bg-white h-[60px] text-sm focus:ring-1 focus:ring-yellow-500 outline-none",value:I,onChange:j=>$(j.target.value),placeholder:"   ..."}),t.jsx("button",{onClick:J,className:"w-full mt-1 bg-yellow-100 text-yellow-800 border border-yellow-300 px-3 py-1.5 rounded text-xs font-bold hover:bg-yellow-200",children:"  "})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("label",{className:"block text-xs font-medium text-yellow-800 mb-2",children:["  (",r.length,")"]}),t.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-2 bg-yellow-100/30 p-2 rounded",children:[Q.length===0&&t.jsx("p",{className:"text-center text-xs text-gray-500 py-4",children:"   ."}),Q.map(j=>t.jsxs("div",{className:"bg-white p-3 rounded text-xs shadow-sm border border-yellow-100",children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsx("p",{className:"font-bold text-gray-500 text-[10px]",children:Te(new Date(j.createdAt),"yyyy-MM-dd HH:mm")}),t.jsx("div",{className:"flex gap-1",children:N===j.id?t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:Y,className:"text-green-600 hover:bg-green-50 p-1 rounded",title:"",children:t.jsx(bn,{size:14})}),t.jsx("button",{type:"button",onClick:()=>w(null),className:"text-gray-400 hover:bg-gray-100 p-1 rounded",title:"",children:t.jsx(lt,{size:14})})]}):k===j.id?t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:()=>q(j.id),className:"text-green-600 hover:bg-green-50 p-1 rounded font-bold",title:"",children:""}),t.jsx("button",{type:"button",onClick:()=>M(null),className:"text-red-500 hover:bg-red-50 p-1 rounded",title:"",children:""})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:()=>{w(j.id),D(j.content)},className:"text-blue-500 hover:bg-blue-50 p-1 rounded",title:"",children:t.jsx(Le,{size:14})}),t.jsx("button",{type:"button",onClick:()=>M(j.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",title:"",children:t.jsx(ye,{size:14})})]})})]}),N===j.id?t.jsx("textarea",{className:"w-full p-1 border rounded text-xs h-20",value:S,onChange:T=>D(T.target.value)}):t.jsx("p",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:j.content})]},j.id))]})]})]})]})]})},_t=e=>{if(!e||isNaN(e))return"00:00";const r=Math.floor(e/60),n=Math.floor(e%60);return`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},So=({src:e,fileName:r})=>{const n=o.useRef(null),[s,a]=o.useState(!1),[l,i]=o.useState(0),[c,f]=o.useState(0),[d,m]=o.useState(!1);o.useEffect(()=>{a(!1),f(0),i(0),m(!1),n.current&&(n.current.currentTime=0,n.current.load())},[e]);const x=()=>{if(n.current){if(s)n.current.pause();else{const N=n.current.play();N!==void 0&&N.catch(w=>{console.error("Playback failed",w),m(!0)})}a(!s)}},h=()=>{n.current&&f(n.current.currentTime)},u=()=>{n.current&&(i(n.current.duration),m(!1))},v=N=>{const w=Number(N.target.value);n.current&&(n.current.currentTime=w,f(w))},p=N=>{n.current&&(n.current.currentTime+=N)},y=()=>{m(!0),a(!1)},b=e.includes("drive.google.com"),C=N=>{if(!N.includes("drive.google.com"))return N;let w="";const S=N.match(/\/file\/d\/([a-zA-Z0-9_-]+)/);if(S)w=S[1];else{const D=N.match(/[?&]id=([a-zA-Z0-9_-]+)/);D&&(w=D[1])}return w?`https://drive.google.com/file/d/${w}/preview`:N};return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-purple-100 p-4 w-full",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"bg-purple-100 p-1.5 rounded-full text-purple-600",children:t.jsx(Wn,{size:16})}),t.jsx("span",{className:"text-sm font-bold text-gray-700 truncate flex-1",children:r||"  "})]}),b?t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"relative w-full h-[100px] bg-gray-100 rounded-lg overflow-hidden border border-gray-200",children:t.jsx("iframe",{src:C(e),className:"w-full h-full border-none",title:"Audio Preview",allow:"autoplay"})}),t.jsxs("div",{className:"flex justify-end items-center gap-2",children:[t.jsx("span",{className:"text-[10px] text-gray-400",children:"*       ."}),t.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-purple-50 text-purple-700 px-2 py-1 rounded font-bold hover:bg-purple-100 transition-colors",children:"  "})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("audio",{ref:n,src:e,onTimeUpdate:h,onLoadedMetadata:u,onEnded:()=>a(!1),onError:y}),d?t.jsxs("div",{className:"bg-red-50 text-red-600 text-xs p-3 rounded flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(hn,{size:14}),"    ."]}),t.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"underline font-bold",children:" "})]}):t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("input",{type:"range",min:0,max:l||100,value:c,onChange:v,className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-600 hover:h-2 transition-all",style:{background:`linear-gradient(to right, #9333ea ${c/(l||1)*100}%, #e5e7eb ${c/(l||1)*100}%)`}}),t.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 font-mono mt-1",children:[t.jsx("span",{children:_t(c)}),t.jsx("span",{children:_t(l)})]})]}),t.jsxs("div",{className:"flex justify-center items-center gap-6",children:[t.jsx("button",{onClick:()=>p(-10),className:"text-gray-400 hover:text-purple-600 transition-colors p-2 hover:bg-purple-50 rounded-full",title:"10 ",children:t.jsx(_n,{size:20})}),t.jsx("button",{onClick:x,className:"bg-purple-600 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:bg-purple-700 hover:scale-105 transition-all",children:s?t.jsx(Mn,{size:24,fill:"currentColor"}):t.jsx(Ln,{size:24,fill:"currentColor",className:"ml-1"})}),t.jsx("button",{onClick:()=>p(30),className:"text-gray-400 hover:text-purple-600 transition-colors p-2 hover:bg-purple-50 rounded-full",title:"30 ",children:t.jsx(Fn,{size:20})})]})]})]})]})},Eo=({c:e,aiSummaryText:r,setAiSummaryText:n,aiSummaryEditMode:s,setAiSummaryEditMode:a,handleUpdateAiSummaryText:l,handleDeleteAiSummary:i,handleSaveSummaryToMemo:c,currentAudioFile:f,audioUrl:d,isFileUploading:m,isAiLoading:x,onAudioFileSelect:h,onTriggerAudioInput:u,onGenerateAiSummary:v,onPlayRecording:p,onDeleteRecording:y})=>{var N,w;const b=o.useRef(null),C=()=>{var S;(S=b.current)==null||S.click()};return t.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsxs("h3",{className:"font-bold text-purple-800 flex items-center gap-2",children:[t.jsx(et,{size:18,className:"flex-shrink-0"}),t.jsxs("div",{className:"flex flex-col leading-none",children:[t.jsx("span",{children:"AI  "}),t.jsx("span",{children:"& "})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"file",ref:b,className:"hidden",accept:"audio/*",onChange:h}),t.jsxs("button",{onClick:C,disabled:m,className:"flex items-center gap-1 text-xs px-2 py-1.5 rounded border "+(f?"bg-green-100 text-green-700 border-green-300":"bg-white text-gray-600 border-gray-300")+(m?" opacity-50 cursor-not-allowed":""),children:[t.jsx(Rn,{size:14,className:"flex-shrink-0"}),t.jsx("span",{className:"text-center leading-tight",children:m?"...":f?" ":t.jsxs(t.Fragment,{children:["",t.jsx("br",{}),""]})})]}),t.jsx("button",{onClick:v,disabled:x,className:"flex items-center gap-1 text-xs bg-purple-600 text-white px-3 py-1.5 rounded font-bold hover:bg-purple-700 disabled:opacity-50 transition-colors shadow-sm",children:x?" ...":t.jsxs("span",{className:"text-center leading-tight",children:["",t.jsx("br",{}),""]})})]})]}),t.jsx("div",{className:"mb-4",children:(d||f)&&t.jsx(So,{src:d&&d.includes("drive.google.com")?rn(d):d||"",fileName:f?f.name:`  (ID: ${(w=(N=e.recordings)==null?void 0:N.find(S=>S.url===d))==null?void 0:w.id.substring(0,8)}...)`})}),e.recordings&&e.recordings.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("h4",{className:"text-xs font-bold text-gray-600 mb-2 flex items-center",children:[t.jsx(yn,{size:12,className:"mr-1"}),"  "]}),t.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto no-scrollbar",children:e.recordings.map(S=>t.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded border border-gray-200 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[t.jsx(Sn,{size:16,className:"text-blue-500 cursor-pointer flex-shrink-0",onClick:()=>p(S)}),t.jsxs("div",{className:"truncate",children:[t.jsx("span",{className:"font-medium",children:S.filename}),t.jsx("span",{className:"text-gray-400 text-[10px] ml-1",children:Te(new Date(S.uploadDate),"yy.MM.dd HH:mm")})]})]}),t.jsx("button",{onClick:()=>y(S.id),className:"text-gray-400 hover:text-red-500",children:t.jsx(lt,{size:14})})]},S.id))})]}),t.jsx("div",{className:"bg-white p-3 rounded-lg border border-purple-100 shadow-sm relative min-h-[80px]",children:s?t.jsxs("div",{className:"space-y-2",children:[t.jsx("textarea",{className:"w-full h-32 p-2 text-sm border border-purple-200 rounded focus:outline-none focus:ring-1 focus:ring-purple-500",value:r||"",onChange:S=>n(S.target.value)}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:l,className:"text-xs bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",children:""}),t.jsx("button",{onClick:()=>a(!1),className:"text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded hover:bg-gray-300",children:""})]})]}):t.jsxs("div",{className:"group",children:[t.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>a(!0),className:"p-1 text-blue-500 hover:bg-blue-50 rounded",title:"",children:t.jsx(Le,{size:14})}),t.jsx("button",{onClick:i,className:"p-1 text-red-500 hover:bg-red-50 rounded",title:"",children:t.jsx(ye,{size:14})})]}),t.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed pr-10",children:r||t.jsx("span",{className:"text-gray-400",children:"   .         ."})})]})}),r&&!s&&t.jsx("div",{className:"mt-3 flex justify-end",children:t.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-xs bg-indigo-50 text-indigo-700 px-3 py-2 rounded font-bold hover:bg-indigo-100 border border-indigo-200 transition-colors",children:[t.jsx(Bt,{size:14}),"    ( )"]})})]})},z=({label:e,value:r,onChange:n,onBlur:s,type:a="text",placeholder:l="",suffix:i="",readOnly:c=!1,isPhone:f=!1,isCurrency:d=!1,className:m=""})=>{let x=r;a==="number"&&!d&&(r===0||r===void 0||r===null)&&(x=""),d&&(typeof r=="number"||!isNaN(Number(r)))&&(x=Number(r).toLocaleString());const h=u=>{let v=u.target.value;if(f){const p=v.replace(/[^0-9]/g,"");let y=p;p.length>3&&p.length<=7?y=`${p.slice(0,3)}-${p.slice(3)}`:p.length>7&&(y=`${p.slice(0,3)}-${p.slice(3,7)}-${p.slice(7,11)}`),n(y);return}if(d){const p=v.replace(/,/g,"");(p===""||/^[0-9]+$/.test(p))&&n(p===""?0:Number(p));return}a==="number"?(v===""||/^[0-9]+$/.test(v))&&n(v===""?0:Number(v)):n(v)};return t.jsxs("div",{className:`mb-4 ${m}`,children:[e&&t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:e}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",autoComplete:"off",className:"w-full p-2 border border-blue-300 rounded text-sm outline-none "+(c?"bg-gray-100 text-gray-500 cursor-not-allowed":"focus:ring-1 focus:ring-blue-500"),value:x||"",onChange:c?void 0:h,onBlur:s,placeholder:l,readOnly:c}),i&&t.jsx("span",{className:"absolute right-3 top-2 text-gray-500 text-xs",children:i})]})]})},Z=({label:e,value:r,onChange:n,options:s,isMulti:a=!1,className:l=""})=>t.jsxs("div",{className:`mb-4 ${l}`,children:[e&&t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:e}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:s.map(i=>{const c=a?r==null?void 0:r.includes(i):r===i;return t.jsx("button",{type:"button",onClick:()=>n(i),className:"px-3 py-1.5 text-xs rounded border "+(c?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:i},i)})})]}),ko=({c:e,partners:r,inboundPaths:n,onUpdate:s,statusLogs:a})=>{var l;return t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:" ()"}),t.jsx("select",{className:"w-full p-2 border border-gray-300 rounded text-sm bg-gray-50",value:e.partnerId,onChange:i=>s("partnerId",i.target.value),children:r.map(i=>t.jsx("option",{value:i.partnerId,children:i.name},i.partnerId))})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:" "}),t.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500 outline-none",value:e.inboundPath,onChange:i=>s("inboundPath",i.target.value),children:[t.jsx("option",{value:"",children:""}),n.map(i=>t.jsx("option",{value:i,children:i},i))]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"   (  )"}),t.jsx("div",{className:"w-full p-2 border border-gray-200 rounded text-sm bg-gray-50 min-h-[40px] "+(e.preInfo?"text-gray-800":"text-gray-400"),children:e.preInfo?e.preInfo.split(/\s\/\s|\n/).filter(i=>{const c=i.toLowerCase();return!c.includes("[referrer]")&&!c.includes("[marketing_consent]")&&!c.includes("[third_party_consent]")&&!c.includes("[user_agent]")&&i.trim()!==""}).map((i,c)=>t.jsxs("div",{className:"flex items-start gap-1",children:[t.jsx("span",{className:"text-blue-500 font-bold",children:"*"}),t.jsx("span",{children:i.trim()})]},c)):t.jsx("span",{className:"text-gray-400 italic",children:"  "})})]}),a.length>0&&t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 mb-6",children:[t.jsxs("h4",{className:"font-bold text-blue-800 mb-3 flex items-center gap-2",children:[t.jsx(Wt,{size:16}),"   "]}),t.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:a.map(i=>t.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-100 shadow-sm text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold text-gray-400 line-through text-xs px-2 py-0.5 bg-gray-100 rounded",children:i.fromStatus}),t.jsx("span",{className:"text-gray-400",children:""}),t.jsx("span",{className:"font-bold text-blue-600 text-xs px-2 py-0.5 bg-blue-50 rounded border border-blue-100",children:i.toStatus})]}),t.jsx("span",{className:"text-[10px] text-gray-400",children:Te(new Date(i.changedAt),"yy.MM.dd HH:mm")})]}),i.memo&&t.jsx("div",{className:"mt-2 text-gray-600 bg-gray-50 p-2 rounded text-xs leading-relaxed",children:i.memo}),t.jsx("div",{className:"mt-1 text-right",children:t.jsxs("span",{className:"text-[10px] text-gray-400",children:["Changed by ",i.changedBy]})})]},i.logId))})]}),t.jsx(z,{label:" ",value:e.createdAt?Te(new Date(e.createdAt),"yyyy-MM-dd HH:mm"):"-",readOnly:!0,onChange:()=>{}}),t.jsx("div",{className:"mb-4",children:t.jsx(Z,{label:" ",value:e.caseType,onChange:i=>s("caseType",i),options:zr})}),t.jsx(z,{label:"",value:e.customerName,onChange:i=>s("customerName",i)}),t.jsx(z,{label:"",value:e.phone,onChange:i=>s("phone",i),placeholder:"010-0000-0000",isPhone:!0}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(z,{label:" (2)",value:e.birth,onChange:i=>s("birth",i),onBlur:()=>{const i=nn(e.birth);i!==e.birth&&s("birth",i)},placeholder:": 77",suffix:((l=e.birth)==null?void 0:l.length)===4?"":""}),t.jsx(Z,{label:"",value:e.gender,onChange:i=>s("gender",i),options:["",""]})]})]})},Ro=({c:e,onUpdate:r,onIncomeChange:n,onJobTypeChange:s})=>{var a,l,i,c;return t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:" / "}),t.jsx(Z,{label:" ( )",value:e.jobTypes,onChange:s,options:Hr,isMulti:!0}),((a=e.jobTypes)==null?void 0:a.includes(""))&&t.jsx(z,{label:" ()",type:"number",value:e.incomeDetails.salary,onChange:f=>n("salary",f),isCurrency:!0}),(((l=e.jobTypes)==null?void 0:l.includes(""))||((i=e.jobTypes)==null?void 0:i.includes("")))&&t.jsx(z,{label:" ()",type:"number",value:e.incomeDetails.business,onChange:f=>n("business",f),isCurrency:!0}),((c=e.jobTypes)==null?void 0:c.includes(""))&&t.jsx(z,{label:" ()",type:"number",value:e.incomeDetails.freelance,onChange:f=>n("freelance",f),isCurrency:!0}),t.jsx(Z,{label:"4",value:e.insurance4,onChange:f=>r("insurance4",f),options:["",""]}),t.jsx(Z,{label:"",value:e.maritalStatus,onChange:f=>r("maritalStatus",f),options:["","",""]}),e.maritalStatus!==""&&t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"  "}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:[0,1,2,3,4,5,6,7].map(f=>t.jsxs("button",{type:"button",onClick:()=>r("childrenCount",f),className:"px-3 py-1.5 text-xs rounded border "+(e.childrenCount===f?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:[f,""]},f))})]})]})},Ao=({c:e,onUpdate:r})=>t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:""}),t.jsx(Z,{label:"",value:e.housingType,onChange:n=>r("housingType",n),options:Wr}),t.jsx(Z,{label:"",value:e.housingDetail,onChange:n=>r("housingDetail",n),options:Br}),e.housingType===""?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(z,{label:" ()",type:"number",value:e.ownHousePrice,onChange:n=>r("ownHousePrice",n),isCurrency:!0}),t.jsx(z,{label:"  ()",type:"number",value:e.ownHouseLoan,onChange:n=>r("ownHouseLoan",n),isCurrency:!0})]}),t.jsx(Z,{label:" ",value:e.ownHouseOwner,onChange:n=>r("ownHouseOwner",n),options:["",""," "]})]}):e.housingType===""?t.jsx(t.Fragment,{children:t.jsx(Z,{label:" ",value:e.freeHousingOwner,onChange:n=>r("freeHousingOwner",n),options:Vr})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(z,{label:"()",type:"number",value:e.deposit,onChange:n=>r("deposit",n),isCurrency:!0}),t.jsx(z,{label:" ()",type:"number",value:e.depositLoanAmount,onChange:n=>r("depositLoanAmount",n),isCurrency:!0})]}),t.jsx(z,{label:"()",type:"number",value:e.rent,onChange:n=>r("rent",n),isCurrency:!0}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:" "}),t.jsx("div",{className:"flex gap-2",children:Kr.map(n=>t.jsx("button",{type:"button",onClick:()=>r("rentContractor",n),className:"flex-1 py-1.5 text-xs rounded border "+(e.rentContractor===n?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:n},n))})]})]}),t.jsx(z,{label:"",value:e.region,onChange:n=>r("region",n)})]}),Do=({c:e,onUpdate:r,showToast:n})=>{var h;const[s,a]=o.useState({owner:"",type:"",amount:0,loanAmount:0,rentDeposit:0,desc:""}),[l,i]=o.useState({desc:"",amount:0}),c=()=>{if(!s.amount&&!s.loanAmount){n("    .");return}const u={id:Date.now().toString(),owner:s.owner,type:s.type||"",amount:s.amount||0,loanAmount:s.loanAmount||0,rentDeposit:s.rentDeposit||0,desc:s.desc||""},v=e.assets||[];r("assets",[...v,u]),a({owner:"",type:"",amount:0,loanAmount:0,rentDeposit:0,desc:""})},f=u=>{r("assets",(e.assets||[]).filter(v=>v.id!==u))},d=()=>{if(!l.amount){n("  .");return}const u={id:Date.now().toString(),desc:l.desc||"",amount:l.amount||0},v=e.creditLoan||[];r("creditLoan",[...v,u]),i({desc:"",amount:0})},m=u=>{r("creditLoan",(e.creditLoan||[]).filter(v=>v.id!==u))},x=sn(e);return t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:" / "}),t.jsxs("div",{className:"mb-6 bg-blue-50 p-4 rounded-lg border border-blue-200",children:[t.jsx("h4",{className:"font-bold text-gray-700 mb-2 text-xs",children:" "}),t.jsxs("div",{className:"space-y-2 mb-3",children:[(!e.assets||e.assets.length===0)&&t.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"  ."}),e.assets&&e.assets.map(u=>t.jsxs("div",{className:"bg-white p-2 rounded border flex justify-between items-center text-xs",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("span",{className:"font-bold text-blue-600 mr-2",children:["[",u.owner,"]"]}),t.jsx("span",{className:"font-semibold mr-2",children:u.type}),t.jsxs("span",{className:"text-gray-800 mr-2",children:[" ",u.amount>0?u.amount.toLocaleString()+" ":"0"]}),u.loanAmount>0&&t.jsxs("span",{className:"text-red-500 mr-2",children:[" ",u.loanAmount.toLocaleString(),""]}),u.rentDeposit&&u.rentDeposit>0&&t.jsxs("span",{className:"text-green-600 mr-2",children:[" ",u.rentDeposit.toLocaleString(),""]}),u.desc&&t.jsxs("span",{className:"text-gray-500",children:["(",u.desc,")"]})]}),t.jsx("button",{onClick:()=>f(u.id),className:"text-red-500 p-1",children:t.jsx(ye,{size:14})})]},u.id))]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsx("select",{className:"p-1.5 border rounded text-xs bg-white",value:s.owner,onChange:u=>a({...s,owner:u.target.value}),children:Gr.map(u=>t.jsx("option",{value:u,children:u},u))}),t.jsx("select",{className:"p-1.5 border rounded text-xs bg-white",value:s.type,onChange:u=>a({...s,type:u.target.value}),children:Yr.map(u=>t.jsx("option",{value:u,children:u},u))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsx(z,{label:"",type:"number",value:s.amount,onChange:u=>a({...s,amount:u}),placeholder:"",suffix:"",isCurrency:!0}),t.jsx(z,{label:"",type:"number",value:s.loanAmount,onChange:u=>a({...s,loanAmount:u}),placeholder:"",suffix:"",isCurrency:!0})]}),["",""].includes(s.type||"")&&t.jsx("div",{className:"mb-2",children:t.jsx(z,{label:"",type:"number",value:s.rentDeposit,onChange:u=>a({...s,rentDeposit:u}),placeholder:"",suffix:"",isCurrency:!0})}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",placeholder:"  (:  )",className:"flex-1 p-1.5 border rounded text-xs",value:s.desc||"",onChange:u=>a({...s,desc:u.target.value})}),t.jsxs("button",{type:"button",onClick:c,className:"w-24 bg-blue-600 text-white rounded text-xs font-bold flex justify-center items-center hover:bg-blue-700 flex-shrink-0",children:[t.jsx(tt,{size:14,className:"mr-1"})," "]})]})]}),t.jsxs("div",{className:"mb-6 bg-pink-50 p-4 rounded-lg border border-pink-200",children:[t.jsx("h4",{className:"font-bold text-gray-700 mb-2 text-xs",children:" "}),t.jsxs("div",{className:"space-y-2 mb-3",children:[(!e.creditLoan||e.creditLoan.length===0)&&t.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"  ."}),(h=e.creditLoan)==null?void 0:h.map(u=>t.jsxs("div",{className:"bg-white p-2 rounded border flex justify-between items-center text-xs",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"font-semibold mr-2",children:u.desc}),t.jsxs("span",{className:"text-gray-800",children:[u.amount.toLocaleString(),""]})]}),t.jsx("button",{type:"button",onClick:()=>m(u.id),className:"text-red-500 p-1",children:t.jsx(ye,{size:14})})]},u.id))]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsx("input",{type:"text",placeholder:"  (: )",className:"w-full p-1.5 border rounded text-xs col-span-2",value:l.desc||"",onChange:u=>i({...l,desc:u.target.value})}),t.jsx(z,{label:"",type:"number",value:l.amount,onChange:u=>i({...l,amount:u}),placeholder:"",suffix:"",isCurrency:!0}),t.jsxs("button",{type:"button",onClick:d,className:"w-full py-1.5 bg-blue-600 text-white rounded text-xs font-bold flex justify-center items-center hover:bg-blue-700",children:[t.jsx(tt,{size:14,className:"mr-1"}),"  "]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"   (  + )"}),t.jsxs("div",{className:"bg-gray-50 p-2 rounded text-xs text-blue-800 font-medium mb-1",children:[" : ",x]}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500",value:e.collateralLoanMemo||"",onChange:u=>r("collateralLoanMemo",u.target.value),placeholder:"    "})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(Z,{label:" ",value:e.creditCardUse,onChange:u=>r("creditCardUse",u),options:["",""]}),e.creditCardUse===""&&t.jsx(z,{label:" ()",type:"number",value:e.creditCardAmount,onChange:u=>r("creditCardAmount",u),isCurrency:!0})]}),t.jsx(z,{label:" ()",type:"number",value:e.loanMonthlyPay,onChange:u=>r("loanMonthlyPay",u),isCurrency:!0})]})},Io=({c:e,onUpdate:r})=>t.jsxs("div",{className:"mt-4",children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:" /  "}),t.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:Ur.map(n=>t.jsx("button",{type:"button",onClick:()=>r("historyType",n),className:"px-3 py-1.5 text-xs rounded border "+(e.historyType===n?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:n},n))}),e.historyType&&e.historyType!==""&&t.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded text-sm h-24",value:e.historyMemo,onChange:n=>r("historyMemo",n.target.value),placeholder:"   ."})]}),Mo=({c:e,partners:r,inboundPaths:n,onUpdate:s,onIncomeChange:a,onJobTypeChange:l,reminders:i,memos:c,onUpdateReminders:f,onUpdateMemos:d,aiSummaryText:m,setAiSummaryText:x,aiSummaryEditMode:h,setAiSummaryEditMode:u,handleUpdateAiSummaryText:v,handleDeleteAiSummary:p,handleSaveSummaryToMemo:y,currentAudioFile:b,audioUrl:C,isFileUploading:N,isAiLoading:w,onAudioFileSelect:S,onTriggerAudioInput:D,onGenerateAiSummary:k,onPlayRecording:M,onDeleteRecording:I,statusLogs:$,showToast:F})=>t.jsxs("div",{className:"space-y-8",children:[t.jsx(Co,{reminders:i,memos:c,onUpdateReminders:f,onUpdateMemos:d,showToast:F}),t.jsx(Eo,{c:e,aiSummaryText:m,setAiSummaryText:x,aiSummaryEditMode:h,setAiSummaryEditMode:u,handleUpdateAiSummaryText:v,handleDeleteAiSummary:p,handleSaveSummaryToMemo:y,currentAudioFile:b,audioUrl:C,isFileUploading:N,isAiLoading:w,onAudioFileSelect:S,onTriggerAudioInput:D,onGenerateAiSummary:k,onPlayRecording:M,onDeleteRecording:I}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[t.jsx(ko,{c:e,partners:r,inboundPaths:n,onUpdate:s,statusLogs:$}),t.jsx(Ro,{c:e,onUpdate:s,onIncomeChange:a,onJobTypeChange:l})]}),t.jsx("hr",{className:"border-gray-100"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[t.jsx(Ao,{c:e,onUpdate:s}),t.jsx(Do,{c:e,onUpdate:s,showToast:F})]}),t.jsx(Io,{c:e,onUpdate:s})]}),Po=({c:e,currentPartner:r,aiSummaryText:n,setAiSummaryText:s,aiSummaryEditMode:a,setAiSummaryEditMode:l,handleUpdateAiSummaryText:i,handleSaveSummaryToMemo:c,showToast:f})=>{const[d,m]=o.useState(""),[x,h]=o.useState(!1);return t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 h-full min-h-[400px] md:min-h-[500px]",children:[t.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex flex-col h-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[t.jsx(zt,{size:18}),"  "]}),t.jsx("div",{className:"flex gap-2",children:x?t.jsx(t.Fragment,{children:t.jsx("button",{onClick:()=>h(!1),className:"text-xs bg-gray-200 text-gray-700 px-3 py-1.5 rounded hover:bg-gray-300",children:""})}):t.jsxs("button",{onClick:()=>{m(Be(e,r==null?void 0:r.summaryTemplate)),h(!0)},className:"text-xs bg-gray-100 text-gray-600 px-3 py-1.5 rounded hover:bg-gray-200 flex items-center gap-1",children:[t.jsx(Le,{size:12})," "]})})]}),t.jsx("div",{className:"flex-1 relative h-full",children:x?t.jsx("textarea",{className:"w-full h-full p-4 border rounded-lg text-sm leading-relaxed resize-none focus:ring-2 focus:ring-blue-500 outline-none min-h-[200px] md:min-h-[250px] max-h-[400px] md:max-h-[500px] overflow-y-auto",value:d,onChange:u=>m(u.target.value)}):t.jsx("div",{className:"w-full h-full p-4 bg-gray-50 rounded-lg text-sm whitespace-pre-wrap leading-relaxed border border-gray-100 overflow-y-auto min-h-[200px] md:min-h-[250px] max-h-[400px] md:max-h-[500px]",children:Be(e,r==null?void 0:r.summaryTemplate)})}),t.jsx("div",{className:"mt-4 flex justify-center",children:t.jsxs("button",{onClick:()=>{const u=x?d:Be(e,r==null?void 0:r.summaryTemplate);navigator.clipboard.writeText(u),f(".")},className:"bg-gray-800 text-white px-6 py-3 rounded-lg font-bold flex items-center hover:bg-gray-900 w-full justify-center",children:[t.jsx(bt,{className:"mr-2",size:16}),"  "]})})]}),t.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl border border-purple-100 shadow-sm flex flex-col h-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsxs("h3",{className:"font-bold text-purple-800 flex items-center gap-2",children:[t.jsx(et,{size:18})," AI "]}),t.jsx("div",{className:"flex gap-2",children:a?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:i,className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded hover:bg-green-700 font-bold",children:""}),t.jsx("button",{onClick:()=>l(!1),className:"text-xs bg-gray-200 text-gray-700 px-3 py-1.5 rounded hover:bg-gray-300",children:""})]}):t.jsxs("button",{onClick:()=>{s(pt(n||"",e)),l(!0)},className:"text-xs bg-purple-100 text-purple-700 px-3 py-1.5 rounded hover:bg-purple-200 flex items-center gap-1",children:[t.jsx(Le,{size:12})," "]})})]}),t.jsx("div",{className:"flex-1 relative h-full",children:n?a?t.jsx("textarea",{className:"w-full h-full p-4 border border-purple-200 rounded-lg text-sm leading-relaxed resize-none focus:ring-2 focus:ring-purple-500 outline-none min-h-[200px] md:min-h-[250px] max-h-[400px] md:max-h-[500px] overflow-y-auto",value:n,onChange:u=>s(u.target.value)}):t.jsx("div",{className:"w-full h-full p-4 bg-white rounded-lg text-sm whitespace-pre-wrap leading-relaxed border border-purple-100 overflow-y-auto cursor-text hover:bg-purple-50/50 transition-colors min-h-[200px] md:min-h-[250px] max-h-[400px] md:max-h-[500px]",onClick:()=>{s(pt(n,e)),l(!0)},children:n}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 gap-4 min-h-[200px]",children:[t.jsx(et,{size:48,className:"opacity-20"}),t.jsxs("p",{className:"text-center text-sm",children:["AI   .",t.jsx("br",{}),"' '    ",t.jsx("br",{}),"AI  ."]}),t.jsx("p",{className:"text-center text-xs text-purple-500",children:"     ."})]})}),n&&t.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(n),f(".")},className:"bg-gray-700 text-white px-4 py-3 rounded-lg font-bold flex items-center justify-center hover:bg-gray-800 shadow-sm transition-all active:scale-95 text-xs md:text-sm",children:[t.jsx(bt,{className:"mr-2",size:16}),"  "]}),t.jsxs("button",{onClick:c,className:"bg-indigo-600 text-white px-4 py-3 rounded-lg font-bold flex items-center justify-center hover:bg-indigo-700 w-full shadow-sm transition-all active:scale-95 text-xs md:text-sm",children:[t.jsx(Bt,{className:"mr-2",size:16}),"  "]})]}),t.jsx("p",{className:"text-[10px] text-center text-purple-400",children:"*   ''    ."})]})]})]})},To=({c:e,commission:r,onUpdate:n})=>{var s;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-green-50 p-6 rounded-xl border border-green-100",children:[t.jsx("h3",{className:"font-bold text-green-800 mb-4 text-lg",children:"  "}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-green-900 mb-1",children:" ()"}),t.jsx("input",{type:"date",className:"w-full p-2 border border-green-300 rounded",value:e.contractAt||"",onChange:a=>n("contractAt",a.target.value)})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-bold text-green-900 mb-1 flex items-center justify-between",children:[" ",t.jsxs("label",{className:"flex items-center gap-1 cursor-pointer text-blue-600 bg-white px-2 py-0.5 rounded border border-blue-100",children:[t.jsx("input",{type:"checkbox",className:"form-checkbox h-3 w-3",checked:e.useCapital||!1,onChange:a=>n("useCapital",a.target.checked)}),t.jsx("span",{className:"text-xs",children:" "})]})]}),t.jsxs("select",{className:"w-full p-2 border border-green-300 rounded bg-white",value:e.installmentMonths||"",onChange:a=>n("installmentMonths",a.target.value),children:[t.jsx("option",{value:"",children:""}),!e.useCapital&&t.jsx("option",{value:"",children:""}),Array.from({length:8},(a,l)=>l+1).map(a=>e.useCapital||a>=2?t.jsxs("option",{value:`${a} `,children:[a,""]},a):null)]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-green-900 mb-1",children:"  ()"}),t.jsx("input",{type:"number",className:"w-full p-2 border border-green-300 rounded text-right font-mono text-lg font-bold",value:e.contractFee||0,onChange:a=>n("contractFee",Number(a.target.value))}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-green-200 flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-green-700 font-medium",children:"  (Commission):"}),t.jsxs("span",{className:"text-xl font-bold text-green-900",children:[r.toLocaleString(),""]})]})]})]})]}),t.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"font-bold text-gray-700 text-lg",children:" "}),t.jsxs("button",{onClick:()=>{const l=[...e.depositHistory&&e.depositHistory.length>0?e.depositHistory:[{date:e.deposit1Date||"",amount:e.deposit1Amount||0},{date:e.deposit2Date||"",amount:e.deposit2Amount||0}],{date:"",amount:0}];n("depositHistory",l)},className:"flex items-center gap-1 bg-blue-600 text-white px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-blue-700 shadow-sm",children:[t.jsx(tt,{size:16}),"  (",(((s=e.depositHistory)==null?void 0:s.length)||2)+1,")"]})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:(e.depositHistory&&e.depositHistory.length>0?e.depositHistory:[{date:e.deposit1Date||"",amount:e.deposit1Amount||0},{date:e.deposit2Date||"",amount:e.deposit2Amount||0}]).map((a,l)=>t.jsxs("div",{className:"bg-white p-4 rounded border border-gray-200 shadow-sm relative group",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("h4",{className:"font-bold text-gray-600 text-sm",children:[l+1," "]}),l>=2&&t.jsx("button",{onClick:()=>{const c=(e.depositHistory||[]).filter((f,d)=>d!==l);n("depositHistory",c)},className:"text-gray-400 hover:text-red-500",children:t.jsx(lt,{size:16})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:" ()"}),t.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded text-sm font-bold",value:a.amount||"",onChange:i=>{const c=e.depositHistory&&e.depositHistory.length>0?[...e.depositHistory]:[{date:e.deposit1Date||"",amount:e.deposit1Amount||0},{date:e.deposit2Date||"",amount:e.deposit2Amount||0}];c[l].amount=Number(i.target.value),n("depositHistory",c)}})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:""}),t.jsx("input",{type:"date",className:"w-full p-2 border border-gray-300 rounded text-sm",value:a.date||"",onChange:i=>{const c=e.depositHistory&&e.depositHistory.length>0?[...e.depositHistory]:[{date:e.deposit1Date||"",amount:e.deposit1Amount||0},{date:e.deposit2Date||"",amount:e.deposit2Amount||0}];c[l].date=i.target.value,n("depositHistory",c)}})]})]})]},l))}),t.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-between items-center",children:[t.jsx("span",{className:"font-bold text-gray-700",children:"  "}),t.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[(e.depositHistory&&e.depositHistory.length>0?e.depositHistory.reduce((a,l)=>a+(l.amount||0),0):(e.deposit1Amount||0)+(e.deposit2Amount||0)).toLocaleString()," "]})]})]})]})};function Ko(){const{caseId:e}=qr(),r=e,n=Ft(),{data:s,isLoading:a,error:l}=Xr(r),{data:i=[]}=Zr(),{data:c=[]}=Jr(),{data:f=[]}=Qr(),d=en(),[m,x]=o.useState("info"),[h,u]=o.useState(null),[v,p]=o.useState(!1),[y,b]=o.useState(!1),[C,N]=o.useState(null),[w,S]=o.useState(""),[D,k]=o.useState([]),[M,I]=o.useState(null),[$,F]=o.useState(!1),[G,J]=o.useState(!1),[Y,q]=o.useState(null),[X,Q]=o.useState(null),[j,T]=o.useState(!1);o.useEffect(()=>{s&&(I(s.aiSummary||null),s.status===" "?k([" "," "," "," "]):k([]))},[s]),o.useEffect(()=>{s&&!s.isViewed&&E("isViewed",!0)},[s]);const H=i.find(A=>A.partnerId===(s==null?void 0:s.partnerId)),de=s?an(s.contractFee||0,(H==null?void 0:H.commissionRules)||[]):0,g=(A,O="success")=>{u({msg:A,type:O}),setTimeout(()=>u(null),3e3)};o.useEffect(()=>{const A=O=>{(O.metaKey||O.ctrlKey)&&O.key==="k"&&(O.preventDefault(),p(!0))};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[]);const E=(A,O)=>{s&&d.mutate({id:s.caseId,updates:{[A]:O}})},P=(A,O)=>{if(!s)return;const fe={...s.incomeDetails,[A]:O};E("incomeDetails",fe)},R=A=>{if(!s)return;let O=s.jobTypes?[...s.jobTypes]:[];O.includes(A)?O=O.filter(fe=>fe!==A):O.push(A),E("jobTypes",O)},L=A=>{E("reminders",A)},_=A=>{E("specialMemo",A)},V=A=>{k(A===" "?[" "," "," "," "]:[]);const O={logId:Date.now().toString(),fromStatus:s.status,toStatus:A,changedAt:new Date().toISOString(),changedBy:"User",memo:""};d.mutate({id:s.caseId,updates:{status:A,statusLogs:[O,...s.statusLogs||[]]}}),g(` ${A}() .`)},W=A=>{A!==(s==null?void 0:s.secondaryStatus)&&(N(A),S(""),b(!0))},ue=()=>{if(!s||!C)return;const A={logId:Date.now().toString(),fromStatus:`${s.status} (${s.secondaryStatus||""})`,toStatus:`${s.status} (${C})`,changedAt:new Date().toISOString(),changedBy:"User",memo:w};E("secondaryStatus",C),E("statusLogs",[A,...s.statusLogs||[]]),b(!1),N(null),g("2  .")},Er=async A=>{if(A.target.files&&A.target.files[0]){const O=A.target.files[0];q(O),Q(URL.createObjectURL(O)),T(!0);try{await new Promise(Ir=>setTimeout(Ir,1500));const fe={id:Date.now().toString(),filename:O.name,url:URL.createObjectURL(O),uploadDate:new Date().toISOString(),mimeType:O.type||"audio/mp3",duration:0};E("recordings",[fe,...(s==null?void 0:s.recordings)||[]]),g("  .")}catch{g("  ","error")}finally{T(!1)}}},kr=async()=>{if(!Y&&!X){g("   .","error");return}J(!0);try{const A=await on(Y||new File([],"mock.mp3"));I(A),F(!0),E("aiSummary",A),g("AI  .")}catch(A){console.error(A),g("AI     .","error")}finally{J(!1)}},ft=()=>{M&&(E("aiSummary",M),F(!1),g("AI  ."))},Rr=()=>{window.confirm("AI  ?")&&(I(null),E("aiSummary",null),g("."))},mt=()=>{if(!M)return;const A=`[AI  ] 
${M.slice(0,200)}...`,O={id:Date.now().toString(),createdAt:new Date().toISOString(),content:A};_([O,...(s==null?void 0:s.specialMemo)||[]]),g("  .")},Ar=A=>{Q(A.url),q(null)},Dr=A=>{window.confirm("  ?")&&E("recordings",((s==null?void 0:s.recordings)||[]).filter(O=>O.id!==A))};return a?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"  ..."}):a?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"  ..."}):l||!s?t.jsxs("div",{className:"p-8 text-center text-red-500 flex flex-col items-center gap-4",children:[t.jsx("p",{className:"text-xl font-bold",children:"    ."}),t.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",r]}),t.jsxs("div",{className:"text-xs bg-gray-100 p-2 rounded max-w-md break-all",children:["     .",t.jsx("br",{}),"   , (F5) ."]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:" "})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[t.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>n(-1),className:"p-2 hover:bg-gray-100 rounded-full text-gray-600 transition-colors",children:t.jsx(Nn,{size:20})}),t.jsx("span",{className:"font-bold text-gray-700 text-lg",children:" "})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{onClick:()=>p(!0),className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",title:"  (Cmd+K)",children:t.jsx(Dn,{size:20})})})]}),t.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-6 space-y-6",children:[t.jsx(wo,{c:s,partner:H,statuses:f,secondaryStatuses:D,onStatusChangeStart:V,onSecondaryStatusChangeStart:W}),y&&C!==null&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 w-[400px] shadow-xl border-t-4 border-purple-500",children:[t.jsx("h3",{className:"text-lg font-bold mb-4 text-purple-700",children:"2   "}),t.jsxs("p",{className:"mb-4 text-gray-700",children:["2  ",t.jsx("span",{className:"font-bold text-purple-600",children:s.secondaryStatus||""})," ",t.jsx("span",{className:"font-bold text-purple-600",children:C||""}),"() ?"]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),t.jsx("textarea",{className:"w-full p-2 border border-purple-200 rounded resize-none h-24 focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"   ...",value:w,onChange:A=>S(A.target.value)})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:()=>{b(!1),N(null)},className:"px-4 py-2 bg-gray-200 rounded text-gray-800 font-medium hover:bg-gray-300",children:""}),t.jsx("button",{onClick:ue,className:"px-4 py-2 bg-purple-600 rounded text-white font-medium hover:bg-purple-700",children:""})]})]})}),t.jsx("div",{className:"flex border-b border-gray-200 bg-white px-4 rounded-t-lg overflow-x-auto no-scrollbar",children:[{id:"info",label:" "},{id:"summary",label:""},{id:"settlement",label:"/"}].map(A=>t.jsx("button",{onClick:()=>x(A.id),className:"px-4 py-3 text-sm font-medium border-b-2 whitespace-nowrap "+(m===A.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:A.label},A.id))}),t.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-gray-100 border-t-0 min-h-[600px]",children:[m==="info"&&t.jsx(Mo,{c:s,partners:i,inboundPaths:c,onUpdate:E,onIncomeChange:P,onJobTypeChange:R,reminders:s.reminders||[],memos:s.specialMemo||[],onUpdateReminders:L,onUpdateMemos:_,aiSummaryText:M,setAiSummaryText:I,aiSummaryEditMode:$,setAiSummaryEditMode:F,handleUpdateAiSummaryText:ft,handleDeleteAiSummary:Rr,handleSaveSummaryToMemo:mt,currentAudioFile:Y,audioUrl:X,isFileUploading:j,isAiLoading:G,onAudioFileSelect:Er,onTriggerAudioInput:()=>{},onGenerateAiSummary:kr,onPlayRecording:Ar,onDeleteRecording:Dr,statusLogs:s.statusLogs||[],showToast:g}),m==="summary"&&t.jsx(Po,{c:s,currentPartner:H,aiSummaryText:M,setAiSummaryText:I,aiSummaryEditMode:$,setAiSummaryEditMode:F,handleUpdateAiSummaryText:ft,handleSaveSummaryToMemo:mt,showToast:g}),m==="settlement"&&t.jsx(To,{c:s,commission:de,onUpdate:E})]})]}),h&&t.jsx("div",{className:`fixed bottom-24 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full shadow-lg text-white text-sm font-bold z-50 animate-fade-in-up ${h.type==="error"?"bg-red-500":"bg-gray-900"}`,children:h.msg}),t.jsx(jo,{isOpen:v,onClose:()=>p(!1)})]})}export{Ko as default};
