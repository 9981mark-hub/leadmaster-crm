import{c as K,r as o,j as t,K as ot,_ as ne,N as $t,O as Ir,e as Ft,h as Mr,b as xt,P as Pr,Q as Tr,U as We,T as Lr,G as Or,V as _r,q as $r,f as Te,X as lt,S as et,C as Fr,J as zr,H as Hr,y as Wr,F as Br,z as Vr,A as Kr,B as Gr,D as Yr,W as Ur}from"./index-CbAQ7jcc.js";import{F as zt,f as qr,a as Xr,b as Zr,c as Jr,d as Qr}from"./queries-C9Ml6JAZ.js";import{b as en,h as tn,n as rn,j as nn,k as Be,l as pt,m as sn,o as an}from"./utils-BozhQ0MD.js";import{r as on,R as ln}from"./index-_ZE3VAlj.js";import{M as cn,i as ht,u as Ht,P as dn,a as un,b as fn,L as mn,m as xn,C as pn}from"./proxy-DIZlXoYJ.js";import{S as hn}from"./search-XmjdeX8X.js";import{C as gt}from"./chevron-right-D1A5TFoo.js";import{T as ye,P as tt}from"./trash-2-Dbnq2Hp0.js";import{C as gn}from"./check-BkP0kQPa.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],vn=K("archive",bn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jn=K("arrow-left",yn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Wt=K("calendar-clock",Nn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cn=K("circle-play",wn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bt=K("copy",Sn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],kn=K("mic",En);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],An=K("panels-top-left",Rn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],In=K("pause",Dn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Le=K("pen",Mn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Tn=K("play",Pn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],On=K("rotate-ccw",Ln);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],$n=K("rotate-cw",_n);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Bt=K("send",Fn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Hn=K("volume-2",zn);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Bn=K("zap",Wn);function vt(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Vn(...e){return n=>{let r=!1;const s=e.map(a=>{const l=vt(a,n);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():vt(e[a],null)}}}}function Kn(...e){return o.useCallback(Vn(...e),e)}class Gn extends o.Component{getSnapshotBeforeUpdate(n){const r=this.props.childRef.current;if(r&&n.isPresent&&!this.props.isPresent){const s=r.offsetParent,a=ht(s)&&s.offsetWidth||0,l=ht(s)&&s.offsetHeight||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left,i.bottom=l-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Yn({children:e,isPresent:n,anchorX:r,anchorY:s,root:a}){var x;const l=o.useId(),i=o.useRef(null),c=o.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=o.useContext(cn),d=((x=e.props)==null?void 0:x.ref)??(e==null?void 0:e.ref),m=Kn(i,d);return o.useInsertionEffect(()=>{const{width:g,height:u,top:v,left:p,right:y,bottom:b}=c.current;if(n||!i.current||!g||!u)return;const C=r==="left"?`left: ${p}`:`right: ${y}`,w=s==="bottom"?`bottom: ${b}`:`top: ${v}`;i.current.dataset.motionPopId=l;const N=document.createElement("style");f&&(N.nonce=f);const S=a??document.head;return S.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${u}px !important;
            ${C}px !important;
            ${w}px !important;
          }
        `),()=>{S.contains(N)&&S.removeChild(N)}},[n]),t.jsx(Gn,{isPresent:n,childRef:i,sizeRef:c,children:o.cloneElement(e,{ref:m})})}const Un=({children:e,initial:n,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:i,anchorX:c,anchorY:f,root:d})=>{const m=Ht(qn),x=o.useId();let g=!0,u=o.useMemo(()=>(g=!1,{id:x,initial:n,isPresent:r,custom:a,onExitComplete:v=>{m.set(v,!0);for(const p of m.values())if(!p)return;s&&s()},register:v=>(m.set(v,!1),()=>m.delete(v))}),[r,m,s]);return l&&g&&(u={...u}),o.useMemo(()=>{m.forEach((v,p)=>m.set(p,!1))},[r]),o.useEffect(()=>{!r&&!m.size&&s&&s()},[r]),i==="popLayout"&&(e=t.jsx(Yn,{isPresent:r,anchorX:c,anchorY:f,root:d,children:e})),t.jsx(dn.Provider,{value:u,children:e})};function qn(){return new Map}const Ee=e=>e.key||"";function yt(e){const n=[];return o.Children.forEach(e,r=>{o.isValidElement(r)&&n.push(r)}),n}const Xn=({children:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:i=!1,anchorX:c="left",anchorY:f="top",root:d})=>{const[m,x]=un(i),g=o.useMemo(()=>yt(e),[e]),u=i&&!m?[]:g.map(Ee),v=o.useRef(!0),p=o.useRef(g),y=Ht(()=>new Map),b=o.useRef(new Set),[C,w]=o.useState(g),[N,S]=o.useState(g);fn(()=>{v.current=!1,p.current=g;for(let M=0;M<N.length;M++){const I=Ee(N[M]);u.includes(I)?(y.delete(I),b.current.delete(I)):y.get(I)!==!0&&y.set(I,!1)}},[N,u.length,u.join("-")]);const R=[];if(g!==C){let M=[...g];for(let I=0;I<N.length;I++){const _=N[I],F=Ee(_);u.includes(F)||(M.splice(I,0,_),R.push(_))}return l==="wait"&&R.length&&(M=R),S(yt(M)),w(g),null}const{forceRender:E}=o.useContext(mn);return t.jsx(t.Fragment,{children:N.map(M=>{const I=Ee(M),_=i&&!m?!1:g===N||u.includes(I),F=()=>{if(b.current.has(I))return;if(b.current.add(I),y.has(I))y.set(I,!0);else return;let G=!0;y.forEach(X=>{X||(G=!1)}),G&&(E==null||E(),S(p.current),i&&(x==null||x()),s&&s())};return t.jsx(Un,{isPresent:_,initial:!v.current||r?void 0:!1,custom:n,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:_?void 0:F,anchorX:c,anchorY:f,children:M},I)})})};var jt=1,Zn=.9,Jn=.8,Qn=.17,Ve=.1,Ke=.999,es=.9999,ts=.99,rs=/[\\\/_+.#"@\[\(\{&]/,ns=/[\\\/_+.#"@\[\(\{&]/g,ss=/[\s-]/,Vt=/[\s-]/g;function rt(e,n,r,s,a,l,i){if(l===n.length)return a===e.length?jt:ts;var c=`${a},${l}`;if(i[c]!==void 0)return i[c];for(var f=s.charAt(l),d=r.indexOf(f,a),m=0,x,g,u,v;d>=0;)x=rt(e,n,r,s,d+1,l+1,i),x>m&&(d===a?x*=jt:rs.test(e.charAt(d-1))?(x*=Jn,u=e.slice(a,d-1).match(ns),u&&a>0&&(x*=Math.pow(Ke,u.length))):ss.test(e.charAt(d-1))?(x*=Zn,v=e.slice(a,d-1).match(Vt),v&&a>0&&(x*=Math.pow(Ke,v.length))):(x*=Qn,a>0&&(x*=Math.pow(Ke,d-a))),e.charAt(d)!==n.charAt(l)&&(x*=es)),(x<Ve&&r.charAt(d-1)===s.charAt(l+1)||s.charAt(l+1)===s.charAt(l)&&r.charAt(d-1)!==s.charAt(l))&&(g=rt(e,n,r,s,d+1,l+2,i),g*Ve>x&&(x=g*Ve)),x>m&&(m=x),d=r.indexOf(f,d+1);return i[c]=m,m}function Nt(e){return e.toLowerCase().replace(Vt," ")}function as(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,rt(e,n,Nt(e),Nt(n),0,0,{})}function se(e,n,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return n==null?void 0:n(a)}}function wt(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function ae(...e){return n=>{let r=!1;const s=e.map(a=>{const l=wt(a,n);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():wt(e[a],null)}}}}function de(...e){return o.useCallback(ae(...e),e)}function os(e,n){const r=o.createContext(n),s=l=>{const{children:i,...c}=l,f=o.useMemo(()=>c,Object.values(c));return t.jsx(r.Provider,{value:f,children:i})};s.displayName=e+"Provider";function a(l){const i=o.useContext(r);if(i)return i;if(n!==void 0)return n;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,a]}function ls(e,n=[]){let r=[];function s(l,i){const c=o.createContext(i),f=r.length;r=[...r,i];const d=x=>{var b;const{scope:g,children:u,...v}=x,p=((b=g==null?void 0:g[e])==null?void 0:b[f])||c,y=o.useMemo(()=>v,Object.values(v));return t.jsx(p.Provider,{value:y,children:u})};d.displayName=l+"Provider";function m(x,g){var p;const u=((p=g==null?void 0:g[e])==null?void 0:p[f])||c,v=o.useContext(u);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[d,m]}const a=()=>{const l=r.map(i=>o.createContext(i));return function(c){const f=(c==null?void 0:c[e])||l;return o.useMemo(()=>({[`__scope${e}`]:{...c,[e]:f}}),[c,f])}};return a.scopeName=e,[s,is(a,...n)]}function is(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const i=s.reduce((c,{useScope:f,scopeName:d})=>{const x=f(l)[`__scope${d}`];return{...c,...x}},{});return o.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return r.scopeName=n.scopeName,r}var je=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},cs=ot[" useId ".trim().toString()]||(()=>{}),ds=0;function ee(e){const[n,r]=o.useState(cs());return je(()=>{r(s=>s??String(ds++))},[e]),n?`radix-${n}`:""}var us=ot[" useInsertionEffect ".trim().toString()]||je;function fs({prop:e,defaultProp:n,onChange:r=()=>{},caller:s}){const[a,l,i]=ms({defaultProp:n,onChange:r}),c=e!==void 0,f=c?e:a;{const m=o.useRef(e!==void 0);o.useEffect(()=>{const x=m.current;x!==c&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,s])}const d=o.useCallback(m=>{var x;if(c){const g=xs(m)?m(e):m;g!==e&&((x=i.current)==null||x.call(i,g))}else l(m)},[c,e,l,i]);return[f,d]}function ms({defaultProp:e,onChange:n}){const[r,s]=o.useState(e),a=o.useRef(r),l=o.useRef(n);return us(()=>{l.current=n},[n]),o.useEffect(()=>{var i;a.current!==r&&((i=l.current)==null||i.call(l,r),a.current=r)},[r,a]),[r,s,l]}function xs(e){return typeof e=="function"}function we(e){const n=ps(e),r=o.forwardRef((s,a)=>{const{children:l,...i}=s,c=o.Children.toArray(l),f=c.find(gs);if(f){const d=f.props.children,m=c.map(x=>x===f?o.Children.count(d)>1?o.Children.only(null):o.isValidElement(d)?d.props.children:null:x);return t.jsx(n,{...i,ref:a,children:o.isValidElement(d)?o.cloneElement(d,void 0,m):null})}return t.jsx(n,{...i,ref:a,children:l})});return r.displayName=`${e}.Slot`,r}function ps(e){const n=o.forwardRef((r,s)=>{const{children:a,...l}=r;if(o.isValidElement(a)){const i=vs(a),c=bs(l,a.props);return a.type!==o.Fragment&&(c.ref=s?ae(s,i):i),o.cloneElement(a,c)}return o.Children.count(a)>1?o.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var hs=Symbol("radix.slottable");function gs(e){return o.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hs}function bs(e,n){const r={...n};for(const s in n){const a=e[s],l=n[s];/^on[A-Z]/.test(s)?a&&l?r[s]=(...c)=>{const f=l(...c);return a(...c),f}:a&&(r[s]=a):s==="style"?r[s]={...a,...l}:s==="className"&&(r[s]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}function vs(e){var s,a;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ys=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kt=ys.reduce((e,n)=>{const r=we(`Primitive.${n}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{});function js(e,n){e&&on.flushSync(()=>e.dispatchEvent(n))}function Ne(e){const n=o.useRef(e);return o.useEffect(()=>{n.current=e}),o.useMemo(()=>(...r)=>{var s;return(s=n.current)==null?void 0:s.call(n,...r)},[])}function Ns(e,n=globalThis==null?void 0:globalThis.document){const r=Ne(e);o.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return n.addEventListener("keydown",s,{capture:!0}),()=>n.removeEventListener("keydown",s,{capture:!0})},[r,n])}var ws="DismissableLayer",nt="dismissableLayer.update",Cs="dismissableLayer.pointerDownOutside",Ss="dismissableLayer.focusOutside",Ct,Gt=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yt=o.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:i,onDismiss:c,...f}=e,d=o.useContext(Gt),[m,x]=o.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,u]=o.useState({}),v=de(n,E=>x(E)),p=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(y),C=m?p.indexOf(m):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,N=C>=b,S=Rs(E=>{const M=E.target,I=[...d.branches].some(_=>_.contains(M));!N||I||(a==null||a(E),i==null||i(E),E.defaultPrevented||c==null||c())},g),R=As(E=>{const M=E.target;[...d.branches].some(_=>_.contains(M))||(l==null||l(E),i==null||i(E),E.defaultPrevented||c==null||c())},g);return Ns(E=>{C===d.layers.size-1&&(s==null||s(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},g),o.useEffect(()=>{if(m)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Ct=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),St(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Ct)}},[m,g,r,d]),o.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),St())},[m,d]),o.useEffect(()=>{const E=()=>u({});return document.addEventListener(nt,E),()=>document.removeEventListener(nt,E)},[]),t.jsx(Kt.div,{...f,ref:v,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,R.onFocusCapture),onBlurCapture:se(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,S.onPointerDownCapture)})});Yt.displayName=ws;var Es="DismissableLayerBranch",ks=o.forwardRef((e,n)=>{const r=o.useContext(Gt),s=o.useRef(null),a=de(n,s);return o.useEffect(()=>{const l=s.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),t.jsx(Kt.div,{...e,ref:a})});ks.displayName=Es;function Rs(e,n=globalThis==null?void 0:globalThis.document){const r=Ne(e),s=o.useRef(!1),a=o.useRef(()=>{});return o.useEffect(()=>{const l=c=>{if(c.target&&!s.current){let f=function(){Ut(Cs,r,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(n.removeEventListener("click",a.current),a.current=f,n.addEventListener("click",a.current,{once:!0})):f()}else n.removeEventListener("click",a.current);s.current=!1},i=window.setTimeout(()=>{n.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(i),n.removeEventListener("pointerdown",l),n.removeEventListener("click",a.current)}},[n,r]),{onPointerDownCapture:()=>s.current=!0}}function As(e,n=globalThis==null?void 0:globalThis.document){const r=Ne(e),s=o.useRef(!1);return o.useEffect(()=>{const a=l=>{l.target&&!s.current&&Ut(Ss,r,{originalEvent:l},{discrete:!1})};return n.addEventListener("focusin",a),()=>n.removeEventListener("focusin",a)},[n,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function St(){const e=new CustomEvent(nt);document.dispatchEvent(e)}function Ut(e,n,r,{discrete:s}){const a=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&a.addEventListener(e,n,{once:!0}),s?js(a,l):a.dispatchEvent(l)}var Ds=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Is=Ds.reduce((e,n)=>{const r=we(`Primitive.${n}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{}),Ge="focusScope.autoFocusOnMount",Ye="focusScope.autoFocusOnUnmount",Et={bubbles:!1,cancelable:!0},Ms="FocusScope",qt=o.forwardRef((e,n)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...i}=e,[c,f]=o.useState(null),d=Ne(a),m=Ne(l),x=o.useRef(null),g=de(n,p=>f(p)),u=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(s){let p=function(w){if(u.paused||!c)return;const N=w.target;c.contains(N)?x.current=N:re(x.current,{select:!0})},y=function(w){if(u.paused||!c)return;const N=w.relatedTarget;N!==null&&(c.contains(N)||re(x.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&re(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const C=new MutationObserver(b);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),C.disconnect()}}},[s,c,u.paused]),o.useEffect(()=>{if(c){Rt.add(u);const p=document.activeElement;if(!c.contains(p)){const b=new CustomEvent(Ge,Et);c.addEventListener(Ge,d),c.dispatchEvent(b),b.defaultPrevented||(Ps($s(Xt(c)),{select:!0}),document.activeElement===p&&re(c))}return()=>{c.removeEventListener(Ge,d),setTimeout(()=>{const b=new CustomEvent(Ye,Et);c.addEventListener(Ye,m),c.dispatchEvent(b),b.defaultPrevented||re(p??document.body,{select:!0}),c.removeEventListener(Ye,m),Rt.remove(u)},0)}}},[c,d,m,u]);const v=o.useCallback(p=>{if(!r&&!s||u.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(y&&b){const C=p.currentTarget,[w,N]=Ts(C);w&&N?!p.shiftKey&&b===N?(p.preventDefault(),r&&re(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&re(N,{select:!0})):b===C&&p.preventDefault()}},[r,s,u.paused]);return t.jsx(Is.div,{tabIndex:-1,...i,ref:g,onKeyDown:v})});qt.displayName=Ms;function Ps(e,{select:n=!1}={}){const r=document.activeElement;for(const s of e)if(re(s,{select:n}),document.activeElement!==r)return}function Ts(e){const n=Xt(e),r=kt(n,e),s=kt(n.reverse(),e);return[r,s]}function Xt(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function kt(e,n){for(const r of e)if(!Ls(r,{upTo:n}))return r}function Ls(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Os(e){return e instanceof HTMLInputElement&&"select"in e}function re(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Os(e)&&n&&e.select()}}var Rt=_s();function _s(){let e=[];return{add(n){const r=e[0];n!==r&&(r==null||r.pause()),e=At(e,n),e.unshift(n)},remove(n){var r;e=At(e,n),(r=e[0])==null||r.resume()}}}function At(e,n){const r=[...e],s=r.indexOf(n);return s!==-1&&r.splice(s,1),r}function $s(e){return e.filter(n=>n.tagName!=="A")}var Fs=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zs=Fs.reduce((e,n)=>{const r=we(`Primitive.${n}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{}),Hs="Portal",Zt=o.forwardRef((e,n)=>{var c;const{container:r,...s}=e,[a,l]=o.useState(!1);je(()=>l(!0),[]);const i=r||a&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return i?ln.createPortal(t.jsx(zs.div,{...s,ref:n}),i):null});Zt.displayName=Hs;function Ws(e,n){return o.useReducer((r,s)=>n[r][s]??r,e)}var $e=e=>{const{present:n,children:r}=e,s=Bs(n),a=typeof r=="function"?r({present:s.isPresent}):o.Children.only(r),l=de(s.ref,Vs(a));return typeof r=="function"||s.isPresent?o.cloneElement(a,{ref:l}):null};$e.displayName="Presence";function Bs(e){const[n,r]=o.useState(),s=o.useRef(null),a=o.useRef(e),l=o.useRef("none"),i=e?"mounted":"unmounted",[c,f]=Ws(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const d=ke(s.current);l.current=c==="mounted"?d:"none"},[c]),je(()=>{const d=s.current,m=a.current;if(m!==e){const g=l.current,u=ke(d);e?f("MOUNT"):u==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(m&&g!==u?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),je(()=>{if(n){let d;const m=n.ownerDocument.defaultView??window,x=u=>{const p=ke(s.current).includes(CSS.escape(u.animationName));if(u.target===n&&p&&(f("ANIMATION_END"),!a.current)){const y=n.style.animationFillMode;n.style.animationFillMode="forwards",d=m.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=y)})}},g=u=>{u.target===n&&(l.current=ke(s.current))};return n.addEventListener("animationstart",g),n.addEventListener("animationcancel",x),n.addEventListener("animationend",x),()=>{m.clearTimeout(d),n.removeEventListener("animationstart",g),n.removeEventListener("animationcancel",x),n.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[n,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(d=>{s.current=d?getComputedStyle(d):null,r(d)},[])}}function ke(e){return(e==null?void 0:e.animationName)||"none"}function Vs(e){var s,a;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ks=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ce=Ks.reduce((e,n)=>{const r=we(`Primitive.${n}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{}),Ue=0;function Gs(){o.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Dt()),document.body.insertAdjacentElement("beforeend",e[1]??Dt()),Ue++,()=>{Ue===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Ue--}},[])}function Dt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Me="right-scroll-bar-position",Pe="width-before-scroll-bar",Ys="with-scroll-bars-hidden",Us="--removed-body-scroll-bar-size";function qe(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function qs(e,n){var r=o.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=n,r.facade}var Xs=typeof window<"u"?o.useLayoutEffect:o.useEffect,It=new WeakMap;function Zs(e,n){var r=qs(null,function(s){return e.forEach(function(a){return qe(a,s)})});return Xs(function(){var s=It.get(r);if(s){var a=new Set(s),l=new Set(e),i=r.current;a.forEach(function(c){l.has(c)||qe(c,null)}),l.forEach(function(c){a.has(c)||qe(c,i)})}It.set(r,e)},[e]),r}function Js(e){return e}function Qs(e,n){n===void 0&&(n=Js);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var i=n(l,s);return r.push(i),function(){r=r.filter(function(c){return c!==i})}},assignSyncMedium:function(l){for(s=!0;r.length;){var i=r;r=[],i.forEach(l)}r={push:function(c){return l(c)},filter:function(){return r}}},assignMedium:function(l){s=!0;var i=[];if(r.length){var c=r;r=[],c.forEach(l),i=r}var f=function(){var m=i;i=[],m.forEach(l)},d=function(){return Promise.resolve().then(f)};d(),r={push:function(m){i.push(m),d()},filter:function(m){return i=i.filter(m),r}}}};return a}function ea(e){e===void 0&&(e={});var n=Qs(null);return n.options=ne({async:!0,ssr:!1},e),n}var Jt=function(e){var n=e.sideCar,r=$t(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=n.read();if(!s)throw new Error("Sidecar medium not found");return o.createElement(s,ne({},r))};Jt.isSideCarExport=!0;function ta(e,n){return e.useMedium(n),Jt}var Qt=ea(),Xe=function(){},Fe=o.forwardRef(function(e,n){var r=o.useRef(null),s=o.useState({onScrollCapture:Xe,onWheelCapture:Xe,onTouchMoveCapture:Xe}),a=s[0],l=s[1],i=e.forwardProps,c=e.children,f=e.className,d=e.removeScrollBar,m=e.enabled,x=e.shards,g=e.sideCar,u=e.noRelative,v=e.noIsolation,p=e.inert,y=e.allowPinchZoom,b=e.as,C=b===void 0?"div":b,w=e.gapMode,N=$t(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=g,R=Zs([r,n]),E=ne(ne({},N),a);return o.createElement(o.Fragment,null,m&&o.createElement(S,{sideCar:Qt,removeScrollBar:d,shards:x,noRelative:u,noIsolation:v,inert:p,setCallbacks:l,allowPinchZoom:!!y,lockRef:r,gapMode:w}),i?o.cloneElement(o.Children.only(c),ne(ne({},E),{ref:R})):o.createElement(C,ne({},E,{className:f,ref:R}),c))});Fe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fe.classNames={fullWidth:Pe,zeroRight:Me};var ra=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function na(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=ra();return n&&e.setAttribute("nonce",n),e}function sa(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function aa(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var oa=function(){var e=0,n=null;return{add:function(r){e==0&&(n=na())&&(sa(n,r),aa(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},la=function(){var e=oa();return function(n,r){o.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},er=function(){var e=la(),n=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return n},ia={left:0,top:0,right:0,gap:0},Ze=function(e){return parseInt(e||"",10)||0},ca=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],s=n[e==="padding"?"paddingTop":"marginTop"],a=n[e==="padding"?"paddingRight":"marginRight"];return[Ze(r),Ze(s),Ze(a)]},da=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ia;var n=ca(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,s-r+n[2]-n[0])}},ua=er(),be="data-scroll-locked",fa=function(e,n,r,s){var a=e.left,l=e.top,i=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Ys,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(be,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Me,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Pe,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Me," .").concat(Me,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Pe," .").concat(Pe,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(be,`] {
    `).concat(Us,": ").concat(c,`px;
  }
`)},Mt=function(){var e=parseInt(document.body.getAttribute(be)||"0",10);return isFinite(e)?e:0},ma=function(){o.useEffect(function(){return document.body.setAttribute(be,(Mt()+1).toString()),function(){var e=Mt()-1;e<=0?document.body.removeAttribute(be):document.body.setAttribute(be,e.toString())}},[])},xa=function(e){var n=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;ma();var l=o.useMemo(function(){return da(a)},[a]);return o.createElement(ua,{styles:fa(l,!n,a,r?"":"!important")})},st=!1;if(typeof window<"u")try{var Re=Object.defineProperty({},"passive",{get:function(){return st=!0,!0}});window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch{st=!1}var me=st?{passive:!1}:!1,pa=function(e){return e.tagName==="TEXTAREA"},tr=function(e,n){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!pa(e)&&r[n]==="visible")},ha=function(e){return tr(e,"overflowY")},ga=function(e){return tr(e,"overflowX")},Pt=function(e,n){var r=n.ownerDocument,s=n;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=rr(e,s);if(a){var l=nr(e,s),i=l[1],c=l[2];if(i>c)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},ba=function(e){var n=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[n,r,s]},va=function(e){var n=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[n,r,s]},rr=function(e,n){return e==="v"?ha(n):ga(n)},nr=function(e,n){return e==="v"?ba(n):va(n)},ya=function(e,n){return e==="h"&&n==="rtl"?-1:1},ja=function(e,n,r,s,a){var l=ya(e,window.getComputedStyle(n).direction),i=l*s,c=r.target,f=n.contains(c),d=!1,m=i>0,x=0,g=0;do{if(!c)break;var u=nr(e,c),v=u[0],p=u[1],y=u[2],b=p-y-l*v;(v||b)&&rr(e,c)&&(x+=b,g+=v);var C=c.parentNode;c=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!f&&c!==document.body||f&&(n.contains(c)||n===c));return(m&&Math.abs(x)<1||!m&&Math.abs(g)<1)&&(d=!0),d},Ae=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Tt=function(e){return[e.deltaX,e.deltaY]},Lt=function(e){return e&&"current"in e?e.current:e},Na=function(e,n){return e[0]===n[0]&&e[1]===n[1]},wa=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ca=0,xe=[];function Sa(e){var n=o.useRef([]),r=o.useRef([0,0]),s=o.useRef(),a=o.useState(Ca++)[0],l=o.useState(er)[0],i=o.useRef(e);o.useEffect(function(){i.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Ir([e.lockRef.current],(e.shards||[]).map(Lt),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var b=Ae(p),C=r.current,w="deltaX"in p?p.deltaX:C[0]-b[0],N="deltaY"in p?p.deltaY:C[1]-b[1],S,R=p.target,E=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in p&&E==="h"&&R.type==="range")return!1;var M=window.getSelection(),I=M&&M.anchorNode,_=I?I===R||I.contains(R):!1;if(_)return!1;var F=Pt(E,R);if(!F)return!0;if(F?S=E:(S=E==="v"?"h":"v",F=Pt(E,R)),!F)return!1;if(!s.current&&"changedTouches"in p&&(w||N)&&(s.current=S),!S)return!0;var G=s.current||S;return ja(G,y,p,G==="h"?w:N)},[]),f=o.useCallback(function(p){var y=p;if(!(!xe.length||xe[xe.length-1]!==l)){var b="deltaY"in y?Tt(y):Ae(y),C=n.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&Na(S.delta,b)})[0];if(C&&C.should){y.cancelable&&y.preventDefault();return}if(!C){var w=(i.current.shards||[]).map(Lt).filter(Boolean).filter(function(S){return S.contains(y.target)}),N=w.length>0?c(y,w[0]):!i.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),d=o.useCallback(function(p,y,b,C){var w={name:p,delta:y,target:b,should:C,shadowParent:Ea(b)};n.current.push(w),setTimeout(function(){n.current=n.current.filter(function(N){return N!==w})},1)},[]),m=o.useCallback(function(p){r.current=Ae(p),s.current=void 0},[]),x=o.useCallback(function(p){d(p.type,Tt(p),p.target,c(p,e.lockRef.current))},[]),g=o.useCallback(function(p){d(p.type,Ae(p),p.target,c(p,e.lockRef.current))},[]);o.useEffect(function(){return xe.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:g}),document.addEventListener("wheel",f,me),document.addEventListener("touchmove",f,me),document.addEventListener("touchstart",m,me),function(){xe=xe.filter(function(p){return p!==l}),document.removeEventListener("wheel",f,me),document.removeEventListener("touchmove",f,me),document.removeEventListener("touchstart",m,me)}},[]);var u=e.removeScrollBar,v=e.inert;return o.createElement(o.Fragment,null,v?o.createElement(l,{styles:wa(a)}):null,u?o.createElement(xa,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Ea(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const ka=ta(Qt,Sa);var sr=o.forwardRef(function(e,n){return o.createElement(Fe,ne({},e,{ref:n,sideCar:ka}))});sr.classNames=Fe.classNames;var Ra=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},pe=new WeakMap,De=new WeakMap,Ie={},Je=0,ar=function(e){return e&&(e.host||ar(e.parentNode))},Aa=function(e,n){return n.map(function(r){if(e.contains(r))return r;var s=ar(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Da=function(e,n,r,s){var a=Aa(n,Array.isArray(e)?e:[e]);Ie[r]||(Ie[r]=new WeakMap);var l=Ie[r],i=[],c=new Set,f=new Set(a),d=function(x){!x||c.has(x)||(c.add(x),d(x.parentNode))};a.forEach(d);var m=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(g){if(c.has(g))m(g);else try{var u=g.getAttribute(s),v=u!==null&&u!=="false",p=(pe.get(g)||0)+1,y=(l.get(g)||0)+1;pe.set(g,p),l.set(g,y),i.push(g),p===1&&v&&De.set(g,!0),y===1&&g.setAttribute(r,"true"),v||g.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",g,b)}})};return m(n),c.clear(),Je++,function(){i.forEach(function(x){var g=pe.get(x)-1,u=l.get(x)-1;pe.set(x,g),l.set(x,u),g||(De.has(x)||x.removeAttribute(s),De.delete(x)),u||x.removeAttribute(r)}),Je--,Je||(pe=new WeakMap,pe=new WeakMap,De=new WeakMap,Ie={})}},Ia=function(e,n,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Ra(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),Da(s,a,r,"aria-hidden")):function(){return null}},ze="Dialog",[or]=ls(ze),[Ma,q]=or(ze),lr=e=>{const{__scopeDialog:n,children:r,open:s,defaultOpen:a,onOpenChange:l,modal:i=!0}=e,c=o.useRef(null),f=o.useRef(null),[d,m]=fs({prop:s,defaultProp:a??!1,onChange:l,caller:ze});return t.jsx(Ma,{scope:n,triggerRef:c,contentRef:f,contentId:ee(),titleId:ee(),descriptionId:ee(),open:d,onOpenChange:m,onOpenToggle:o.useCallback(()=>m(x=>!x),[m]),modal:i,children:r})};lr.displayName=ze;var ir="DialogTrigger",Pa=o.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,a=q(ir,r),l=de(n,a.triggerRef);return t.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":dt(a.open),...s,ref:l,onClick:se(e.onClick,a.onOpenToggle)})});Pa.displayName=ir;var it="DialogPortal",[Ta,cr]=or(it,{forceMount:void 0}),dr=e=>{const{__scopeDialog:n,forceMount:r,children:s,container:a}=e,l=q(it,n);return t.jsx(Ta,{scope:n,forceMount:r,children:o.Children.map(s,i=>t.jsx($e,{present:r||l.open,children:t.jsx(Zt,{asChild:!0,container:a,children:i})}))})};dr.displayName=it;var Oe="DialogOverlay",ur=o.forwardRef((e,n)=>{const r=cr(Oe,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,l=q(Oe,e.__scopeDialog);return l.modal?t.jsx($e,{present:s||l.open,children:t.jsx(Oa,{...a,ref:n})}):null});ur.displayName=Oe;var La=we("DialogOverlay.RemoveScroll"),Oa=o.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,a=q(Oe,r);return t.jsx(sr,{as:La,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx(Ce.div,{"data-state":dt(a.open),...s,ref:n,style:{pointerEvents:"auto",...s.style}})})}),ie="DialogContent",fr=o.forwardRef((e,n)=>{const r=cr(ie,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,l=q(ie,e.__scopeDialog);return t.jsx($e,{present:s||l.open,children:l.modal?t.jsx(_a,{...a,ref:n}):t.jsx($a,{...a,ref:n})})});fr.displayName=ie;var _a=o.forwardRef((e,n)=>{const r=q(ie,e.__scopeDialog),s=o.useRef(null),a=de(n,r.contentRef,s);return o.useEffect(()=>{const l=s.current;if(l)return Ia(l)},[]),t.jsx(mr,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&l.preventDefault()}),onFocusOutside:se(e.onFocusOutside,l=>l.preventDefault())})}),$a=o.forwardRef((e,n)=>{const r=q(ie,e.__scopeDialog),s=o.useRef(!1),a=o.useRef(!1);return t.jsx(mr,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var i,c;(i=e.onCloseAutoFocus)==null||i.call(e,l),l.defaultPrevented||(s.current||(c=r.triggerRef.current)==null||c.focus(),l.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:l=>{var f,d;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=l.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),mr=o.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,...i}=e,c=q(ie,r),f=o.useRef(null),d=de(n,f);return Gs(),t.jsxs(t.Fragment,{children:[t.jsx(qt,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:l,children:t.jsx(Yt,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":dt(c.open),...i,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Wa,{titleId:c.titleId}),t.jsx(Va,{contentRef:f,descriptionId:c.descriptionId})]})]})}),ct="DialogTitle",Fa=o.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,a=q(ct,r);return t.jsx(Ce.h2,{id:a.titleId,...s,ref:n})});Fa.displayName=ct;var xr="DialogDescription",za=o.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,a=q(xr,r);return t.jsx(Ce.p,{id:a.descriptionId,...s,ref:n})});za.displayName=xr;var pr="DialogClose",Ha=o.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,a=q(pr,r);return t.jsx(Ce.button,{type:"button",...s,ref:n,onClick:se(e.onClick,()=>a.onOpenChange(!1))})});Ha.displayName=pr;function dt(e){return e?"open":"closed"}var hr="DialogTitleWarning",[Bo,gr]=os(hr,{contentName:ie,titleName:ct,docsSlug:"dialog"}),Wa=({titleId:e})=>{const n=gr(hr),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return o.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Ba="DialogDescriptionWarning",Va=({contentRef:e,descriptionId:n})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gr(Ba).contentName}}.`;return o.useEffect(()=>{var l;const a=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");n&&a&&(document.getElementById(n)||console.warn(s))},[s,e,n]),null},Ka=lr,Ga=dr,Ya=ur,Ua=fr,qa=Symbol.for("react.lazy"),_e=ot[" use ".trim().toString()];function Xa(e){return typeof e=="object"&&e!==null&&"then"in e}function br(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===qa&&"_payload"in e&&Xa(e._payload)}function Za(e){const n=Ja(e),r=o.forwardRef((s,a)=>{let{children:l,...i}=s;br(l)&&typeof _e=="function"&&(l=_e(l._payload));const c=o.Children.toArray(l),f=c.find(eo);if(f){const d=f.props.children,m=c.map(x=>x===f?o.Children.count(d)>1?o.Children.only(null):o.isValidElement(d)?d.props.children:null:x);return t.jsx(n,{...i,ref:a,children:o.isValidElement(d)?o.cloneElement(d,void 0,m):null})}return t.jsx(n,{...i,ref:a,children:l})});return r.displayName=`${e}.Slot`,r}function Ja(e){const n=o.forwardRef((r,s)=>{let{children:a,...l}=r;if(br(a)&&typeof _e=="function"&&(a=_e(a._payload)),o.isValidElement(a)){const i=ro(a),c=to(l,a.props);return a.type!==o.Fragment&&(c.ref=s?ae(s,i):i),o.cloneElement(a,c)}return o.Children.count(a)>1?o.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var Qa=Symbol("radix.slottable");function eo(e){return o.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Qa}function to(e,n){const r={...n};for(const s in n){const a=e[s],l=n[s];/^on[A-Z]/.test(s)?a&&l?r[s]=(...c)=>{const f=l(...c);return a(...c),f}:a&&(r[s]=a):s==="style"?r[s]={...a,...l}:s==="className"&&(r[s]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}function ro(e){var s,a;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var no=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=no.reduce((e,n)=>{const r=Za(`Primitive.${n}`),s=o.forwardRef((a,l)=>{const{asChild:i,...c}=a,f=i?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...c,ref:l})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{}),ve='[cmdk-group=""]',Qe='[cmdk-group-items=""]',so='[cmdk-group-heading=""]',vr='[cmdk-item=""]',Ot=`${vr}:not([aria-disabled="true"])`,at="cmdk-item-select",he="data-value",ao=(e,n,r)=>as(e,n,r),yr=o.createContext(void 0),Se=()=>o.useContext(yr),jr=o.createContext(void 0),ut=()=>o.useContext(jr),Nr=o.createContext(void 0),wr=o.forwardRef((e,n)=>{let r=ge(()=>{var h,D;return{search:"",value:(D=(h=e.value)!=null?h:e.defaultValue)!=null?D:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=ge(()=>new Set),a=ge(()=>new Map),l=ge(()=>new Map),i=ge(()=>new Set),c=Cr(e),{label:f,children:d,value:m,onValueChange:x,filter:g,shouldFilter:u,loop:v,disablePointerSelection:p=!1,vimBindings:y=!0,...b}=e,C=ee(),w=ee(),N=ee(),S=o.useRef(null),R=go();ce(()=>{if(m!==void 0){let h=m.trim();r.current.value=h,E.emit()}},[m]),ce(()=>{R(6,X)},[]);let E=o.useMemo(()=>({subscribe:h=>(i.current.add(h),()=>i.current.delete(h)),snapshot:()=>r.current,setState:(h,D,T)=>{var k,L,$,V;if(!Object.is(r.current[h],D)){if(r.current[h]=D,h==="search")G(),_(),R(1,F);else if(h==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let W=document.getElementById(N);W?W.focus():(k=document.getElementById(C))==null||k.focus()}if(R(7,()=>{var W;r.current.selectedItemId=(W=U())==null?void 0:W.id,E.emit()}),T||R(5,X),((L=c.current)==null?void 0:L.value)!==void 0){let W=D??"";(V=($=c.current).onValueChange)==null||V.call($,W);return}}E.emit()}},emit:()=>{i.current.forEach(h=>h())}}),[]),M=o.useMemo(()=>({value:(h,D,T)=>{var k;D!==((k=l.current.get(h))==null?void 0:k.value)&&(l.current.set(h,{value:D,keywords:T}),r.current.filtered.items.set(h,I(D,T)),R(2,()=>{_(),E.emit()}))},item:(h,D)=>(s.current.add(h),D&&(a.current.has(D)?a.current.get(D).add(h):a.current.set(D,new Set([h]))),R(3,()=>{G(),_(),r.current.value||F(),E.emit()}),()=>{l.current.delete(h),s.current.delete(h),r.current.filtered.items.delete(h);let T=U();R(4,()=>{G(),(T==null?void 0:T.getAttribute("id"))===h&&F(),E.emit()})}),group:h=>(a.current.has(h)||a.current.set(h,new Set),()=>{l.current.delete(h),a.current.delete(h)}),filter:()=>c.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:C,inputId:N,labelId:w,listInnerRef:S}),[]);function I(h,D){var T,k;let L=(k=(T=c.current)==null?void 0:T.filter)!=null?k:ao;return h?L(h,r.current.search,D):0}function _(){if(!r.current.search||c.current.shouldFilter===!1)return;let h=r.current.filtered.items,D=[];r.current.filtered.groups.forEach(k=>{let L=a.current.get(k),$=0;L.forEach(V=>{let W=h.get(V);$=Math.max(W,$)}),D.push([k,$])});let T=S.current;Z().sort((k,L)=>{var $,V;let W=k.getAttribute("id"),ue=L.getAttribute("id");return(($=h.get(ue))!=null?$:0)-((V=h.get(W))!=null?V:0)}).forEach(k=>{let L=k.closest(Qe);L?L.appendChild(k.parentElement===L?k:k.closest(`${Qe} > *`)):T.appendChild(k.parentElement===T?k:k.closest(`${Qe} > *`))}),D.sort((k,L)=>L[1]-k[1]).forEach(k=>{var L;let $=(L=S.current)==null?void 0:L.querySelector(`${ve}[${he}="${encodeURIComponent(k[0])}"]`);$==null||$.parentElement.appendChild($)})}function F(){let h=Z().find(T=>T.getAttribute("aria-disabled")!=="true"),D=h==null?void 0:h.getAttribute(he);E.setState("value",D||void 0)}function G(){var h,D,T,k;if(!r.current.search||c.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let L=0;for(let $ of s.current){let V=(D=(h=l.current.get($))==null?void 0:h.value)!=null?D:"",W=(k=(T=l.current.get($))==null?void 0:T.keywords)!=null?k:[],ue=I(V,W);r.current.filtered.items.set($,ue),ue>0&&L++}for(let[$,V]of a.current)for(let W of V)if(r.current.filtered.items.get(W)>0){r.current.filtered.groups.add($);break}r.current.filtered.count=L}function X(){var h,D,T;let k=U();k&&(((h=k.parentElement)==null?void 0:h.firstChild)===k&&((T=(D=k.closest(ve))==null?void 0:D.querySelector(so))==null||T.scrollIntoView({block:"nearest"})),k.scrollIntoView({block:"nearest"}))}function U(){var h;return(h=S.current)==null?void 0:h.querySelector(`${vr}[aria-selected="true"]`)}function Z(){var h;return Array.from(((h=S.current)==null?void 0:h.querySelectorAll(Ot))||[])}function J(h){let D=Z()[h];D&&E.setState("value",D.getAttribute(he))}function te(h){var D;let T=U(),k=Z(),L=k.findIndex(V=>V===T),$=k[L+h];(D=c.current)!=null&&D.loop&&($=L+h<0?k[k.length-1]:L+h===k.length?k[0]:k[L+h]),$&&E.setState("value",$.getAttribute(he))}function j(h){let D=U(),T=D==null?void 0:D.closest(ve),k;for(;T&&!k;)T=h>0?po(T,ve):ho(T,ve),k=T==null?void 0:T.querySelector(Ot);k?E.setState("value",k.getAttribute(he)):te(h)}let P=()=>J(Z().length-1),Y=h=>{h.preventDefault(),h.metaKey?P():h.altKey?j(1):te(1)},H=h=>{h.preventDefault(),h.metaKey?J(0):h.altKey?j(-1):te(-1)};return o.createElement(le.div,{ref:n,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:h=>{var D;(D=b.onKeyDown)==null||D.call(b,h);let T=h.nativeEvent.isComposing||h.keyCode===229;if(!(h.defaultPrevented||T))switch(h.key){case"n":case"j":{y&&h.ctrlKey&&Y(h);break}case"ArrowDown":{Y(h);break}case"p":case"k":{y&&h.ctrlKey&&H(h);break}case"ArrowUp":{H(h);break}case"Home":{h.preventDefault(),J(0);break}case"End":{h.preventDefault(),P();break}case"Enter":{h.preventDefault();let k=U();if(k){let L=new Event(at);k.dispatchEvent(L)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:vo},f),He(e,h=>o.createElement(jr.Provider,{value:E},o.createElement(yr.Provider,{value:M},h))))}),oo=o.forwardRef((e,n)=>{var r,s;let a=ee(),l=o.useRef(null),i=o.useContext(Nr),c=Se(),f=Cr(e),d=(s=(r=f.current)==null?void 0:r.forceMount)!=null?s:i==null?void 0:i.forceMount;ce(()=>{if(!d)return c.item(a,i==null?void 0:i.id)},[d]);let m=Sr(a,l,[e.value,e.children,l],e.keywords),x=ut(),g=oe(R=>R.value&&R.value===m.current),u=oe(R=>d||c.filter()===!1?!0:R.search?R.filtered.items.get(a)>0:!0);o.useEffect(()=>{let R=l.current;if(!(!R||e.disabled))return R.addEventListener(at,v),()=>R.removeEventListener(at,v)},[u,e.onSelect,e.disabled]);function v(){var R,E;p(),(E=(R=f.current).onSelect)==null||E.call(R,m.current)}function p(){x.setState("value",m.current,!0)}if(!u)return null;let{disabled:y,value:b,onSelect:C,forceMount:w,keywords:N,...S}=e;return o.createElement(le.div,{ref:ae(l,n),...S,id:a,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!g,"data-disabled":!!y,"data-selected":!!g,onPointerMove:y||c.getDisablePointerSelection()?void 0:p,onClick:y?void 0:v},e.children)}),lo=o.forwardRef((e,n)=>{let{heading:r,children:s,forceMount:a,...l}=e,i=ee(),c=o.useRef(null),f=o.useRef(null),d=ee(),m=Se(),x=oe(u=>a||m.filter()===!1?!0:u.search?u.filtered.groups.has(i):!0);ce(()=>m.group(i),[]),Sr(i,c,[e.value,e.heading,f]);let g=o.useMemo(()=>({id:i,forceMount:a}),[a]);return o.createElement(le.div,{ref:ae(c,n),...l,"cmdk-group":"",role:"presentation",hidden:x?void 0:!0},r&&o.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),He(e,u=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},o.createElement(Nr.Provider,{value:g},u))))}),io=o.forwardRef((e,n)=>{let{alwaysRender:r,...s}=e,a=o.useRef(null),l=oe(i=>!i.search);return!r&&!l?null:o.createElement(le.div,{ref:ae(a,n),...s,"cmdk-separator":"",role:"separator"})}),co=o.forwardRef((e,n)=>{let{onValueChange:r,...s}=e,a=e.value!=null,l=ut(),i=oe(d=>d.search),c=oe(d=>d.selectedItemId),f=Se();return o.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),o.createElement(le.input,{ref:n,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":c,id:f.inputId,type:"text",value:a?e.value:i,onChange:d=>{a||l.setState("search",d.target.value),r==null||r(d.target.value)}})}),uo=o.forwardRef((e,n)=>{let{children:r,label:s="Suggestions",...a}=e,l=o.useRef(null),i=o.useRef(null),c=oe(d=>d.selectedItemId),f=Se();return o.useEffect(()=>{if(i.current&&l.current){let d=i.current,m=l.current,x,g=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let u=d.offsetHeight;m.style.setProperty("--cmdk-list-height",u.toFixed(1)+"px")})});return g.observe(d),()=>{cancelAnimationFrame(x),g.unobserve(d)}}},[]),o.createElement(le.div,{ref:ae(l,n),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":s,id:f.listId},He(e,d=>o.createElement("div",{ref:ae(i,f.listInnerRef),"cmdk-list-sizer":""},d)))}),fo=o.forwardRef((e,n)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:l,container:i,...c}=e;return o.createElement(Ka,{open:r,onOpenChange:s},o.createElement(Ga,{container:i},o.createElement(Ya,{"cmdk-overlay":"",className:a}),o.createElement(Ua,{"aria-label":e.label,"cmdk-dialog":"",className:l},o.createElement(wr,{ref:n,...c}))))}),mo=o.forwardRef((e,n)=>oe(r=>r.filtered.count===0)?o.createElement(le.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),xo=o.forwardRef((e,n)=>{let{progress:r,children:s,label:a="Loading...",...l}=e;return o.createElement(le.div,{ref:n,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},He(e,i=>o.createElement("div",{"aria-hidden":!0},i)))}),B=Object.assign(wr,{List:uo,Item:oo,Input:co,Group:lo,Separator:io,Dialog:fo,Empty:mo,Loading:xo});function po(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function ho(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function Cr(e){let n=o.useRef(e);return ce(()=>{n.current=e}),n}var ce=typeof window>"u"?o.useEffect:o.useLayoutEffect;function ge(e){let n=o.useRef();return n.current===void 0&&(n.current=e()),n}function oe(e){let n=ut(),r=()=>e(n.snapshot());return o.useSyncExternalStore(n.subscribe,r,r)}function Sr(e,n,r,s=[]){let a=o.useRef(),l=Se();return ce(()=>{var i;let c=(()=>{var d;for(let m of r){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(d=m.current.textContent)==null?void 0:d.trim():a.current}})(),f=s.map(d=>d.trim());l.value(e,c,f),(i=n.current)==null||i.setAttribute(he,c),a.current=c}),a}var go=()=>{let[e,n]=o.useState(),r=ge(()=>new Map);return ce(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),n({})}};function bo(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function He({asChild:e,children:n},r){return e&&o.isValidElement(n)?o.cloneElement(bo(n),{ref:n.ref},r(n.props.children)):r(n)}var vo={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const yo=()=>{const[e,n]=o.useState(!1),[r,s]=o.useState([]),[a,l]=o.useState([]),[i,c]=o.useState("root"),[f,d]=o.useState(null),[m,x]=o.useState(""),g=Ft(),{showToast:u}=Mr();o.useEffect(()=>{const b=C=>{C.key==="k"&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),n(w=>(w||(c("root"),x("")),!w)))};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[]),o.useEffect(()=>{e&&(xt().then(s),Pr().then(l))},[e]);const v=b=>{n(!1),b()},p=async b=>{if(!f)return;const C=r.find(w=>w.caseId===f);C==null||C.status;try{await Or(f,{status:b}),u(`${C==null?void 0:C.customerName}  ${b}() .`,"success"),n(!1),c("root"),xt().then(s)}catch(w){console.error("Failed to update status",w),u("  .","error")}},y=o.useMemo(()=>{if(!m)return r;const b=m.toLowerCase();return r.filter(C=>C.customerName.toLowerCase().includes(b)||C.phone.includes(b))},[r,m]);return e?t.jsx(Xn,{children:e&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsx(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:t.jsxs(B,{className:"w-full",onKeyDown:b=>{b.key==="Backspace"&&!m&&(b.preventDefault(),i==="status-select"&&c("status-case-select"),i==="status-case-select"&&c("root"))},children:[t.jsxs("div",{className:"flex items-center border-b border-gray-100 dark:border-gray-700 px-4",children:[i!=="root"&&t.jsx("button",{onClick:()=>{c(i==="status-select"?"status-case-select":"root")},className:"mr-2 p-1 hover:bg-gray-100 rounded text-gray-500",children:t.jsx(jo,{})}),t.jsx(hn,{className:"w-5 h-5 text-gray-400 mr-2"}),t.jsx(B.Input,{value:m,onValueChange:x,className:"w-full p-4 bg-transparent outline-none text-gray-800 dark:text-gray-100 placeholder-gray-400",placeholder:i==="root"?"   (, , )...":i==="status-case-select"?"   ...":"  ..."})]}),t.jsxs(B.List,{className:"max-h-[60vh] overflow-y-auto p-2 scrollbar-hide",children:[t.jsx(B.Empty,{className:"p-4 text-center text-gray-500",children:"  ."}),i==="root"&&t.jsxs(t.Fragment,{children:[t.jsx(B.Group,{heading:" ",className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:t.jsxs(B.Item,{onSelect:()=>{c("status-case-select"),x("")},className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-orange-100 p-1.5 rounded mr-3 text-orange-600",children:t.jsx(Bn,{size:16})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium",children:"  "}),t.jsx("span",{className:"text-[10px] text-gray-400",children:"     "})]}),t.jsx(gt,{className:"ml-auto w-4 h-4 text-gray-400"})]})}),t.jsxs(B.Group,{heading:" ",className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:[t.jsxs(B.Item,{onSelect:()=>v(()=>g("/")),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-blue-100 p-1.5 rounded mr-3 text-blue-600",children:t.jsx(Tr,{size:16})}),t.jsx("span",{className:"text-sm font-medium",children:""})]}),t.jsxs(B.Item,{onSelect:()=>v(()=>g("/cases")),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-purple-100 p-1.5 rounded mr-3 text-purple-600",children:t.jsx(zt,{size:16})}),t.jsx("span",{className:"text-sm font-medium",children:" "})]}),t.jsxs(B.Item,{onSelect:()=>v(()=>g("/new")),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-green-100 p-1.5 rounded mr-3 text-green-600",children:t.jsx(We,{size:16})}),t.jsx("span",{className:"text-sm font-medium",children:"  "})]})]}),t.jsx(B.Group,{heading:" ",className:"text-xs font-semibold text-gray-500 mb-2 px-2 mt-2",children:r.slice(0,5).map(b=>t.jsxs(B.Item,{onSelect:()=>v(()=>g(`/case/${b.caseId}`)),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-1.5 rounded mr-3 text-gray-600 dark:text-gray-300",children:t.jsx(We,{size:16})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:b.customerName}),t.jsxs("span",{className:"text-xs text-gray-500",children:[b.phone," | ",b.status]})]})]},b.caseId))})]}),i==="status-case-select"&&t.jsx(B.Group,{heading:"  ( )",className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:y.slice(0,20).map(b=>t.jsxs(B.Item,{onSelect:()=>{d(b.caseId),c("status-select"),x("")},className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-1.5 rounded mr-3 text-gray-600 dark:text-gray-300",children:t.jsx(We,{size:16})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:b.customerName}),t.jsxs("span",{className:"text-xs text-gray-500",children:[b.phone," | : ",b.status]})]}),t.jsx(gt,{className:"ml-auto w-4 h-4 text-gray-400"})]},"status-"+b.caseId))}),i==="status-select"&&t.jsx(B.Group,{heading:"  ",className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:a.filter(b=>b!=="").map(b=>t.jsxs(B.Item,{onSelect:()=>p(b),className:"flex items-center p-2 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-blue-50 dark:data-[selected=true]:bg-blue-900/20 data-[selected=true]:text-blue-600",children:[t.jsx("div",{className:"bg-gray-100 p-1.5 rounded mr-3 text-gray-600",children:t.jsx(Lr,{size:16})}),t.jsx("span",{className:"text-sm font-medium text-gray-800",children:b})]},b))})]}),t.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 p-2 px-4 flex justify-between items-center text-[10px] text-gray-400 bg-gray-50 dark:bg-gray-900/50",children:[t.jsx("span",{children:": "}),t.jsx("span",{children:": "}),t.jsx("span",{children:": Bksp"}),t.jsx("span",{children:": ESC"})]})]})})})}):null},jo=()=>t.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",children:t.jsx("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),No=({c:e,partner:n,statuses:r,secondaryStatuses:s,onStatusChangeStart:a,onSecondaryStatusChangeStart:l})=>{const i=en(e,n);return t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 sticky top-0 z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold text-white whitespace-nowrap "+(["",""].includes(e.caseType||"")?"bg-indigo-500":"bg-gray-500"),children:e.caseType}),t.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded font-bold border border-gray-200 whitespace-nowrap",children:(n==null?void 0:n.name)||" "}),t.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 whitespace-nowrap",children:e.customerName}),t.jsx("span",{className:"text-gray-500 whitespace-nowrap",children:e.phone})]}),i.length>0&&t.jsx("div",{className:"flex gap-2 mt-2",children:i.map(c=>t.jsxs("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-0.5 rounded font-bold flex items-center",children:[t.jsx(_r,{size:12,className:"mr-1"})," ",c]},c))})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("label",{className:"text-xs text-gray-400 font-medium",children:"1 "}),t.jsx("select",{className:"p-2 border border-gray-300 rounded font-semibold outline-none min-w-[140px] "+($r[e.status]||"bg-blue-50 text-blue-800"),value:e.status,onChange:c=>a(c.target.value),children:r.map(c=>t.jsx("option",{value:c,children:c},c))})]}),e.status===" "&&t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("label",{className:"text-xs text-purple-500 font-medium",children:"2 "}),t.jsxs("select",{className:"p-2 border border-purple-300 rounded font-semibold outline-none min-w-[140px] bg-purple-50 text-purple-800",value:e.secondaryStatus||"",onChange:c=>l(c.target.value||null),children:[t.jsx("option",{value:"",children:" "}),s.map(c=>t.jsx("option",{value:c,children:c},c))]})]})]})]})})},wo=({reminders:e,memos:n,onUpdateReminders:r,onUpdateMemos:s,showToast:a})=>{const[l,i]=o.useState(""),[c,f]=o.useState("09"),[d,m]=o.useState("00"),[x,g]=o.useState(""),[u,v]=o.useState(""),[p,y]=o.useState(""),[b,C]=o.useState(null),[w,N]=o.useState(null),[S,R]=o.useState(""),[E,M]=o.useState(null),[I,_]=o.useState("");o.useEffect(()=>{g(l&&c&&d?`${l} ${c}:${d}`:"")},[l,c,d]);const F=()=>{if(!x){a("  .","error");return}if(e.length>=5){a("  5   .","error");return}const j={id:Date.now().toString(),datetime:x.replace("T"," "),type:u,content:p};r([...e,j]),i(""),f("09"),m("00"),g(""),y(""),v(""),a("  .")},G=j=>{r(e.filter(P=>P.id!==j)),C(null),a(" .")},X=()=>{if(!I.trim())return;const j={id:Date.now().toString(),createdAt:new Date().toISOString(),content:I.trim()};s([j,...n]),_(""),a("  .")},U=()=>{if(!w)return;const j=n.map(P=>P.id===w?{...P,content:S}:P);s(j),N(null),R(""),a("  .")},Z=j=>{s(n.filter(P=>P.id!==j)),a("  ."),M(null)},J=[...e].sort((j,P)=>j.datetime.localeCompare(P.datetime)),te=[...n].sort((j,P)=>P.createdAt.localeCompare(j.createdAt));return t.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-100",children:[t.jsx("h3",{className:"font-bold text-yellow-800 mb-2 flex items-center gap-2",children:"    "}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-200 shadow-sm",children:[t.jsxs("label",{className:"block text-xs font-bold text-yellow-800 mb-2",children:["   (",J.length,"/5)"]}),t.jsx("div",{className:"flex flex-col md:flex-row gap-2 mb-3",children:t.jsxs("div",{className:"flex flex-col gap-2 flex-[2]",children:[t.jsx("input",{type:"date",className:"w-full p-2 border border-blue-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500",value:l,onChange:j=>i(j.target.value),disabled:(e.length||0)>=5}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("select",{className:"flex-1 p-2 border border-blue-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500",value:c,onChange:j=>f(j.target.value),disabled:(e.length||0)>=5,children:Array.from({length:24}).map((j,P)=>{const Y=P.toString().padStart(2,"0");return t.jsxs("option",{value:Y,children:[Y,""]},Y)})}),t.jsx("select",{className:"flex-1 p-2 border border-blue-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500",value:d,onChange:j=>m(j.target.value),disabled:(e.length||0)>=5,children:["00","10","20","30","40","50"].map(j=>t.jsxs("option",{value:j,children:[j,""]},j))}),t.jsxs("select",{className:"flex-1 p-2 border border-blue-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500 min-w-[60px]",value:u,onChange:j=>v(j.target.value),children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",className:"flex-1 p-2 border border-gray-300 rounded text-sm",placeholder:u===""?"  ":" ()",value:p,onChange:j=>y(j.target.value)}),t.jsx("button",{onClick:F,disabled:(e.length||0)>=5,className:"bg-yellow-500 text-white px-3 py-2 rounded text-sm font-bold hover:bg-yellow-600 whitespace-nowrap disabled:bg-gray-400",children:""})]}),t.jsx("div",{className:"space-y-2 mt-2",children:J.length===0?t.jsx("div",{className:"text-center py-2 text-xs text-gray-400 bg-gray-50 rounded border border-gray-100 border-dashed",children:"  ."}):J.map(j=>t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded p-2 flex flex-col gap-2",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center w-full gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx(Wt,{size:16,className:"text-blue-600 flex-shrink-0"}),t.jsx("span",{className:"text-sm font-bold text-gray-800 whitespace-nowrap",children:j.datetime}),t.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold whitespace-nowrap ${j.type===""?"bg-purple-100 text-purple-700":j.type===""?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:j.type||""})]}),j.content&&t.jsx("span",{className:"text-xs text-gray-600 break-words w-full md:w-auto md:max-w-[200px]",children:j.content})]}),t.jsx("div",{className:"pt-2 border-t border-blue-100 w-full",children:j.resultStatus?t.jsxs("div",{className:"flex justify-between items-center text-xs",children:[t.jsx("span",{className:`font-bold px-2 py-0.5 rounded ${j.resultStatus===""?"bg-green-100 text-green-700":j.resultStatus===""?"bg-red-100 text-red-700":j.resultStatus===""?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:j.resultStatus}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-500 truncate max-w-[150px]",children:j.resultNote}),t.jsx("button",{onClick:()=>{const P=e.map(Y=>Y.id===j.id?{...Y,resultStatus:void 0,resultNote:void 0}:Y);r(P)},className:"text-gray-400 hover:text-gray-600 underline whitespace-nowrap",children:""})]})]}):t.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar pb-1",children:[t.jsx("span",{className:"text-xs text-blue-400 font-bold flex-shrink-0",children:":"}),["","","",""].map(P=>t.jsx("button",{type:"button",onClick:()=>{const Y=prompt(`${P}     ():`),H=e.map(h=>h.id===j.id?{...h,resultStatus:P,resultNote:Y||""}:h);r(H)},className:`text-[10px] px-2 py-1 rounded border flex-shrink-0 transition-colors ${P===""?"border-green-200 text-green-700 hover:bg-green-50":P===""?"border-red-200 text-red-700 hover:bg-red-50":P===""?"border-blue-200 text-blue-700 hover:bg-blue-50":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:P},P)),b===j.id?t.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[t.jsx("button",{onClick:()=>G(j.id),className:"text-green-600 text-xs font-bold",children:""}),t.jsx("button",{onClick:()=>C(null),className:"text-red-500 text-xs",children:""})]}):t.jsx("button",{onClick:()=>C(j.id),className:"text-red-500 p-1 hover:bg-red-50 rounded flex-shrink-0",title:" ",children:t.jsx(ye,{size:16})})]})})]},j.id))})]}),t.jsxs("div",{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-yellow-800 mb-1",children:"  "}),t.jsx("textarea",{className:"w-full p-2 border border-yellow-300 rounded bg-white h-[60px] text-sm focus:ring-1 focus:ring-yellow-500 outline-none",value:I,onChange:j=>_(j.target.value),placeholder:"   ..."}),t.jsx("button",{onClick:X,className:"w-full mt-1 bg-yellow-100 text-yellow-800 border border-yellow-300 px-3 py-1.5 rounded text-xs font-bold hover:bg-yellow-200",children:"  "})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("label",{className:"block text-xs font-medium text-yellow-800 mb-2",children:["  (",n.length,")"]}),t.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-2 bg-yellow-100/30 p-2 rounded",children:[te.length===0&&t.jsx("p",{className:"text-center text-xs text-gray-500 py-4",children:"   ."}),te.map(j=>t.jsxs("div",{className:"bg-white p-3 rounded text-xs shadow-sm border border-yellow-100",children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsx("p",{className:"font-bold text-gray-500 text-[10px]",children:Te(new Date(j.createdAt),"yyyy-MM-dd HH:mm")}),t.jsx("div",{className:"flex gap-1",children:w===j.id?t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:U,className:"text-green-600 hover:bg-green-50 p-1 rounded",title:"",children:t.jsx(gn,{size:14})}),t.jsx("button",{type:"button",onClick:()=>N(null),className:"text-gray-400 hover:bg-gray-100 p-1 rounded",title:"",children:t.jsx(lt,{size:14})})]}):E===j.id?t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:()=>Z(j.id),className:"text-green-600 hover:bg-green-50 p-1 rounded font-bold",title:"",children:""}),t.jsx("button",{type:"button",onClick:()=>M(null),className:"text-red-500 hover:bg-red-50 p-1 rounded",title:"",children:""})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:()=>{N(j.id),R(j.content)},className:"text-blue-500 hover:bg-blue-50 p-1 rounded",title:"",children:t.jsx(Le,{size:14})}),t.jsx("button",{type:"button",onClick:()=>M(j.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",title:"",children:t.jsx(ye,{size:14})})]})})]}),w===j.id?t.jsx("textarea",{className:"w-full p-1 border rounded text-xs h-20",value:S,onChange:P=>R(P.target.value)}):t.jsx("p",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:j.content})]},j.id))]})]})]})]})]})},_t=e=>{if(!e||isNaN(e))return"00:00";const n=Math.floor(e/60),r=Math.floor(e%60);return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},Co=({src:e,fileName:n})=>{const r=o.useRef(null),[s,a]=o.useState(!1),[l,i]=o.useState(0),[c,f]=o.useState(0),[d,m]=o.useState(!1);o.useEffect(()=>{a(!1),f(0),i(0),m(!1),r.current&&(r.current.currentTime=0,r.current.load())},[e]);const x=()=>{if(r.current){if(s)r.current.pause();else{const w=r.current.play();w!==void 0&&w.catch(N=>{console.error("Playback failed",N),m(!0)})}a(!s)}},g=()=>{r.current&&f(r.current.currentTime)},u=()=>{r.current&&(i(r.current.duration),m(!1))},v=w=>{const N=Number(w.target.value);r.current&&(r.current.currentTime=N,f(N))},p=w=>{r.current&&(r.current.currentTime+=w)},y=()=>{m(!0),a(!1)},b=e.includes("drive.google.com"),C=w=>{if(!w.includes("drive.google.com"))return w;let N="";const S=w.match(/\/file\/d\/([a-zA-Z0-9_-]+)/);if(S)N=S[1];else{const R=w.match(/[?&]id=([a-zA-Z0-9_-]+)/);R&&(N=R[1])}return N?`https://drive.google.com/file/d/${N}/preview`:w};return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-purple-100 p-4 w-full",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"bg-purple-100 p-1.5 rounded-full text-purple-600",children:t.jsx(Hn,{size:16})}),t.jsx("span",{className:"text-sm font-bold text-gray-700 truncate flex-1",children:n||"  "})]}),b?t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"relative w-full h-[100px] bg-gray-100 rounded-lg overflow-hidden border border-gray-200",children:t.jsx("iframe",{src:C(e),className:"w-full h-full border-none",title:"Audio Preview",allow:"autoplay"})}),t.jsxs("div",{className:"flex justify-end items-center gap-2",children:[t.jsx("span",{className:"text-[10px] text-gray-400",children:"*       ."}),t.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-purple-50 text-purple-700 px-2 py-1 rounded font-bold hover:bg-purple-100 transition-colors",children:"  "})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("audio",{ref:r,src:e,onTimeUpdate:g,onLoadedMetadata:u,onEnded:()=>a(!1),onError:y}),d?t.jsxs("div",{className:"bg-red-50 text-red-600 text-xs p-3 rounded flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(pn,{size:14}),"    ."]}),t.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"underline font-bold",children:" "})]}):t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("input",{type:"range",min:0,max:l||100,value:c,onChange:v,className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-600 hover:h-2 transition-all",style:{background:`linear-gradient(to right, #9333ea ${c/(l||1)*100}%, #e5e7eb ${c/(l||1)*100}%)`}}),t.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 font-mono mt-1",children:[t.jsx("span",{children:_t(c)}),t.jsx("span",{children:_t(l)})]})]}),t.jsxs("div",{className:"flex justify-center items-center gap-6",children:[t.jsx("button",{onClick:()=>p(-10),className:"text-gray-400 hover:text-purple-600 transition-colors p-2 hover:bg-purple-50 rounded-full",title:"10 ",children:t.jsx(On,{size:20})}),t.jsx("button",{onClick:x,className:"bg-purple-600 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:bg-purple-700 hover:scale-105 transition-all",children:s?t.jsx(In,{size:24,fill:"currentColor"}):t.jsx(Tn,{size:24,fill:"currentColor",className:"ml-1"})}),t.jsx("button",{onClick:()=>p(30),className:"text-gray-400 hover:text-purple-600 transition-colors p-2 hover:bg-purple-50 rounded-full",title:"30 ",children:t.jsx($n,{size:20})})]})]})]})]})},So=({c:e,aiSummaryText:n,setAiSummaryText:r,aiSummaryEditMode:s,setAiSummaryEditMode:a,handleUpdateAiSummaryText:l,handleDeleteAiSummary:i,handleSaveSummaryToMemo:c,currentAudioFile:f,audioUrl:d,isFileUploading:m,isAiLoading:x,onAudioFileSelect:g,onTriggerAudioInput:u,onGenerateAiSummary:v,onPlayRecording:p,onDeleteRecording:y})=>{var w,N;const b=o.useRef(null),C=()=>{var S;(S=b.current)==null||S.click()};return t.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsxs("h3",{className:"font-bold text-purple-800 flex items-center gap-2",children:[t.jsx(et,{size:18,className:"flex-shrink-0"}),t.jsxs("div",{className:"flex flex-col leading-none",children:[t.jsx("span",{children:"AI  "}),t.jsx("span",{children:"& "})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"file",ref:b,className:"hidden",accept:"audio/*",onChange:g}),t.jsxs("button",{onClick:C,disabled:m,className:"flex items-center gap-1 text-xs px-2 py-1.5 rounded border "+(f?"bg-green-100 text-green-700 border-green-300":"bg-white text-gray-600 border-gray-300")+(m?" opacity-50 cursor-not-allowed":""),children:[t.jsx(kn,{size:14,className:"flex-shrink-0"}),t.jsx("span",{className:"text-center leading-tight",children:m?"...":f?" ":t.jsxs(t.Fragment,{children:["",t.jsx("br",{}),""]})})]}),t.jsx("button",{onClick:v,disabled:x,className:"flex items-center gap-1 text-xs bg-purple-600 text-white px-3 py-1.5 rounded font-bold hover:bg-purple-700 disabled:opacity-50 transition-colors shadow-sm",children:x?" ...":t.jsxs("span",{className:"text-center leading-tight",children:["",t.jsx("br",{}),""]})})]})]}),t.jsx("div",{className:"mb-4",children:(d||f)&&t.jsx(Co,{src:d&&d.includes("drive.google.com")?tn(d):d||"",fileName:f?f.name:`  (ID: ${(N=(w=e.recordings)==null?void 0:w.find(S=>S.url===d))==null?void 0:N.id.substring(0,8)}...)`})}),e.recordings&&e.recordings.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("h4",{className:"text-xs font-bold text-gray-600 mb-2 flex items-center",children:[t.jsx(vn,{size:12,className:"mr-1"}),"  "]}),t.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto no-scrollbar",children:e.recordings.map(S=>t.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded border border-gray-200 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[t.jsx(Cn,{size:16,className:"text-blue-500 cursor-pointer flex-shrink-0",onClick:()=>p(S)}),t.jsxs("div",{className:"truncate",children:[t.jsx("span",{className:"font-medium",children:S.filename}),t.jsx("span",{className:"text-gray-400 text-[10px] ml-1",children:Te(new Date(S.uploadDate),"yy.MM.dd HH:mm")})]})]}),t.jsx("button",{onClick:()=>y(S.id),className:"text-gray-400 hover:text-red-500",children:t.jsx(lt,{size:14})})]},S.id))})]}),t.jsx("div",{className:"bg-white p-3 rounded-lg border border-purple-100 shadow-sm relative min-h-[80px]",children:s?t.jsxs("div",{className:"space-y-2",children:[t.jsx("textarea",{className:"w-full h-32 p-2 text-sm border border-purple-200 rounded focus:outline-none focus:ring-1 focus:ring-purple-500",value:n||"",onChange:S=>r(S.target.value)}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:l,className:"text-xs bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",children:""}),t.jsx("button",{onClick:()=>a(!1),className:"text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded hover:bg-gray-300",children:""})]})]}):t.jsxs("div",{className:"group",children:[t.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>a(!0),className:"p-1 text-blue-500 hover:bg-blue-50 rounded",title:"",children:t.jsx(Le,{size:14})}),t.jsx("button",{onClick:i,className:"p-1 text-red-500 hover:bg-red-50 rounded",title:"",children:t.jsx(ye,{size:14})})]}),t.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed pr-10",children:n||t.jsx("span",{className:"text-gray-400",children:"   .         ."})})]})}),n&&!s&&t.jsx("div",{className:"mt-3 flex justify-end",children:t.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-xs bg-indigo-50 text-indigo-700 px-3 py-2 rounded font-bold hover:bg-indigo-100 border border-indigo-200 transition-colors",children:[t.jsx(Bt,{size:14}),"    ( )"]})})]})},z=({label:e,value:n,onChange:r,onBlur:s,type:a="text",placeholder:l="",suffix:i="",readOnly:c=!1,isPhone:f=!1,isCurrency:d=!1,className:m=""})=>{let x=n;a==="number"&&!d&&(n===0||n===void 0||n===null)&&(x=""),d&&(typeof n=="number"||!isNaN(Number(n)))&&(x=Number(n).toLocaleString());const g=u=>{let v=u.target.value;if(f){const p=v.replace(/[^0-9]/g,"");let y=p;p.length>3&&p.length<=7?y=`${p.slice(0,3)}-${p.slice(3)}`:p.length>7&&(y=`${p.slice(0,3)}-${p.slice(3,7)}-${p.slice(7,11)}`),r(y);return}if(d){const p=v.replace(/,/g,"");(p===""||/^[0-9]+$/.test(p))&&r(p===""?0:Number(p));return}a==="number"?(v===""||/^[0-9]+$/.test(v))&&r(v===""?0:Number(v)):r(v)};return t.jsxs("div",{className:`mb-4 ${m}`,children:[e&&t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:e}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",autoComplete:"off",className:"w-full p-2 border border-blue-300 rounded text-sm outline-none "+(c?"bg-gray-100 text-gray-500 cursor-not-allowed":"focus:ring-1 focus:ring-blue-500"),value:x||"",onChange:c?void 0:g,onBlur:s,placeholder:l,readOnly:c}),i&&t.jsx("span",{className:"absolute right-3 top-2 text-gray-500 text-xs",children:i})]})]})},Q=({label:e,value:n,onChange:r,options:s,isMulti:a=!1,className:l=""})=>t.jsxs("div",{className:`mb-4 ${l}`,children:[e&&t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:e}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:s.map(i=>{const c=a?n==null?void 0:n.includes(i):n===i;return t.jsx("button",{type:"button",onClick:()=>r(i),className:"px-3 py-1.5 text-xs rounded border "+(c?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:i},i)})})]}),Eo=({c:e,partners:n,inboundPaths:r,onUpdate:s,statusLogs:a})=>{var l;return t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:" ()"}),t.jsx("select",{className:"w-full p-2 border border-gray-300 rounded text-sm bg-gray-50",value:e.partnerId,onChange:i=>s("partnerId",i.target.value),children:n.map(i=>t.jsx("option",{value:i.partnerId,children:i.name},i.partnerId))})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:" "}),t.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500 outline-none",value:e.inboundPath,onChange:i=>s("inboundPath",i.target.value),children:[t.jsx("option",{value:"",children:""}),r.map(i=>t.jsx("option",{value:i,children:i},i))]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"   (  )"}),t.jsx("div",{className:"w-full p-2 border border-gray-200 rounded text-sm bg-gray-50 min-h-[40px] "+(e.preInfo?"text-gray-800":"text-gray-400"),children:e.preInfo?e.preInfo.split(/\s\/\s|\n/).filter(i=>{const c=i.toLowerCase();return!c.includes("[referrer]")&&!c.includes("[marketing_consent]")&&!c.includes("[third_party_consent]")&&!c.includes("[user_agent]")&&i.trim()!==""}).map((i,c)=>t.jsxs("div",{className:"flex items-start gap-1",children:[t.jsx("span",{className:"text-blue-500 font-bold",children:"*"}),t.jsx("span",{children:i.trim()})]},c)):t.jsx("span",{className:"text-gray-400 italic",children:"  "})})]}),a.length>0&&t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 mb-6",children:[t.jsxs("h4",{className:"font-bold text-blue-800 mb-3 flex items-center gap-2",children:[t.jsx(Wt,{size:16}),"   "]}),t.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:a.map(i=>t.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-100 shadow-sm text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold text-gray-400 line-through text-xs px-2 py-0.5 bg-gray-100 rounded",children:i.fromStatus}),t.jsx("span",{className:"text-gray-400",children:""}),t.jsx("span",{className:"font-bold text-blue-600 text-xs px-2 py-0.5 bg-blue-50 rounded border border-blue-100",children:i.toStatus})]}),t.jsx("span",{className:"text-[10px] text-gray-400",children:Te(new Date(i.changedAt),"yy.MM.dd HH:mm")})]}),i.memo&&t.jsx("div",{className:"mt-2 text-gray-600 bg-gray-50 p-2 rounded text-xs leading-relaxed",children:i.memo}),t.jsx("div",{className:"mt-1 text-right",children:t.jsxs("span",{className:"text-[10px] text-gray-400",children:["Changed by ",i.changedBy]})})]},i.logId))})]}),t.jsx(z,{label:" ",value:e.createdAt?Te(new Date(e.createdAt),"yyyy-MM-dd HH:mm"):"-",readOnly:!0,onChange:()=>{}}),t.jsx("div",{className:"mb-4",children:t.jsx(Q,{label:" ",value:e.caseType,onChange:i=>s("caseType",i),options:Fr})}),t.jsx(z,{label:"",value:e.customerName,onChange:i=>s("customerName",i)}),t.jsx(z,{label:"",value:e.phone,onChange:i=>s("phone",i),placeholder:"010-0000-0000",isPhone:!0}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(z,{label:" (2)",value:e.birth,onChange:i=>s("birth",i),onBlur:()=>{const i=rn(e.birth);i!==e.birth&&s("birth",i)},placeholder:": 77",suffix:((l=e.birth)==null?void 0:l.length)===4?"":""}),t.jsx(Q,{label:"",value:e.gender,onChange:i=>s("gender",i),options:["",""]})]})]})},ko=({c:e,onUpdate:n,onIncomeChange:r,onJobTypeChange:s})=>{var a,l,i,c;return t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:" / "}),t.jsx(Q,{label:" ( )",value:e.jobTypes,onChange:s,options:zr,isMulti:!0}),((a=e.jobTypes)==null?void 0:a.includes(""))&&t.jsx(z,{label:" ()",type:"number",value:e.incomeDetails.salary,onChange:f=>r("salary",f),isCurrency:!0}),(((l=e.jobTypes)==null?void 0:l.includes(""))||((i=e.jobTypes)==null?void 0:i.includes("")))&&t.jsx(z,{label:" ()",type:"number",value:e.incomeDetails.business,onChange:f=>r("business",f),isCurrency:!0}),((c=e.jobTypes)==null?void 0:c.includes(""))&&t.jsx(z,{label:" ()",type:"number",value:e.incomeDetails.freelance,onChange:f=>r("freelance",f),isCurrency:!0}),t.jsx(Q,{label:"4",value:e.insurance4,onChange:f=>n("insurance4",f),options:["",""]}),t.jsx(Q,{label:"",value:e.maritalStatus,onChange:f=>n("maritalStatus",f),options:["","",""]}),e.maritalStatus!==""&&t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"  "}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:[0,1,2,3,4,5,6,7].map(f=>t.jsxs("button",{type:"button",onClick:()=>n("childrenCount",f),className:"px-3 py-1.5 text-xs rounded border "+(e.childrenCount===f?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:[f,""]},f))})]})]})},Ro=({c:e,onUpdate:n})=>t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:""}),t.jsx(Q,{label:"",value:e.housingType,onChange:r=>n("housingType",r),options:Hr}),t.jsx(Q,{label:"",value:e.housingDetail,onChange:r=>n("housingDetail",r),options:Wr}),e.housingType===""?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(z,{label:" ()",type:"number",value:e.ownHousePrice,onChange:r=>n("ownHousePrice",r),isCurrency:!0}),t.jsx(z,{label:"  ()",type:"number",value:e.ownHouseLoan,onChange:r=>n("ownHouseLoan",r),isCurrency:!0})]}),t.jsx(Q,{label:" ",value:e.ownHouseOwner,onChange:r=>n("ownHouseOwner",r),options:["",""," "]})]}):e.housingType===""?t.jsx(t.Fragment,{children:t.jsx(Q,{label:" ",value:e.freeHousingOwner,onChange:r=>n("freeHousingOwner",r),options:Br})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(z,{label:"()",type:"number",value:e.deposit,onChange:r=>n("deposit",r),isCurrency:!0}),t.jsx(z,{label:" ()",type:"number",value:e.depositLoanAmount,onChange:r=>n("depositLoanAmount",r),isCurrency:!0})]}),t.jsx(z,{label:"()",type:"number",value:e.rent,onChange:r=>n("rent",r),isCurrency:!0}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:" "}),t.jsx("div",{className:"flex gap-2",children:Vr.map(r=>t.jsx("button",{type:"button",onClick:()=>n("rentContractor",r),className:"flex-1 py-1.5 text-xs rounded border "+(e.rentContractor===r?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:r},r))})]})]}),t.jsx(z,{label:"",value:e.region,onChange:r=>n("region",r)})]}),Ao=({c:e,onUpdate:n,showToast:r})=>{var g;const[s,a]=o.useState({owner:"",type:"",amount:0,loanAmount:0,rentDeposit:0,desc:""}),[l,i]=o.useState({desc:"",amount:0}),c=()=>{if(!s.amount&&!s.loanAmount){r("    .");return}const u={id:Date.now().toString(),owner:s.owner,type:s.type||"",amount:s.amount||0,loanAmount:s.loanAmount||0,rentDeposit:s.rentDeposit||0,desc:s.desc||""},v=e.assets||[];n("assets",[...v,u]),a({owner:"",type:"",amount:0,loanAmount:0,rentDeposit:0,desc:""})},f=u=>{n("assets",(e.assets||[]).filter(v=>v.id!==u))},d=()=>{if(!l.amount){r("  .");return}const u={id:Date.now().toString(),desc:l.desc||"",amount:l.amount||0},v=e.creditLoan||[];n("creditLoan",[...v,u]),i({desc:"",amount:0})},m=u=>{n("creditLoan",(e.creditLoan||[]).filter(v=>v.id!==u))},x=nn(e);return t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:" / "}),t.jsxs("div",{className:"mb-6 bg-blue-50 p-4 rounded-lg border border-blue-200",children:[t.jsx("h4",{className:"font-bold text-gray-700 mb-2 text-xs",children:" "}),t.jsxs("div",{className:"space-y-2 mb-3",children:[(!e.assets||e.assets.length===0)&&t.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"  ."}),e.assets&&e.assets.map(u=>t.jsxs("div",{className:"bg-white p-2 rounded border flex justify-between items-center text-xs",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("span",{className:"font-bold text-blue-600 mr-2",children:["[",u.owner,"]"]}),t.jsx("span",{className:"font-semibold mr-2",children:u.type}),t.jsxs("span",{className:"text-gray-800 mr-2",children:[" ",u.amount>0?u.amount.toLocaleString()+" ":"0"]}),u.loanAmount>0&&t.jsxs("span",{className:"text-red-500 mr-2",children:[" ",u.loanAmount.toLocaleString(),""]}),u.rentDeposit&&u.rentDeposit>0&&t.jsxs("span",{className:"text-green-600 mr-2",children:[" ",u.rentDeposit.toLocaleString(),""]}),u.desc&&t.jsxs("span",{className:"text-gray-500",children:["(",u.desc,")"]})]}),t.jsx("button",{onClick:()=>f(u.id),className:"text-red-500 p-1",children:t.jsx(ye,{size:14})})]},u.id))]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsx("select",{className:"p-1.5 border rounded text-xs bg-white",value:s.owner,onChange:u=>a({...s,owner:u.target.value}),children:Kr.map(u=>t.jsx("option",{value:u,children:u},u))}),t.jsx("select",{className:"p-1.5 border rounded text-xs bg-white",value:s.type,onChange:u=>a({...s,type:u.target.value}),children:Gr.map(u=>t.jsx("option",{value:u,children:u},u))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsx(z,{label:"",type:"number",value:s.amount,onChange:u=>a({...s,amount:u}),placeholder:"",suffix:"",isCurrency:!0}),t.jsx(z,{label:"",type:"number",value:s.loanAmount,onChange:u=>a({...s,loanAmount:u}),placeholder:"",suffix:"",isCurrency:!0})]}),["",""].includes(s.type||"")&&t.jsx("div",{className:"mb-2",children:t.jsx(z,{label:"",type:"number",value:s.rentDeposit,onChange:u=>a({...s,rentDeposit:u}),placeholder:"",suffix:"",isCurrency:!0})}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",placeholder:"  (:  )",className:"flex-1 p-1.5 border rounded text-xs",value:s.desc||"",onChange:u=>a({...s,desc:u.target.value})}),t.jsxs("button",{type:"button",onClick:c,className:"w-24 bg-blue-600 text-white rounded text-xs font-bold flex justify-center items-center hover:bg-blue-700 flex-shrink-0",children:[t.jsx(tt,{size:14,className:"mr-1"})," "]})]})]}),t.jsxs("div",{className:"mb-6 bg-pink-50 p-4 rounded-lg border border-pink-200",children:[t.jsx("h4",{className:"font-bold text-gray-700 mb-2 text-xs",children:" "}),t.jsxs("div",{className:"space-y-2 mb-3",children:[(!e.creditLoan||e.creditLoan.length===0)&&t.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"  ."}),(g=e.creditLoan)==null?void 0:g.map(u=>t.jsxs("div",{className:"bg-white p-2 rounded border flex justify-between items-center text-xs",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"font-semibold mr-2",children:u.desc}),t.jsxs("span",{className:"text-gray-800",children:[u.amount.toLocaleString(),""]})]}),t.jsx("button",{type:"button",onClick:()=>m(u.id),className:"text-red-500 p-1",children:t.jsx(ye,{size:14})})]},u.id))]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsx("input",{type:"text",placeholder:"  (: )",className:"w-full p-1.5 border rounded text-xs col-span-2",value:l.desc||"",onChange:u=>i({...l,desc:u.target.value})}),t.jsx(z,{label:"",type:"number",value:l.amount,onChange:u=>i({...l,amount:u}),placeholder:"",suffix:"",isCurrency:!0}),t.jsxs("button",{type:"button",onClick:d,className:"w-full py-1.5 bg-blue-600 text-white rounded text-xs font-bold flex justify-center items-center hover:bg-blue-700",children:[t.jsx(tt,{size:14,className:"mr-1"}),"  "]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"   (  + )"}),t.jsxs("div",{className:"bg-gray-50 p-2 rounded text-xs text-blue-800 font-medium mb-1",children:[" : ",x]}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded text-sm outline-none focus:ring-1 focus:ring-blue-500",value:e.collateralLoanMemo||"",onChange:u=>n("collateralLoanMemo",u.target.value),placeholder:"    "})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(Q,{label:" ",value:e.creditCardUse,onChange:u=>n("creditCardUse",u),options:["",""]}),e.creditCardUse===""&&t.jsx(z,{label:" ()",type:"number",value:e.creditCardAmount,onChange:u=>n("creditCardAmount",u),isCurrency:!0})]}),t.jsx(z,{label:" ()",type:"number",value:e.loanMonthlyPay,onChange:u=>n("loanMonthlyPay",u),isCurrency:!0})]})},Do=({c:e,onUpdate:n})=>t.jsxs("div",{className:"mt-4",children:[t.jsx("h3",{className:"font-bold text-gray-700 border-b pb-2 mb-4",children:" /  "}),t.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:Yr.map(r=>t.jsx("button",{type:"button",onClick:()=>n("historyType",r),className:"px-3 py-1.5 text-xs rounded border "+(e.historyType===r?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:r},r))}),e.historyType&&e.historyType!==""&&t.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded text-sm h-24",value:e.historyMemo,onChange:r=>n("historyMemo",r.target.value),placeholder:"   ."})]}),Io=({c:e,partners:n,inboundPaths:r,onUpdate:s,onIncomeChange:a,onJobTypeChange:l,reminders:i,memos:c,onUpdateReminders:f,onUpdateMemos:d,aiSummaryText:m,setAiSummaryText:x,aiSummaryEditMode:g,setAiSummaryEditMode:u,handleUpdateAiSummaryText:v,handleDeleteAiSummary:p,handleSaveSummaryToMemo:y,currentAudioFile:b,audioUrl:C,isFileUploading:w,isAiLoading:N,onAudioFileSelect:S,onTriggerAudioInput:R,onGenerateAiSummary:E,onPlayRecording:M,onDeleteRecording:I,statusLogs:_,showToast:F})=>t.jsxs("div",{className:"space-y-8",children:[t.jsx(wo,{reminders:i,memos:c,onUpdateReminders:f,onUpdateMemos:d,showToast:F}),t.jsx(So,{c:e,aiSummaryText:m,setAiSummaryText:x,aiSummaryEditMode:g,setAiSummaryEditMode:u,handleUpdateAiSummaryText:v,handleDeleteAiSummary:p,handleSaveSummaryToMemo:y,currentAudioFile:b,audioUrl:C,isFileUploading:w,isAiLoading:N,onAudioFileSelect:S,onTriggerAudioInput:R,onGenerateAiSummary:E,onPlayRecording:M,onDeleteRecording:I}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[t.jsx(Eo,{c:e,partners:n,inboundPaths:r,onUpdate:s,statusLogs:_}),t.jsx(ko,{c:e,onUpdate:s,onIncomeChange:a,onJobTypeChange:l})]}),t.jsx("hr",{className:"border-gray-100"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[t.jsx(Ro,{c:e,onUpdate:s}),t.jsx(Ao,{c:e,onUpdate:s,showToast:F})]}),t.jsx(Do,{c:e,onUpdate:s})]}),Mo=({c:e,currentPartner:n,aiSummaryText:r,setAiSummaryText:s,aiSummaryEditMode:a,setAiSummaryEditMode:l,handleUpdateAiSummaryText:i,handleSaveSummaryToMemo:c,showToast:f})=>{const[d,m]=o.useState(""),[x,g]=o.useState(!1);return t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 h-full min-h-[400px] md:min-h-[500px]",children:[t.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex flex-col h-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[t.jsx(zt,{size:18}),"  "]}),t.jsx("div",{className:"flex gap-2",children:x?t.jsx(t.Fragment,{children:t.jsx("button",{onClick:()=>g(!1),className:"text-xs bg-gray-200 text-gray-700 px-3 py-1.5 rounded hover:bg-gray-300",children:""})}):t.jsxs("button",{onClick:()=>{m(Be(e,n==null?void 0:n.summaryTemplate)),g(!0)},className:"text-xs bg-gray-100 text-gray-600 px-3 py-1.5 rounded hover:bg-gray-200 flex items-center gap-1",children:[t.jsx(Le,{size:12})," "]})})]}),t.jsx("div",{className:"flex-1 relative h-full",children:x?t.jsx("textarea",{className:"w-full h-full p-4 border rounded-lg text-sm leading-relaxed resize-none focus:ring-2 focus:ring-blue-500 outline-none min-h-[200px] md:min-h-[250px] max-h-[400px] md:max-h-[500px] overflow-y-auto",value:d,onChange:u=>m(u.target.value)}):t.jsx("div",{className:"w-full h-full p-4 bg-gray-50 rounded-lg text-sm whitespace-pre-wrap leading-relaxed border border-gray-100 overflow-y-auto min-h-[200px] md:min-h-[250px] max-h-[400px] md:max-h-[500px]",children:Be(e,n==null?void 0:n.summaryTemplate)})}),t.jsx("div",{className:"mt-4 flex justify-center",children:t.jsxs("button",{onClick:()=>{const u=x?d:Be(e,n==null?void 0:n.summaryTemplate);navigator.clipboard.writeText(u),f(".")},className:"bg-gray-800 text-white px-6 py-3 rounded-lg font-bold flex items-center hover:bg-gray-900 w-full justify-center",children:[t.jsx(bt,{className:"mr-2",size:16}),"  "]})})]}),t.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl border border-purple-100 shadow-sm flex flex-col h-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsxs("h3",{className:"font-bold text-purple-800 flex items-center gap-2",children:[t.jsx(et,{size:18})," AI "]}),t.jsx("div",{className:"flex gap-2",children:a?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:i,className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded hover:bg-green-700 font-bold",children:""}),t.jsx("button",{onClick:()=>l(!1),className:"text-xs bg-gray-200 text-gray-700 px-3 py-1.5 rounded hover:bg-gray-300",children:""})]}):t.jsxs("button",{onClick:()=>{s(pt(r||"",e)),l(!0)},className:"text-xs bg-purple-100 text-purple-700 px-3 py-1.5 rounded hover:bg-purple-200 flex items-center gap-1",children:[t.jsx(Le,{size:12})," "]})})]}),t.jsx("div",{className:"flex-1 relative h-full",children:r?a?t.jsx("textarea",{className:"w-full h-full p-4 border border-purple-200 rounded-lg text-sm leading-relaxed resize-none focus:ring-2 focus:ring-purple-500 outline-none min-h-[200px] md:min-h-[250px] max-h-[400px] md:max-h-[500px] overflow-y-auto",value:r,onChange:u=>s(u.target.value)}):t.jsx("div",{className:"w-full h-full p-4 bg-white rounded-lg text-sm whitespace-pre-wrap leading-relaxed border border-purple-100 overflow-y-auto cursor-text hover:bg-purple-50/50 transition-colors min-h-[200px] md:min-h-[250px] max-h-[400px] md:max-h-[500px]",onClick:()=>{s(pt(r,e)),l(!0)},children:r}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 gap-4 min-h-[200px]",children:[t.jsx(et,{size:48,className:"opacity-20"}),t.jsxs("p",{className:"text-center text-sm",children:["AI   .",t.jsx("br",{}),"' '    ",t.jsx("br",{}),"AI  ."]}),t.jsx("p",{className:"text-center text-xs text-purple-500",children:"     ."})]})}),r&&t.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(r),f(".")},className:"bg-gray-700 text-white px-4 py-3 rounded-lg font-bold flex items-center justify-center hover:bg-gray-800 shadow-sm transition-all active:scale-95 text-xs md:text-sm",children:[t.jsx(bt,{className:"mr-2",size:16}),"  "]}),t.jsxs("button",{onClick:c,className:"bg-indigo-600 text-white px-4 py-3 rounded-lg font-bold flex items-center justify-center hover:bg-indigo-700 w-full shadow-sm transition-all active:scale-95 text-xs md:text-sm",children:[t.jsx(Bt,{className:"mr-2",size:16}),"  "]})]}),t.jsx("p",{className:"text-[10px] text-center text-purple-400",children:"*   ''    ."})]})]})]})},Po=({c:e,commission:n,onUpdate:r})=>{var s;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-green-50 p-6 rounded-xl border border-green-100",children:[t.jsx("h3",{className:"font-bold text-green-800 mb-4 text-lg",children:"  "}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-green-900 mb-1",children:" ()"}),t.jsx("input",{type:"date",className:"w-full p-2 border border-green-300 rounded",value:e.contractAt||"",onChange:a=>r("contractAt",a.target.value)})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-bold text-green-900 mb-1 flex items-center justify-between",children:[" ",t.jsxs("label",{className:"flex items-center gap-1 cursor-pointer text-blue-600 bg-white px-2 py-0.5 rounded border border-blue-100",children:[t.jsx("input",{type:"checkbox",className:"form-checkbox h-3 w-3",checked:e.useCapital||!1,onChange:a=>r("useCapital",a.target.checked)}),t.jsx("span",{className:"text-xs",children:" "})]})]}),t.jsxs("select",{className:"w-full p-2 border border-green-300 rounded bg-white",value:e.installmentMonths||"",onChange:a=>r("installmentMonths",a.target.value),children:[t.jsx("option",{value:"",children:""}),!e.useCapital&&t.jsx("option",{value:"",children:""}),Array.from({length:8},(a,l)=>l+1).map(a=>e.useCapital||a>=2?t.jsxs("option",{value:`${a} `,children:[a,""]},a):null)]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-green-900 mb-1",children:"  ()"}),t.jsx("input",{type:"number",className:"w-full p-2 border border-green-300 rounded text-right font-mono text-lg font-bold",value:e.contractFee||0,onChange:a=>r("contractFee",Number(a.target.value))}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-green-200 flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-green-700 font-medium",children:"  (Commission):"}),t.jsxs("span",{className:"text-xl font-bold text-green-900",children:[n.toLocaleString(),""]})]})]})]})]}),t.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"font-bold text-gray-700 text-lg",children:" "}),t.jsxs("button",{onClick:()=>{const l=[...e.depositHistory&&e.depositHistory.length>0?e.depositHistory:[{date:e.deposit1Date||"",amount:e.deposit1Amount||0},{date:e.deposit2Date||"",amount:e.deposit2Amount||0}],{date:"",amount:0}];r("depositHistory",l)},className:"flex items-center gap-1 bg-blue-600 text-white px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-blue-700 shadow-sm",children:[t.jsx(tt,{size:16}),"  (",(((s=e.depositHistory)==null?void 0:s.length)||2)+1,")"]})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:(e.depositHistory&&e.depositHistory.length>0?e.depositHistory:[{date:e.deposit1Date||"",amount:e.deposit1Amount||0},{date:e.deposit2Date||"",amount:e.deposit2Amount||0}]).map((a,l)=>t.jsxs("div",{className:"bg-white p-4 rounded border border-gray-200 shadow-sm relative group",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("h4",{className:"font-bold text-gray-600 text-sm",children:[l+1," "]}),l>=2&&t.jsx("button",{onClick:()=>{const c=(e.depositHistory||[]).filter((f,d)=>d!==l);r("depositHistory",c)},className:"text-gray-400 hover:text-red-500",children:t.jsx(lt,{size:16})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:" ()"}),t.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded text-sm font-bold",value:a.amount||"",onChange:i=>{const c=e.depositHistory&&e.depositHistory.length>0?[...e.depositHistory]:[{date:e.deposit1Date||"",amount:e.deposit1Amount||0},{date:e.deposit2Date||"",amount:e.deposit2Amount||0}];c[l].amount=Number(i.target.value),r("depositHistory",c)}})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:""}),t.jsx("input",{type:"date",className:"w-full p-2 border border-gray-300 rounded text-sm",value:a.date||"",onChange:i=>{const c=e.depositHistory&&e.depositHistory.length>0?[...e.depositHistory]:[{date:e.deposit1Date||"",amount:e.deposit1Amount||0},{date:e.deposit2Date||"",amount:e.deposit2Amount||0}];c[l].date=i.target.value,r("depositHistory",c)}})]})]})]},l))}),t.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-between items-center",children:[t.jsx("span",{className:"font-bold text-gray-700",children:"  "}),t.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[(e.depositHistory&&e.depositHistory.length>0?e.depositHistory.reduce((a,l)=>a+(l.amount||0),0):(e.deposit1Amount||0)+(e.deposit2Amount||0)).toLocaleString()," "]})]})]})]})};function Vo(){const{id:e}=Ur(),n=Ft(),{data:r,isLoading:s,error:a}=qr(e),{data:l=[]}=Xr(),{data:i=[]}=Zr(),{data:c=[]}=Jr(),f=Qr(),[d,m]=o.useState("info"),[x,g]=o.useState(null),[u,v]=o.useState(!1),[p,y]=o.useState(!1),[b,C]=o.useState(null),[w,N]=o.useState(""),[S,R]=o.useState([]),[E,M]=o.useState(null),[I,_]=o.useState(!1),[F,G]=o.useState(!1),[X,U]=o.useState(null),[Z,J]=o.useState(null),[te,j]=o.useState(!1);o.useEffect(()=>{r&&(M(r.aiSummary||null),r.status===" "?R([" "," "," "," "]):R([]))},[r]),o.useEffect(()=>{r&&!r.isViewed&&h("isViewed",!0)},[r]);const P=l.find(A=>A.partnerId===(r==null?void 0:r.partnerId)),Y=r?sn(r.contractFee||0,(P==null?void 0:P.commissionRules)||[]):0,H=(A,O="success")=>{g({msg:A,type:O}),setTimeout(()=>g(null),3e3)};o.useEffect(()=>{const A=O=>{(O.metaKey||O.ctrlKey)&&O.key==="k"&&(O.preventDefault(),v(!0))};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[]);const h=(A,O)=>{r&&f.mutate({id:r.caseId,updates:{[A]:O}})},D=(A,O)=>{if(!r)return;const fe={...r.incomeDetails,[A]:O};h("incomeDetails",fe)},T=A=>{if(!r)return;let O=r.jobTypes?[...r.jobTypes]:[];O.includes(A)?O=O.filter(fe=>fe!==A):O.push(A),h("jobTypes",O)},k=A=>{h("reminders",A)},L=A=>{h("specialMemo",A)},$=A=>{R(A===" "?[" "," "," "," "]:[]);const O={logId:Date.now().toString(),fromStatus:r.status,toStatus:A,changedAt:new Date().toISOString(),changedBy:"User",memo:""};f.mutate({id:r.caseId,updates:{status:A,statusLogs:[O,...r.statusLogs||[]]}}),H(` ${A}() .`)},V=A=>{A!==(r==null?void 0:r.secondaryStatus)&&(C(A),N(""),y(!0))},W=()=>{if(!r||!b)return;const A={logId:Date.now().toString(),fromStatus:`${r.status} (${r.secondaryStatus||""})`,toStatus:`${r.status} (${b})`,changedAt:new Date().toISOString(),changedBy:"User",memo:w};h("secondaryStatus",b),h("statusLogs",[A,...r.statusLogs||[]]),y(!1),C(null),H("2  .")},ue=async A=>{if(A.target.files&&A.target.files[0]){const O=A.target.files[0];U(O),J(URL.createObjectURL(O)),j(!0);try{await new Promise(Dr=>setTimeout(Dr,1500));const fe={id:Date.now().toString(),filename:O.name,url:URL.createObjectURL(O),uploadDate:new Date().toISOString(),mimeType:O.type||"audio/mp3",duration:0};h("recordings",[fe,...(r==null?void 0:r.recordings)||[]]),H("  .")}catch{H("  ","error")}finally{j(!1)}}},Er=async()=>{if(!X&&!Z){H("   .","error");return}G(!0);try{const A=await an(X||new File([],"mock.mp3"));M(A),_(!0),h("aiSummary",A),H("AI  .")}catch(A){console.error(A),H("AI     .","error")}finally{G(!1)}},ft=()=>{E&&(h("aiSummary",E),_(!1),H("AI  ."))},kr=()=>{window.confirm("AI  ?")&&(M(null),h("aiSummary",null),H("."))},mt=()=>{if(!E)return;const A=`[AI  ] 
${E.slice(0,200)}...`,O={id:Date.now().toString(),createdAt:new Date().toISOString(),content:A};L([O,...(r==null?void 0:r.specialMemo)||[]]),H("  .")},Rr=A=>{J(A.url),U(null)},Ar=A=>{window.confirm("  ?")&&h("recordings",((r==null?void 0:r.recordings)||[]).filter(O=>O.id!==A))};return s?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"  ..."}):s?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"  ..."}):a||!r?t.jsxs("div",{className:"p-8 text-center text-red-500 flex flex-col items-center gap-4",children:[t.jsx("p",{className:"text-xl font-bold",children:"    ."}),t.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",e]}),t.jsxs("div",{className:"text-xs bg-gray-100 p-2 rounded max-w-md break-all",children:["     .",t.jsx("br",{}),"   , (F5) ."]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:" "})]}):t.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[t.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>n(-1),className:"p-2 hover:bg-gray-100 rounded-full text-gray-600 transition-colors",children:t.jsx(jn,{size:20})}),t.jsx("span",{className:"font-bold text-gray-700 text-lg",children:" "})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{onClick:()=>v(!0),className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",title:"  (Cmd+K)",children:t.jsx(An,{size:20})})})]}),t.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-6 space-y-6",children:[t.jsx(No,{c:r,partner:P,statuses:c,secondaryStatuses:S,onStatusChangeStart:$,onSecondaryStatusChangeStart:V}),p&&b!==null&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 w-[400px] shadow-xl border-t-4 border-purple-500",children:[t.jsx("h3",{className:"text-lg font-bold mb-4 text-purple-700",children:"2   "}),t.jsxs("p",{className:"mb-4 text-gray-700",children:["2  ",t.jsx("span",{className:"font-bold text-purple-600",children:r.secondaryStatus||""})," ",t.jsx("span",{className:"font-bold text-purple-600",children:b||""}),"() ?"]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),t.jsx("textarea",{className:"w-full p-2 border border-purple-200 rounded resize-none h-24 focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"   ...",value:w,onChange:A=>N(A.target.value)})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:()=>{y(!1),C(null)},className:"px-4 py-2 bg-gray-200 rounded text-gray-800 font-medium hover:bg-gray-300",children:""}),t.jsx("button",{onClick:W,className:"px-4 py-2 bg-purple-600 rounded text-white font-medium hover:bg-purple-700",children:""})]})]})}),t.jsx("div",{className:"flex border-b border-gray-200 bg-white px-4 rounded-t-lg overflow-x-auto no-scrollbar",children:[{id:"info",label:" "},{id:"summary",label:""},{id:"settlement",label:"/"}].map(A=>t.jsx("button",{onClick:()=>m(A.id),className:"px-4 py-3 text-sm font-medium border-b-2 whitespace-nowrap "+(d===A.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:A.label},A.id))}),t.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-gray-100 border-t-0 min-h-[600px]",children:[d==="info"&&t.jsx(Io,{c:r,partners:l,inboundPaths:i,onUpdate:h,onIncomeChange:D,onJobTypeChange:T,reminders:r.reminders||[],memos:r.specialMemo||[],onUpdateReminders:k,onUpdateMemos:L,aiSummaryText:E,setAiSummaryText:M,aiSummaryEditMode:I,setAiSummaryEditMode:_,handleUpdateAiSummaryText:ft,handleDeleteAiSummary:kr,handleSaveSummaryToMemo:mt,currentAudioFile:X,audioUrl:Z,isFileUploading:te,isAiLoading:F,onAudioFileSelect:ue,onTriggerAudioInput:()=>{},onGenerateAiSummary:Er,onPlayRecording:Rr,onDeleteRecording:Ar,statusLogs:r.statusLogs||[],showToast:H}),d==="summary"&&t.jsx(Mo,{c:r,currentPartner:P,aiSummaryText:E,setAiSummaryText:M,aiSummaryEditMode:I,setAiSummaryEditMode:_,handleUpdateAiSummaryText:ft,handleSaveSummaryToMemo:mt,showToast:H}),d==="settlement"&&t.jsx(Po,{c:r,commission:Y,onUpdate:h})]})]}),x&&t.jsx("div",{className:`fixed bottom-24 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full shadow-lg text-white text-sm font-bold z-50 animate-fade-in-up ${x.type==="error"?"bg-red-500":"bg-gray-900"}`,children:x.msg}),t.jsx(yo,{isOpen:u,onClose:()=>v(!1)})]})}export{Vo as default};
