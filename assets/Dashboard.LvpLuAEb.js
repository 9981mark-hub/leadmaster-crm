import{c as X,n as ee,a as te,r as f,s as se,j as e,f as S,L as C,p as ae,u as re,b as le,d as ne,X as T}from"./index.BatHzcfy.js";import{i as de,a as L,g as R,b as oe,c as ie}from"./utils.CZR10HRf.js";import{s as Y,e as q,a as G,b as ce,R as V,B as xe,C as me,X as ge,Y as he,T as J,c as ue,P as pe,d as be,f as fe,L as ye}from"./PieChart.C3is2I2M.js";import{e as je,i as Ne}from"./isSameMonth.D5arlkxN.js";import{C as ve}from"./chevron-left.tNmezBI8.js";import{C as we}from"./chevron-right.sxwTB4X9.js";import{E as O,M as Q,B as U,C as M}from"./Skeleton.CGpYNKMr.js";import{P}from"./phone.5E8NwPBk.js";import{i as ke}from"./isWithinInterval.B_oEtYqg.js";import{m as Z,C as W}from"./proxy.CljdZosF.js";import{C as _}from"./clock.B7nW-LKR.js";import{C as Ce}from"./calendar.fe01Sqwr.js";import"./index.TKEK1CsW.js";import"./tiny-invariant.XUtC9gpy.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],De=X("phone-call",Se);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],H=X("wallet",Me);function $e(c,s){const[o,n]=ee(c,s.start,s.end);return{start:o,end:n}}function Fe(c,s){const{start:o,end:n}=$e(s==null?void 0:s.in,c);let i=+o>+n;const g=i?+o:+n,a=i?n:o;a.setHours(0,0,0,0);let p=1;const h=[];for(;+a<=g;)h.push(te(o,a)),a.setDate(a.getDate()+p),a.setHours(0,0,0,0);return i?h.reverse():h}function Ee({cases:c,onDateSelect:s,selectedDate:o}){const[n,i]=f.useState(new Date),[g,a]=f.useState(null),p=()=>i(G(n,1)),h=()=>i(ce(n,1)),w=()=>i(new Date),j=Y(n),z=q(j),k=se(j),I=je(z),F=Fe({start:k,end:I}),B=c.flatMap(l=>(l.reminders||[]).map(d=>({caseId:l.caseId,customerName:l.customerName,datetime:d.datetime,type:d.type||"í†µí™”",content:d.content||"",resultStatus:d.resultStatus}))),D=l=>B.filter(d=>{if(!d.datetime)return!1;const y=ae(d.datetime,"yyyy-MM-dd HH:mm",new Date);return L(y,l)}).sort((d,y)=>(d.datetime||"").localeCompare(y.datetime||"")),A=l=>{switch(l){case"í†µí™”":return e.jsx(P,{size:12,className:"text-blue-600"});case"ì¶œìž¥ë¯¸íŒ…":return e.jsx(U,{size:12,className:"text-green-600"});case"ë°©ë¬¸ë¯¸íŒ…":return e.jsx(Q,{size:12,className:"text-purple-600"});case"ê¸°íƒ€":return e.jsx(O,{size:12,className:"text-gray-600"});default:return e.jsx(O,{size:12,className:"text-gray-600"})}};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-white",children:[e.jsx("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:e.jsx("span",{className:"text-xl",children:S(n,"yyyyë…„ Mì›”")})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:w,className:"px-3 py-1 text-xs font-medium bg-gray-100 rounded hover:bg-gray-200 text-gray-600",children:"ì˜¤ëŠ˜"}),e.jsxs("div",{className:"flex rounded-md border border-gray-200 bg-white",children:[e.jsx("button",{onClick:p,className:"p-1 hover:bg-gray-50 text-gray-600 border-r border-gray-200",children:e.jsx(ve,{size:20})}),e.jsx("button",{onClick:h,className:"p-1 hover:bg-gray-50 text-gray-600",children:e.jsx(we,{size:20})})]})]})]}),e.jsx("div",{className:"grid grid-cols-7 border-b border-gray-100 bg-gray-50",children:["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "].map((l,d)=>e.jsx("div",{className:`text-center py-2 text-xs font-semibold ${d===0?"text-red-500":"text-gray-500"}`,children:l},l))}),e.jsx("div",{className:"grid grid-cols-7 bg-gray-200 gap-px",children:F.map(l=>{const d=D(l),y=Ne(l,j),u=de(l),E=o?L(l,o):!1;return e.jsxs("div",{onClick:()=>s&&s(l),onMouseEnter:()=>d.length>0&&a(l.toISOString()),onMouseLeave:()=>a(null),className:`p-1 md:p-2 flex flex-col gap-1 cursor-pointer transition-colors h-[80px] md:h-[140px] border border-gray-100 relative
                ${E?"bg-blue-50 ring-2 ring-blue-500 ring-inset z-10":y?"bg-white hover:bg-gray-50":"bg-gray-50 hover:bg-gray-100"}
              `,children:[g===l.toISOString()&&d.length>0&&e.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 z-50 w-64 bg-gray-900 text-white rounded-lg shadow-xl p-3 animate-fade-in",onMouseEnter:()=>a(l.toISOString()),onMouseLeave:()=>a(null),children:[e.jsxs("div",{className:"text-xs font-bold text-blue-300 mb-2 border-b border-gray-700 pb-1",children:[S(l,"Mì›” dì¼")," ì¼ì • (",d.length,"ê±´)"]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:d.map((r,N)=>{var t;return e.jsxs("div",{className:"text-xs border-l-2 border-blue-400 pl-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-mono font-bold text-yellow-300",children:(t=r.datetime)==null?void 0:t.split(" ")[1]}),e.jsx("span",{className:"px-1 py-0.5 rounded text-[10px] bg-gray-700",children:r.type})]}),e.jsx("div",{className:"font-medium text-white mt-0.5",children:r.customerName}),r.content&&e.jsxs("div",{className:"text-gray-400 mt-0.5 truncate",children:['"',r.content,'"']}),r.resultStatus&&e.jsxs("span",{className:"text-green-400 text-[10px]",children:["â†’ ",r.resultStatus]})]},N)})}),e.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-gray-900"})]}),e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:`text-xs font-medium w-6 h-6 flex items-center justify-center rounded-full
                    ${u?"bg-blue-600 text-white":E?"text-blue-700 font-bold":y?"text-gray-700":"text-gray-400"}`,children:S(l,"d")}),d.length>0&&e.jsx("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-1.5 rounded font-bold",children:d.length})]}),e.jsxs("div",{className:"md:hidden flex flex-wrap gap-1 content-end mt-auto px-1 pb-1",children:[d.slice(0,5).map((r,N)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${r.type==="ë°©ë¬¸ë¯¸íŒ…"?"bg-purple-500":r.type==="ì¶œìž¥ë¯¸íŒ…"?"bg-green-500":"bg-blue-500"}`},N)),d.length>5&&e.jsx("span",{className:"text-[8px] text-gray-400 text-xs",children:"+"})]}),e.jsx("div",{className:"hidden md:block h-[96px] overflow-y-auto no-scrollbar space-y-1 mt-1",children:d.map((r,N)=>{var b;const t=((b=r.datetime)==null?void 0:b.split(" ")[1])||"",x=r.customerName.length>4?r.customerName.substring(0,4)+"...":r.customerName;return e.jsx(C,{to:`/case/${r.caseId}`,className:`block text-[10px] px-1 py-0.5 rounded border border-transparent hover:border-blue-200 transition-colors truncate
                                ${u?"bg-blue-50 text-blue-700":"bg-white hover:bg-gray-50 text-gray-600"}
                            `,title:`${t} [${r.type}] ${r.customerName}`,children:e.jsxs("div",{className:"flex items-center gap-1 w-full",children:[e.jsx("span",{className:"font-mono font-bold text-gray-500 whitespace-nowrap",children:t}),e.jsx("div",{className:"flex-shrink-0 flex items-center",title:r.type,children:A(r.type)}),e.jsxs("span",{className:`font-medium truncate flex-1 text-left ${r.resultStatus==="ì™„ë£Œ"?"text-gray-400 line-through":""}`,children:[r.resultStatus==="ì™„ë£Œ"&&"âœ… ",r.resultStatus==="ë¯¸ì—°ê²°"&&"ðŸ“ž ",r.resultStatus==="ìž¬ì˜ˆì•½"&&"ðŸ”„ ",x]})]})},`${r.caseId}-${N}`)})})]},l.toISOString())})})]})}const K=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#6B7280"],ze=({cases:c,isDark:s})=>{const o=f.useMemo(()=>{const n=new Date,i=Array.from({length:6},(a,p)=>{const h=G(n,5-p);return{name:S(h,"yyyy-MM"),start:Y(h),end:q(h),count:0}});return c.filter(a=>a.status!=="íœ´ì§€í†µ").forEach(a=>{if(!a.createdAt)return;const p=new Date(a.createdAt),h=i.find(w=>ke(p,{start:w.start,end:w.end}));h&&h.count++}),i.map(a=>({name:S(a.start,"MMì›”"),ê±´ìˆ˜:a.count}))},[c]);return e.jsxs("div",{className:"h-[350px] w-full bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 transition-colors flex flex-col",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"ì›”ë³„ ì‹ ê·œ ì ‘ìˆ˜ ì¶”ì´"}),e.jsx("div",{className:"flex-1 w-full min-h-0",children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(xe,{data:o,margin:{top:5,right:30,left:10,bottom:5},children:[e.jsx(me,{strokeDasharray:"3 3",stroke:s?"#374151":"#E5E7EB"}),e.jsx(ge,{dataKey:"name",stroke:s?"#9CA3AF":"#6B7280",tick:{fontSize:12}}),e.jsx(he,{stroke:s?"#9CA3AF":"#6B7280",tick:{fontSize:12}}),e.jsx(J,{contentStyle:{backgroundColor:s?"#1F2937":"#FFFFFF",borderColor:s?"#374151":"#E5E7EB",color:s?"#F3F4F6":"#111827"}}),e.jsx(ue,{dataKey:"ê±´ìˆ˜",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})},Ie=({cases:c,isDark:s})=>{const o=f.useMemo(()=>{const n={};return c.filter(g=>g.status!=="íœ´ì§€í†µ").forEach(g=>{const a=g.status||"ë¯¸ë¶„ë¥˜";n[a]=(n[a]||0)+1}),Object.entries(n).map(([g,a])=>({name:g,value:a})).sort((g,a)=>a.value-g.value)},[c]);return e.jsxs("div",{className:"h-[350px] w-full bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 transition-colors flex flex-col",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2",children:"ì§„í–‰ ìƒíƒœ ë¶„í¬"}),e.jsx("div",{className:"flex-1 w-full min-h-0",children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(pe,{children:[e.jsx(be,{data:o,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",label:({percent:n})=>n>.05?`${(n*100).toFixed(0)}%`:"",labelLine:!1,children:o.map((n,i)=>e.jsx(fe,{fill:K[i%K.length]},`cell-${i}`))}),e.jsx(J,{contentStyle:{backgroundColor:s?"#1F2937":"#FFFFFF",borderColor:s?"#374151":"#E5E7EB",color:s?"#F3F4F6":"#111827"}}),e.jsx(ye,{layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{color:s?"#D1D5DB":"#374151",fontSize:"12px"}})]})})})]})},$=({title:c,count:s,color:o,icon:n,subText:i})=>e.jsxs(Z.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"glass-panel p-4 rounded-xl flex items-center justify-between transition-all h-full",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:c}),e.jsx("p",{className:`text-2xl font-bold ${o}`,children:s}),i&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i})]}),e.jsx("div",{className:`p-3 rounded-full bg-gray-50 dark:bg-gray-700 ${o.replace("text","text-opacity-20")}`,children:e.jsx(n,{size:24,className:o})})]});function Ge(){const{theme:c}=re(),[s,o]=f.useState([]),[n,i]=f.useState([]),[g,a]=f.useState(!0),[p,h]=f.useState(new Date),[w,j]=f.useState(!1),[z,k]=f.useState(!1);if(f.useEffect(()=>{Promise.all([le(),ne()]).then(([t,x])=>{o(t),i(x),a(!1)})},[]),g)return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pt-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(M,{}),e.jsx(M,{}),e.jsx(M,{}),e.jsx(M,{}),e.jsx(M,{})]}),e.jsx("div",{className:"h-64 glass-panel rounded-xl"})]});const I=localStorage.getItem("lm_missedStatus")||"ë¶€ìž¬",F=Number(localStorage.getItem("lm_missedInterval"))||3,B=s.filter(t=>{if(t.status!==I||!t.lastMissedCallAt)return!1;const x=new Date().getTime(),b=new Date(t.lastMissedCallAt).getTime();return x-b>F*24*60*60*1e3}).length,D=s.flatMap(t=>(t.reminders||[]).map(x=>({reminder:x,caseData:t}))),A=D.filter(t=>R(t.reminder.datetime)==="today"&&!t.reminder.resultStatus),l=D.filter(t=>R(t.reminder.datetime)==="overdue"&&!t.reminder.resultStatus),d=s.map(t=>{const x=n.find(m=>m.partnerId===t.partnerId),b=oe(t,x);return{caseData:t,warnings:b}}).filter(t=>t.warnings.length>0),y=d.map(t=>t.caseData);let u=null;n.length>0&&(u=ie(s,n[0]));const E=p?S(p,"yyyy-MM-dd"):"",r=D.filter(t=>t.reminder.datetime?t.reminder.datetime.startsWith(E):!1).sort((t,x)=>t.reminder.datetime.localeCompare(x.reminder.datetime)),N=t=>{const x=["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "];return`${t.getMonth()+1}ì›” ${t.getDate()}ì¼ (${x[t.getDay()]}) ì¼ì •`};return e.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"space-y-6 max-w-7xl mx-auto pb-4 md:pb-0",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"ëŒ€ì‹œë³´ë“œ"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx($,{title:"ì˜¤ëŠ˜ ë¦¬ë§ˆì¸ë”",count:A.length,color:"text-blue-600",icon:De}),e.jsx("div",{onClick:()=>j(!0),className:"cursor-pointer hover:scale-[1.02] transition-transform h-full",children:e.jsx($,{title:"ì§€ì—°ëœ ë¦¬ë§ˆì¸ë”",count:l.length,color:"text-red-600",icon:_})}),e.jsx("div",{onClick:()=>k(!0),className:"cursor-pointer hover:scale-[1.02] transition-transform h-full",children:e.jsx($,{title:"ì¡°ì¹˜ í•„ìš” (ê²½ê³ )",count:y.length,color:"text-yellow-600",icon:W})}),e.jsx(C,{to:"/cases",onClick:()=>sessionStorage.setItem("lm_showOverdueMissed","true"),children:e.jsx($,{title:"ìž¬í†µí™” í•„ìš”",count:B,color:"text-orange-600",icon:P,subText:`${F}ì¼ ì´ìƒ ê²½ê³¼`})}),u&&e.jsx($,{title:u.isEligible?"ì§€ê¸‰ ì˜ˆì • ìˆ˜ë‹¹":"ëˆ„ì  ìž…ê¸ˆì•¡(ë¯¸ë‹¬ì„±)",count:u.isEligible?`${u.expectedCommission.toLocaleString()}ë§Œì›`:`${u.currentTotalDeposit.toLocaleString()}ë§Œì›`,color:u.isEligible?"text-green-600":"text-gray-400",icon:H,subText:u.isEligible?`ì§€ê¸‰ì¼: ${u.payoutDate}`:`ëª©í‘œ: ${u.threshold}ë§Œì›`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"ì˜ì—… í˜„í™©"}),e.jsx(C,{to:"/statistics",className:"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1 hover:underline",children:"ðŸ“Š ìƒì„¸ í†µê³„ ë³´ê¸° â†’"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx(ze,{cases:s,isDark:c==="dark"}),e.jsx(Ie,{cases:s,isDark:c==="dark"})]})]}),e.jsxs("div",{className:"glass-panel rounded-xl",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 bg-indigo-50/50 dark:bg-indigo-900/20 flex justify-between items-center rounded-t-xl",children:[e.jsxs("h3",{className:"font-bold text-indigo-900 dark:text-indigo-300 flex items-center gap-2",children:[e.jsx(Ce,{size:20}),N(p)]}),e.jsx("span",{className:"text-xs bg-white/80 backdrop-blur text-indigo-600 px-3 py-1 rounded-full font-bold shadow-sm",children:r.length})]}),e.jsx("div",{className:"p-4 min-h-[150px] max-h-[300px] overflow-y-auto",children:r.length===0?e.jsx("div",{className:"flex flex-col items-center justify-center h-24 text-gray-400",children:e.jsx("p",{children:"ë“±ë¡ëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤."})}):e.jsx("div",{className:"grid gap-3",children:r.map((t,x)=>{const b=t.reminder.datetime.split(" ")[1],m=t.reminder.type||"í†µí™”";let v="bg-gray-100 text-gray-600";return m==="í†µí™”"?v="bg-blue-100 text-blue-700":m==="ì¶œìž¥ë¯¸íŒ…"?v="bg-green-100 text-green-700":m==="ë°©ë¬¸ë¯¸íŒ…"?v="bg-purple-100 text-purple-700":m==="ìž…ê¸ˆ"?v="bg-emerald-100 text-emerald-700":m==="ê¸°íƒ€"&&(v="bg-gray-100 text-gray-700"),e.jsx(C,{to:`/case/${t.caseData.caseId}`,className:"block group bg-gray-50 dark:bg-gray-700/50 hover:bg-white dark:hover:bg-gray-700 border border-transparent hover:border-indigo-200 rounded-lg p-3 transition-all shadow-sm hover:shadow-md",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4",children:[e.jsxs("div",{className:"flex md:hidden items-center gap-2 flex-wrap mb-1",children:[e.jsx("span",{className:"font-mono text-lg font-bold text-gray-700 dark:text-gray-300",children:b}),e.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${v} whitespace-nowrap`,children:m})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-3 md:w-auto flex-shrink-0",children:[e.jsx("span",{className:"font-mono text-lg font-bold text-gray-700 dark:text-gray-300",children:b}),e.jsxs("span",{title:m,className:"flex items-center justify-center",children:[m==="í†µí™”"&&e.jsx(P,{size:16,className:"text-blue-600"}),m==="ì¶œìž¥ë¯¸íŒ…"&&e.jsx(U,{size:16,className:"text-green-600"}),m==="ë°©ë¬¸ë¯¸íŒ…"&&e.jsx(Q,{size:16,className:"text-purple-600"}),m==="ìž…ê¸ˆ"&&e.jsx(H,{size:16,className:"text-emerald-600"}),m==="ê¸°íƒ€"&&e.jsx(O,{size:16,className:"text-gray-600"})]}),e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded font-bold ${v} whitespace-nowrap`,children:m})]}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col md:flex-row md:items-center gap-0.5 md:gap-3",children:[e.jsx("span",{className:`font-bold whitespace-nowrap ${t.reminder.resultStatus?"text-gray-400 line-through":"text-gray-800 dark:text-white"}`,children:t.caseData.customerName}),e.jsx("span",{className:"hidden md:inline text-gray-300",children:"|"}),e.jsx("span",{className:`text-xs md:text-sm truncate block w-full md:w-auto ${t.reminder.resultStatus?"text-gray-400":"text-gray-500 dark:text-gray-400"}`,children:t.reminder.content||"ë‚´ìš© ì—†ìŒ"})]}),(t.reminder.resultStatus||t.reminder.resultNote)&&e.jsxs("div",{className:"md:ml-auto flex items-center gap-2 text-xs mt-1 md:mt-0 flex-shrink-0",children:[t.reminder.resultStatus&&e.jsxs("span",{className:`px-2 py-1 rounded font-bold whitespace-nowrap shadow-sm ${t.reminder.resultStatus==="ì™„ë£Œ"?"bg-green-100 text-green-700":t.reminder.resultStatus==="ë¯¸ì—°ê²°"?"bg-red-100 text-red-700":t.reminder.resultStatus==="ìž¬ì˜ˆì•½"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:[t.reminder.resultStatus==="ì™„ë£Œ"&&"âœ… ",t.reminder.resultStatus==="ë¯¸ì—°ê²°"&&"ðŸ“ž ",t.reminder.resultStatus==="ìž¬ì˜ˆì•½"&&"ðŸ”„ ",t.reminder.resultStatus]}),t.reminder.resultNote&&e.jsx("span",{className:"text-gray-600 bg-white dark:bg-gray-800 px-2 py-1 rounded border border-gray-200 dark:border-gray-600 truncate max-w-[200px] md:max-w-[300px]",title:t.reminder.resultNote,children:t.reminder.resultNote})]}),e.jsx("div",{className:"hidden md:block text-right whitespace-nowrap flex-shrink-0",children:e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-indigo-500 font-medium transition-colors",children:"â†’"})})]})},t.reminder.id)})})})]}),e.jsx("div",{children:e.jsx(Ee,{cases:s,selectedDate:p,onDateSelect:h})}),w&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>j(!1),children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-lg mx-4 max-h-[80vh] flex flex-col",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-red-50 dark:bg-red-900/20 rounded-t-xl",children:[e.jsxs("h3",{className:"font-bold text-red-800 dark:text-red-300 flex items-center gap-2",children:[e.jsx(_,{size:20}),"ì§€ì—°ëœ ë¦¬ë§ˆì¸ë” (",l.length,"ê±´)"]}),e.jsx("button",{onClick:()=>j(!1),className:"p-1 hover:bg-red-100 dark:hover:bg-red-800 rounded-full transition-colors",children:e.jsx(T,{size:20,className:"text-red-600 dark:text-red-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.length===0?e.jsx("div",{className:"text-center text-gray-400 py-8",children:"ì§€ì—°ëœ ë¦¬ë§ˆì¸ë”ê°€ ì—†ìŠµë‹ˆë‹¤."}):e.jsx("div",{className:"space-y-2",children:l.map(t=>e.jsx(C,{to:`/case/${t.caseData.caseId}`,onClick:()=>j(!1),className:"block p-3 bg-gray-50 dark:bg-gray-700/50 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg border border-gray-100 dark:border-gray-600 hover:border-red-200 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:t.caseData.customerName}),e.jsx("span",{className:"text-xs text-gray-400",children:"|"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.caseData.phone})]}),e.jsxs("div",{className:"text-xs text-red-500 dark:text-red-400 mt-1 font-medium",children:["ðŸ“… ",t.reminder.datetime]}),t.reminder.content&&e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate max-w-[300px]",children:t.reminder.content})]}),e.jsx("span",{className:"text-xs bg-red-100 text-red-600 dark:bg-red-900/50 dark:text-red-400 px-2 py-1 rounded font-bold",children:"ì§€ì—°"})]})},t.reminder.id))})})]})}),z&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>k(!1),children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-lg mx-4 max-h-[80vh] flex flex-col",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-yellow-50 dark:bg-yellow-900/20 rounded-t-xl",children:[e.jsxs("h3",{className:"font-bold text-yellow-800 dark:text-yellow-300 flex items-center gap-2",children:[e.jsx(W,{size:20}),"ì¡°ì¹˜ í•„ìš” ì¼€ì´ìŠ¤ (",y.length,"ê±´)"]}),e.jsx("button",{onClick:()=>k(!1),className:"p-1 hover:bg-yellow-100 dark:hover:bg-yellow-800 rounded-full transition-colors",children:e.jsx(T,{size:20,className:"text-yellow-600 dark:text-yellow-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d.length===0?e.jsx("div",{className:"text-center text-gray-400 py-8",children:"ì¡°ì¹˜ê°€ í•„ìš”í•œ ì¼€ì´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤."}):e.jsx("div",{className:"space-y-2",children:d.map(t=>e.jsx(C,{to:`/case/${t.caseData.caseId}`,onClick:()=>k(!1),className:"block p-3 bg-gray-50 dark:bg-gray-700/50 hover:bg-yellow-50 dark:hover:bg-yellow-900/30 rounded-lg border border-gray-100 dark:border-gray-600 hover:border-yellow-200 transition-all",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:t.caseData.customerName}),e.jsx("span",{className:"text-xs text-gray-400",children:"|"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.caseData.phone})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t.caseData.status}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.warnings.map((x,b)=>e.jsxs("span",{className:"text-xs bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-400 px-2 py-0.5 rounded font-medium",children:["âš  ",x]},b))})]}),e.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"â†’"})]})},t.caseData.caseId))})})]})})]})}export{Ge as default};
