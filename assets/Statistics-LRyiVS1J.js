import{c as oe,r as l,u as Ue,b as Ge,d as He,P as qe,Z as Xe,f as Ye,j as n,L as Ze,al as Je}from"./index-oPsJDYxP.js";import{C as Qe}from"./chevron-left-Chyj8RQl.js";import{F as et}from"./funnel-DLzBBs_Z.js";import{c as ce,i as ee,d as ke,s as Ne,D as de,e as Ae,f as tt,Z as ue,L as pe,u as Ee,g as at,h as rt,j as ie,k as we,l as he,m as Ie,n as Se,o as Oe,p as nt,q as st,r as it,t as ye,v as lt,w as Ce,x as De,y as ot,S as ct,z as dt,A as Le,E as ut,F as pt,G as ht,H as mt,I as ft,J as xt,K as Fe,M as ve,N as yt,O as vt,P as V,Q as gt,U as bt,V as jt,W as Pt,_ as kt,$ as Nt,R as $,C as q,X,Y as U,T as R,a as M,b as Y,B as te,a0 as At}from"./BarChart-DXL1b0b1.js";import{a as G,e as Et,s as wt,i as It,L as Z,P as ae,c as re}from"./PieChart-CSZ-ZITb.js";import"./index-CO6cpyYN.js";import"./tiny-invariant-B50UGY2b.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ot=oe("dollar-sign",St);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Dt=oe("target",Ct);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Be=oe("trending-up",Lt);function le(){return le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},le.apply(null,arguments)}var _e=t=>{var{cx:e,cy:a,r,className:o}=t,c=ce("recharts-dot",o);return ee(e)&&ee(a)&&ee(r)?l.createElement("circle",le({},Ne(t),ke(t),{className:c,cx:e,cy:a,r})):null},Ft=["points"];function ge(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,r)}return a}function ne(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ge(Object(a),!0).forEach(function(r){Bt(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function Bt(t,e,a){return(e=_t(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function _t(t){var e=Kt(t,"string");return typeof e=="symbol"?e:e+""}function Kt(t,e){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Q.apply(null,arguments)}function $t(t,e){if(t==null)return{};var a,r,o=Rt(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)a=c[r],e.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}function Rt(t,e){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function Tt(t){var{option:e,dotProps:a,className:r}=t;if(l.isValidElement(e))return l.cloneElement(e,a);if(typeof e=="function")return e(a);var o=ce(r,typeof e!="boolean"?e.className:""),c=a??{},{points:u}=c,p=$t(c,Ft);return l.createElement(_e,Q({},p,{className:o}))}function zt(t,e){return t==null?!1:e?!0:t.length===1}function Mt(t){var{points:e,dot:a,className:r,dotClassName:o,dataKey:c,baseProps:u,needClip:p,clipPathId:m,zIndex:x=de.scatter}=t;if(!zt(e,a))return null;var g=Ae(a),v=tt(a),b=e.map((j,k)=>{var A,E,f=ne(ne(ne({r:3},u),v),{},{index:k,cx:(A=j.x)!==null&&A!==void 0?A:void 0,cy:(E=j.y)!==null&&E!==void 0?E:void 0,dataKey:c,value:j.value,payload:j.payload,points:e});return l.createElement(Tt,{key:"dot-".concat(k),option:a,dotProps:f,className:o})}),P={};return p&&m!=null&&(P.clipPath="url(#clipPath-".concat(g?"":"dots-").concat(m,")")),l.createElement(ue,{zIndex:x},l.createElement(pe,Q({className:r},P),b))}function be(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,r)}return a}function se(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?be(Object(a),!0).forEach(function(r){Wt(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function Wt(t,e,a){return(e=Vt(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Vt(t){var e=Ut(t,"string");return typeof e=="symbol"?e:e+""}function Ut(t,e){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gt=t=>{var{point:e,childIndex:a,mainColor:r,activeDot:o,dataKey:c,clipPath:u}=t;if(o===!1||e.x==null||e.y==null)return null;var p={index:a,dataKey:c,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},m=se(se(se({},p),we(o)),ke(o)),x;return l.isValidElement(o)?x=l.cloneElement(o,m):typeof o=="function"?x=o(m):x=l.createElement(_e,m),l.createElement(pe,{className:"recharts-active-dot",clipPath:u},x)};function Ht(t){var{points:e,mainColor:a,activeDot:r,itemDataKey:o,clipPath:c,zIndex:u=de.activeDot}=t,p=Ee(at),m=rt();if(e==null||m==null)return null;var x=e.find(g=>m.includes(g.payload));return ie(x)?null:l.createElement(ue,{zIndex:u},l.createElement(Gt,{point:x,childIndex:Number(p),mainColor:a,dataKey:o,activeDot:r,clipPath:c}))}var Ke=(t,e,a,r)=>Se(t,"xAxis",e,r),$e=(t,e,a,r)=>Oe(t,"xAxis",e,r),Re=(t,e,a,r)=>Se(t,"yAxis",a,r),Te=(t,e,a,r)=>Oe(t,"yAxis",a,r),qt=he([Ie,Ke,Re,$e,Te],(t,e,a,r,o)=>it(t,"xAxis")?ye(e,r,!1):ye(a,o,!1)),Xt=(t,e,a,r,o)=>o;function Yt(t){return t.type==="line"}var Zt=he([st,Xt],(t,e)=>t.filter(Yt).find(a=>a.id===e)),Jt=he([Ie,Ke,Re,$e,Te,Zt,qt,nt],(t,e,a,r,o,c,u,p)=>{var{chartData:m,dataStartIndex:x,dataEndIndex:g}=p;if(!(c==null||e==null||a==null||r==null||o==null||r.length===0||o.length===0||u==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:v,data:b}=c,P;if(b!=null&&b.length>0?P=b:P=m==null?void 0:m.slice(x,g+1),P!=null)return ga({layout:t,xAxis:e,yAxis:a,xAxisTicks:r,yAxisTicks:o,dataKey:v,bandSize:u,displayedData:P})}});function Qt(t){var e=we(t),a=3,r=2;if(e!=null){var{r:o,strokeWidth:c}=e,u=Number(o),p=Number(c);return(Number.isNaN(u)||u<0)&&(u=a),(Number.isNaN(p)||p<0)&&(p=r),{r:u,strokeWidth:p}}return{r:a,strokeWidth:r}}var ea=["id"],ta=["type","layout","connectNulls","needClip","shape"],aa=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},H.apply(null,arguments)}function je(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,r)}return a}function C(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?je(Object(a),!0).forEach(function(r){ra(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):je(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function ra(t,e,a){return(e=na(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function na(t){var e=sa(t,"string");return typeof e=="symbol"?e:e+""}function sa(t,e){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function me(t,e){if(t==null)return{};var a,r,o=ia(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)a=c[r],e.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}function ia(t,e){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var la=t=>{var{dataKey:e,name:a,stroke:r,legendType:o,hide:c}=t;return[{inactive:c,dataKey:e,type:o,color:r,value:Le(a,e),payload:t}]},oa=l.memo(t=>{var{dataKey:e,data:a,stroke:r,strokeWidth:o,fill:c,name:u,hide:p,unit:m,tooltipType:x,id:g}=t,v={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:o,fill:c,dataKey:e,nameKey:void 0,name:Le(u,e),hide:p,type:x,color:r,unit:m,graphicalItemId:g}};return l.createElement(ut,{tooltipEntrySettings:v})}),ze=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function ca(t,e){for(var a=t.length%2!==0?[...t,0]:t,r=[],o=0;o<e;++o)r=[...r,...a];return r}var da=(t,e,a)=>{var r=a.reduce((v,b)=>v+b);if(!r)return ze(e,t);for(var o=Math.floor(t/r),c=t%r,u=e-t,p=[],m=0,x=0;m<a.length;x+=a[m],++m)if(x+a[m]>c){p=[...a.slice(0,m),c-x];break}var g=p.length%2===0?[0,u]:[u];return[...ca(a,o),...p,...g].map(v=>"".concat(v,"px")).join(", ")};function ua(t){var{clipPathId:e,points:a,props:r}=t,{dot:o,dataKey:c,needClip:u}=r,{id:p}=r,m=me(r,ea),x=Ne(m);return l.createElement(Mt,{points:a,dot:o,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:c,baseProps:x,needClip:u,clipPathId:e})}function pa(t){var{showLabels:e,children:a,points:r}=t,o=l.useMemo(()=>r==null?void 0:r.map(c=>{var u,p,m={x:(u=c.x)!==null&&u!==void 0?u:0,y:(p=c.y)!==null&&p!==void 0?p:0,width:0,lowerWidth:0,upperWidth:0,height:0};return C(C({},m),{},{value:c.value,payload:c.payload,viewBox:m,parentViewBox:void 0,fill:void 0})}),[r]);return l.createElement(bt,{value:e?o:void 0},a)}function Pe(t){var{clipPathId:e,pathRef:a,points:r,strokeDasharray:o,props:c}=t,{type:u,layout:p,connectNulls:m,needClip:x,shape:g}=c,v=me(c,ta),b=C(C({},jt(v)),{},{fill:"none",className:"recharts-line-curve",clipPath:x?"url(#clipPath-".concat(e,")"):void 0,points:r,type:u,layout:p,connectNulls:m,strokeDasharray:o??c.strokeDasharray});return l.createElement(l.Fragment,null,(r==null?void 0:r.length)>1&&l.createElement(Pt,H({shapeType:"curve",option:g},b,{pathRef:a})),l.createElement(ua,{points:r,clipPathId:e,props:c}))}function ha(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function ma(t){var{clipPathId:e,props:a,pathRef:r,previousPointsRef:o,longestAnimatedLengthRef:c}=t,{points:u,strokeDasharray:p,isAnimationActive:m,animationBegin:x,animationDuration:g,animationEasing:v,animateNewValues:b,width:P,height:j,onAnimationEnd:k,onAnimationStart:A}=a,E=o.current,f=yt(u,"recharts-line-"),N=l.useRef(f),[_,I]=l.useState(!1),K=!_,T=l.useCallback(()=>{typeof k=="function"&&k(),I(!1)},[k]),z=l.useCallback(()=>{typeof A=="function"&&A(),I(!0)},[A]),S=ha(r.current),F=l.useRef(0);N.current!==f&&(F.current=c.current,N.current=f);var i=F.current;return l.createElement(pa,{points:u,showLabels:K},a.children,l.createElement(vt,{animationId:f,begin:x,duration:g,isActive:m,easing:v,onAnimationEnd:T,onAnimationStart:z,key:f},s=>{var d=V(i,S+i,s),h=Math.min(d,S),y;if(m)if(p){var O="".concat(p).split(/[,\s]+/gim).map(w=>parseFloat(w));y=da(h,S,O)}else y=ze(S,h);else y=p==null?void 0:String(p);if(s>0&&S>0&&(o.current=u,c.current=Math.max(c.current,h)),E){var B=E.length/u.length,D=s===1?u:u.map((w,Ve)=>{var fe=Math.floor(Ve*B);if(E[fe]){var xe=E[fe];return C(C({},w),{},{x:V(xe.x,w.x,s),y:V(xe.y,w.y,s)})}return b?C(C({},w),{},{x:V(P*2,w.x,s),y:V(j/2,w.y,s)}):C(C({},w),{},{x:w.x,y:w.y})});return o.current=D,l.createElement(Pe,{props:a,points:D,clipPathId:e,pathRef:r,strokeDasharray:y})}return l.createElement(Pe,{props:a,points:u,clipPathId:e,pathRef:r,strokeDasharray:y})}),l.createElement(gt,{label:a.label}))}function fa(t){var{clipPathId:e,props:a}=t,r=l.useRef(null),o=l.useRef(0),c=l.useRef(null);return l.createElement(ma,{props:a,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:o,pathRef:c})}var xa=(t,e)=>{var a,r;return{x:(a=t.x)!==null&&a!==void 0?a:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Fe(t.payload,e)}};class ya extends l.Component{render(){var{hide:e,dot:a,points:r,className:o,xAxisId:c,yAxisId:u,top:p,left:m,width:x,height:g,id:v,needClip:b,zIndex:P}=this.props;if(e)return null;var j=ce("recharts-line",o),k=v,{r:A,strokeWidth:E}=Qt(a),f=Ae(a),N=A*2+E,_=b?"url(#clipPath-".concat(f?"":"dots-").concat(k,")"):void 0;return l.createElement(ue,{zIndex:P},l.createElement(pe,{className:j},b&&l.createElement("defs",null,l.createElement(ft,{clipPathId:k,xAxisId:c,yAxisId:u}),!f&&l.createElement("clipPath",{id:"clipPath-dots-".concat(k)},l.createElement("rect",{x:m-N/2,y:p-N/2,width:x+N,height:g+N}))),l.createElement(xt,{xAxisId:c,yAxisId:u,data:r,dataPointFormatter:xa,errorBarOffset:0},l.createElement(fa,{props:this.props,clipPathId:k}))),l.createElement(Ht,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:_}))}}var Me={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:de.line,type:"linear"};function va(t){var e=Ce(t,Me),{activeDot:a,animateNewValues:r,animationBegin:o,animationDuration:c,animationEasing:u,connectNulls:p,dot:m,hide:x,isAnimationActive:g,label:v,legendType:b,xAxisId:P,yAxisId:j,id:k}=e,A=me(e,aa),{needClip:E}=pt(P,j),f=ht(),N=mt(),_=De(),I=Ee(F=>Jt(F,P,j,_,k));if(N!=="horizontal"&&N!=="vertical"||I==null||f==null)return null;var{height:K,width:T,x:z,y:S}=f;return l.createElement(ya,H({},A,{id:k,connectNulls:p,dot:m,activeDot:a,animateNewValues:r,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:g,hide:x,label:v,legendType:b,xAxisId:P,yAxisId:j,points:I,layout:N,height:K,width:T,left:z,top:S,needClip:E}))}function ga(t){var{layout:e,xAxis:a,yAxis:r,xAxisTicks:o,yAxisTicks:c,dataKey:u,bandSize:p,displayedData:m}=t;return m.map((x,g)=>{var v=Fe(x,u);if(e==="horizontal"){var b=ve({axis:a,ticks:o,bandSize:p,entry:x,index:g}),P=ie(v)?null:r.scale(v);return{x:b,y:P,value:v,payload:x}}var j=ie(v)?null:a.scale(v),k=ve({axis:r,ticks:c,bandSize:p,entry:x,index:g});return j==null||k==null?null:{x:j,y:k,value:v,payload:x}}).filter(Boolean)}function ba(t){var e=Ce(t,Me),a=De();return l.createElement(ot,{id:e.id,type:"line"},r=>l.createElement(l.Fragment,null,l.createElement(ct,{legendPayload:la(e)}),l.createElement(oa,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),l.createElement(dt,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:a}),l.createElement(va,H({},e,{id:r}))))}var We=l.memo(ba,lt);We.displayName="Line";var ja=["axis"],Pa=l.forwardRef((t,e)=>l.createElement(kt,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ja,tooltipPayloadSearcher:Nt,categoricalChartProps:t,ref:e}));const W=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"],J=({title:t,value:e,subValue:a,icon:r,color:o,trend:c})=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:t}),n.jsx("p",{className:`text-2xl font-bold ${o}`,children:e}),a&&n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a})]}),n.jsx("div",{className:`p-3 rounded-full bg-opacity-10 ${o.replace("text-","bg-")}`,children:n.jsx(r,{className:o,size:24})})]}),c&&n.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs ${c>0?"text-green-500":"text-red-500"}`,children:[n.jsx(Be,{size:12,className:c<0?"rotate-180":""}),n.jsxs("span",{children:[Math.abs(c),"% Ï†ÑÏõî ÎåÄÎπÑ"]})]})]}),L=({title:t,children:e,className:a=""})=>n.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 ${a}`,children:[n.jsx("h3",{className:"text-base font-bold text-gray-800 dark:text-white mb-4",children:t}),e]});function Oa(){const{theme:t}=Ue(),e=t==="dark",[a,r]=l.useState([]),[o,c]=l.useState([]),[u,p]=l.useState([]),[m,x]=l.useState([]),[g,v]=l.useState(!0),[b,P]=l.useState("6m"),[j,k]=l.useState("all"),[A,E]=l.useState("all");l.useEffect(()=>{Promise.all([Ge(),He(),qe(),Xe()]).then(([i,s,d,h])=>{r(i.filter(y=>y.status!=="Ìú¥ÏßÄÌÜµ")),c(s),p(d),x(h),v(!1)})},[]);const f=l.useMemo(()=>{const i=new Date;let s=null;switch(b){case"1w":s=new Date(i.getTime()-10080*60*1e3);break;case"1m":s=G(i,1);break;case"3m":s=G(i,3);break;case"6m":s=G(i,6);break;case"1y":s=G(i,12);break;default:s=null}return a.filter(d=>!(s&&d.createdAt&&new Date(d.createdAt)<s||j!=="all"&&d.partnerId!==j||A!=="all"&&d.inboundPath!==A))},[a,b,j,A]),N=l.useMemo(()=>{const i=f.length,s=f.filter(D=>D.contractAt).length,d=i>0?(s/i*100).toFixed(1):"0",h=f.reduce((D,w)=>D+(w.contractFee||0),0),y=s>0?Math.round(h/s):0,O=f.filter(D=>D.depositHistory&&D.depositHistory.length>0).length,B=s>0?(O/s*100).toFixed(1):"0";return{total:i,contracted:s,contractRate:d,totalContractFee:h,avgContractFee:y,deposited:O,depositRate:B}},[f]),_=l.useMemo(()=>{const i=Array.from({length:6},(s,d)=>{const h=G(new Date,5-d);return{name:Ye(h,"MMÏõî"),start:wt(h),end:Et(h),Ïã†Í∑ú:0,Í≥ÑÏïΩ:0,Í∏àÏï°:0}});return f.forEach(s=>{if(s.createdAt){const d=new Date(s.createdAt),h=i.find(y=>It(d,{start:y.start,end:y.end}));h&&(h.Ïã†Í∑ú++,s.contractAt&&(h.Í≥ÑÏïΩ++,h.Í∏àÏï°+=s.contractFee||0))}}),i},[f]),I=l.useMemo(()=>{f.filter(y=>y.contractAt).map(()=>"contracted");const i=f.length,s=f.filter(y=>!["Ïã†Í∑úÏ†ëÏàò"].includes(y.status)).length,d=f.filter(y=>y.status==="ÏÇ¨Î¨¥Ïû• Ï†ëÏàò"||y.contractAt).length,h=f.filter(y=>y.contractAt).length;return[{name:"Ïã†Í∑úÏ†ëÏàò",value:i,fill:"#3B82F6"},{name:"ÏÉÅÎã¥ÏßÑÌñâ",value:s,fill:"#10B981"},{name:"ÏÇ¨Î¨¥Ïû•Ï†ëÏàò",value:d,fill:"#F59E0B"},{name:"Í≥ÑÏïΩÏôÑÎ£å",value:h,fill:"#8B5CF6"}]},[f]),K=l.useMemo(()=>{const i={};return f.forEach(s=>{const d=s.inboundPath||"ÎØ∏Î∂ÑÎ•ò";i[d]||(i[d]={total:0,contracted:0,fee:0}),i[d].total++,s.contractAt&&(i[d].contracted++,i[d].fee+=s.contractFee||0)}),Object.entries(i).map(([s,d])=>({name:s,Í±¥Ïàò:d.total,Í≥ÑÏïΩ:d.contracted,Ï†ÑÌôòÏú®:d.total>0?Math.round(d.contracted/d.total*100):0,Í∏àÏï°:d.fee})).sort((s,d)=>d.Í±¥Ïàò-s.Í±¥Ïàò).slice(0,8)},[f]),T=l.useMemo(()=>{const i={};return f.forEach(s=>{const d=o.find(O=>O.partnerId===s.partnerId),h=s.partnerId||"unknown",y=(d==null?void 0:d.name)||"ÎØ∏ÏßÄÏ†ï";i[h]||(i[h]={name:y,total:0,contracted:0,fee:0}),i[h].total++,s.contractAt&&(i[h].contracted++,i[h].fee+=s.contractFee||0)}),Object.values(i).map(s=>({name:s.name,Í±¥Ïàò:s.total,Í≥ÑÏïΩ:s.contracted,Ï†ÑÌôòÏú®:s.total>0?Math.round(s.contracted/s.total*100):0,Í∏àÏï°:s.fee})).sort((s,d)=>d.Í±¥Ïàò-s.Í±¥Ïàò)},[f,o]),z=l.useMemo(()=>{const i={};return f.forEach(s=>{const d=s.status||"ÎØ∏Î∂ÑÎ•ò";i[d]=(i[d]||0)+1}),Object.entries(i).map(([s,d])=>({name:s,value:d})).sort((s,d)=>d.value-s.value)},[f]),S=l.useMemo(()=>{const i=f.filter(d=>d.status==="ÏÇ¨Î¨¥Ïû• Ï†ëÏàò"),s={};return i.forEach(d=>{const h=d.secondaryStatus||"ÎØ∏ÏßÄÏ†ï";s[h]=(s[h]||0)+1}),Object.entries(s).map(([d,h])=>({name:d,value:h})).sort((d,h)=>h.value-d.value)},[f]),F=l.useMemo(()=>{let i=0,s=0,d=0,h=0,y=0;return f.forEach(O=>{(O.reminders||[]).forEach(B=>{i++,B.resultStatus==="ÏôÑÎ£å"?s++:B.resultStatus==="ÎØ∏Ïó∞Í≤∞"?d++:B.resultStatus==="Ïû¨ÏòàÏïΩ"?h++:B.resultStatus==="Ï∑®ÏÜå"&&y++})}),[{name:"ÏôÑÎ£å",value:s,fill:"#10B981"},{name:"ÎØ∏Ïó∞Í≤∞",value:d,fill:"#EF4444"},{name:"Ïû¨ÏòàÏïΩ",value:h,fill:"#3B82F6"},{name:"Ï∑®ÏÜå",value:y,fill:"#6B7280"},{name:"ÎØ∏Ï≤òÎ¶¨",value:i-s-d-h-y,fill:"#F59E0B"}].filter(O=>O.value>0)},[f]);return g?n.jsx("div",{className:"p-10 text-center text-gray-500",children:"Î°úÎî©Ï§ë..."}):n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ze,{to:"/",className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:n.jsx(Qe,{size:24})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"üìä ÏÉÅÏÑ∏ ÌÜµÍ≥Ñ"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(et,{size:16,className:"text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"ÌïÑÌÑ∞:"})]}),n.jsx("div",{className:"flex gap-1 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[{key:"1w",label:"1Ï£º"},{key:"1m",label:"1Í∞úÏõî"},{key:"3m",label:"3Í∞úÏõî"},{key:"6m",label:"6Í∞úÏõî"},{key:"1y",label:"1ÎÖÑ"},{key:"all",label:"Ï†ÑÏ≤¥"}].map(i=>n.jsx("button",{onClick:()=>P(i.key),className:`px-3 py-1 text-xs rounded-md transition-colors ${b===i.key?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:i.label},i.key))}),n.jsxs("select",{value:j,onChange:i=>k(i.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1.5 bg-white dark:bg-gray-700",children:[n.jsx("option",{value:"all",children:"Î™®Îì† Í±∞ÎûòÏ≤ò"}),o.map(i=>n.jsx("option",{value:i.partnerId,children:i.name},i.partnerId))]}),n.jsxs("select",{value:A,onChange:i=>E(i.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1.5 bg-white dark:bg-gray-700",children:[n.jsx("option",{value:"all",children:"Î™®Îì† Ïú†ÏûÖÍ≤ΩÎ°ú"}),u.map(i=>n.jsx("option",{value:i,children:i},i))]}),n.jsxs("span",{className:"text-xs text-gray-400 ml-auto",children:["Ï¥ù ",f.length,"Í±¥ Ï°∞ÌöåÎê®"]})]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(J,{title:"Ï¥ù ÏºÄÏù¥Ïä§",value:N.total,subValue:"ÌïÑÌÑ∞ Í∏∞Í∞Ñ ÎÇ¥",icon:Je,color:"text-blue-600"}),n.jsx(J,{title:"Í≥ÑÏïΩ Í±¥Ïàò",value:N.contracted,subValue:`Ï†ÑÌôòÏú® ${N.contractRate}%`,icon:Dt,color:"text-green-600"}),n.jsx(J,{title:"Ï¥ù Í≥ÑÏïΩÍ∏àÏï°",value:`${N.totalContractFee.toLocaleString()}ÎßåÏõê`,subValue:`ÌèâÍ∑† ${N.avgContractFee.toLocaleString()}ÎßåÏõê`,icon:Ot,color:"text-purple-600"}),n.jsx(J,{title:"ÏûÖÍ∏à ÏôÑÎ£å",value:N.deposited,subValue:`ÏûÖÍ∏àÎ•† ${N.depositRate}%`,icon:Be,color:"text-orange-600"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(L,{title:"üìà ÏõîÎ≥Ñ Ïã†Í∑ú Ï†ëÏàò & Í≥ÑÏïΩ Ï∂îÏù¥",children:n.jsx("div",{className:"h-[280px]",children:n.jsx($,{width:"100%",height:"100%",children:n.jsxs(Pa,{data:_,children:[n.jsx(q,{strokeDasharray:"3 3",stroke:e?"#374151":"#E5E7EB"}),n.jsx(X,{dataKey:"name",stroke:e?"#9CA3AF":"#6B7280",tick:{fontSize:11}}),n.jsx(U,{yAxisId:"left",stroke:e?"#9CA3AF":"#6B7280",tick:{fontSize:11}}),n.jsx(U,{yAxisId:"right",orientation:"right",stroke:e?"#9CA3AF":"#6B7280",tick:{fontSize:11}}),n.jsx(R,{contentStyle:{backgroundColor:e?"#1F2937":"#FFF",borderColor:e?"#374151":"#E5E7EB"}}),n.jsx(Z,{wrapperStyle:{fontSize:"12px"}}),n.jsx(M,{yAxisId:"left",dataKey:"Ïã†Í∑ú",fill:"#3B82F6",radius:[4,4,0,0]}),n.jsx(M,{yAxisId:"left",dataKey:"Í≥ÑÏïΩ",fill:"#10B981",radius:[4,4,0,0]}),n.jsx(We,{yAxisId:"right",type:"monotone",dataKey:"Í∏àÏï°",stroke:"#8B5CF6",strokeWidth:2,dot:{r:4}})]})})})}),n.jsx(L,{title:"üéØ Í≥ÑÏïΩ Ï†ÑÌôò ÌçºÎÑê",children:n.jsx("div",{className:"h-[280px] flex items-center justify-center",children:n.jsx("div",{className:"w-full space-y-2",children:I.map((i,s)=>{const d=I[0].value>0?i.value/I[0].value*100:0,h=s>0&&I[s-1].value>0?(i.value/I[s-1].value*100).toFixed(0):"100";return n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-20 text-xs text-right text-gray-500",children:i.name}),n.jsxs("div",{className:"flex-1 h-8 bg-gray-100 dark:bg-gray-700 rounded relative overflow-hidden",children:[n.jsx("div",{className:"h-full rounded transition-all duration-500",style:{width:`${d}%`,backgroundColor:i.fill}}),n.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-white mix-blend-difference",children:[i.value,"Í±¥ (",h,"%)"]})]})]},i.name)})})})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(L,{title:"üìç Ïú†ÏûÖÍ≤ΩÎ°úÎ≥Ñ Î∂ÑÌè¨",children:n.jsx("div",{className:"h-[280px]",children:n.jsx($,{width:"100%",height:"100%",children:n.jsxs(ae,{children:[n.jsx(re,{data:K,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,dataKey:"Í±¥Ïàò",label:({name:i,percent:s})=>s>.05?`${i} ${(s*100).toFixed(0)}%`:"",labelLine:!1,children:K.map((i,s)=>n.jsx(Y,{fill:W[s%W.length]},s))}),n.jsx(R,{})]})})})}),n.jsx(L,{title:"üìä Ïú†ÏûÖÍ≤ΩÎ°úÎ≥Ñ Í≥ÑÏïΩ Ï†ÑÌôòÏú®",children:n.jsx("div",{className:"h-[280px]",children:n.jsx($,{width:"100%",height:"100%",children:n.jsxs(te,{data:K,layout:"vertical",children:[n.jsx(q,{strokeDasharray:"3 3",stroke:e?"#374151":"#E5E7EB"}),n.jsx(X,{type:"number",domain:[0,100],tick:{fontSize:11},stroke:e?"#9CA3AF":"#6B7280"}),n.jsx(U,{dataKey:"name",type:"category",width:80,tick:{fontSize:10},stroke:e?"#9CA3AF":"#6B7280"}),n.jsx(R,{formatter:i=>`${i}%`}),n.jsx(M,{dataKey:"Ï†ÑÌôòÏú®",fill:"#10B981",radius:[0,4,4,0],children:n.jsx(At,{dataKey:"Ï†ÑÌôòÏú®",position:"right",formatter:i=>`${i}%`,style:{fontSize:10}})})]})})})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(L,{title:"üè¢ Í±∞ÎûòÏ≤òÎ≥Ñ ÏÑ±Í≥º",children:n.jsx("div",{className:"h-[280px]",children:n.jsx($,{width:"100%",height:"100%",children:n.jsxs(te,{data:T,layout:"vertical",children:[n.jsx(q,{strokeDasharray:"3 3",stroke:e?"#374151":"#E5E7EB"}),n.jsx(X,{type:"number",tick:{fontSize:11},stroke:e?"#9CA3AF":"#6B7280"}),n.jsx(U,{dataKey:"name",type:"category",width:80,tick:{fontSize:10},stroke:e?"#9CA3AF":"#6B7280"}),n.jsx(R,{}),n.jsx(Z,{wrapperStyle:{fontSize:"11px"}}),n.jsx(M,{dataKey:"Í±¥Ïàò",fill:"#3B82F6",radius:[0,4,4,0]}),n.jsx(M,{dataKey:"Í≥ÑÏïΩ",fill:"#10B981",radius:[0,4,4,0]})]})})})}),n.jsx(L,{title:"üìã ÌòÑÏû¨ ÏÉÅÌÉú Î∂ÑÌè¨",children:n.jsx("div",{className:"h-[280px]",children:n.jsx($,{width:"100%",height:"100%",children:n.jsxs(te,{data:z,layout:"vertical",children:[n.jsx(q,{strokeDasharray:"3 3",stroke:e?"#374151":"#E5E7EB"}),n.jsx(X,{type:"number",tick:{fontSize:11},stroke:e?"#9CA3AF":"#6B7280"}),n.jsx(U,{dataKey:"name",type:"category",width:80,tick:{fontSize:10},stroke:e?"#9CA3AF":"#6B7280"}),n.jsx(R,{}),n.jsx(M,{dataKey:"value",fill:"#8B5CF6",radius:[0,4,4,0],children:z.map((i,s)=>n.jsx(Y,{fill:W[s%W.length]},s))})]})})})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(L,{title:"üîÑ 2Ï∞® ÏÉÅÌÉú Î∂ÑÌè¨ (ÏÇ¨Î¨¥Ïû• Ï†ëÏàò ÏºÄÏù¥Ïä§)",children:n.jsx("div",{className:"h-[280px]",children:S.length>0?n.jsx($,{width:"100%",height:"100%",children:n.jsxs(ae,{children:[n.jsx(re,{data:S,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,dataKey:"value",label:({name:i,percent:s})=>s>.05?`${i}`:"",children:S.map((i,s)=>n.jsx(Y,{fill:W[s%W.length]},s))}),n.jsx(R,{}),n.jsx(Z,{layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{fontSize:"11px"}})]})}):n.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:"ÏÇ¨Î¨¥Ïû• Ï†ëÏàò ÏºÄÏù¥Ïä§Í∞Ä ÏóÜÏäµÎãàÎã§"})})}),n.jsx(L,{title:"üìû Î¶¨ÎßàÏù∏Îçî Í≤∞Í≥º Î∂ÑÏÑù",children:n.jsx("div",{className:"h-[280px]",children:F.length>0?n.jsx($,{width:"100%",height:"100%",children:n.jsxs(ae,{children:[n.jsx(re,{data:F,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,dataKey:"value",label:({name:i,percent:s})=>s>.05?`${i} ${(s*100).toFixed(0)}%`:"",children:F.map((i,s)=>n.jsx(Y,{fill:i.fill},s))}),n.jsx(R,{}),n.jsx(Z,{layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{fontSize:"11px"}})]})}):n.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:"Î¶¨ÎßàÏù∏Îçî Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§"})})})]}),n.jsx(L,{title:"üèÜ Í±∞ÎûòÏ≤òÎ≥Ñ ÎàÑÏ†Å ÏàòÏûÑÎ£å Îû≠ÌÇπ",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[n.jsx("th",{className:"text-left py-2 px-3 text-gray-500",children:"ÏàúÏúÑ"}),n.jsx("th",{className:"text-left py-2 px-3 text-gray-500",children:"Í±∞ÎûòÏ≤ò"}),n.jsx("th",{className:"text-right py-2 px-3 text-gray-500",children:"ÏºÄÏù¥Ïä§"}),n.jsx("th",{className:"text-right py-2 px-3 text-gray-500",children:"Í≥ÑÏïΩ"}),n.jsx("th",{className:"text-right py-2 px-3 text-gray-500",children:"Ï†ÑÌôòÏú®"}),n.jsx("th",{className:"text-right py-2 px-3 text-gray-500",children:"ÎàÑÏ†Å ÏàòÏûÑÎ£å"})]})}),n.jsx("tbody",{children:T.slice(0,10).map((i,s)=>n.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[n.jsx("td",{className:"py-2 px-3 font-bold text-gray-400",children:s+1}),n.jsx("td",{className:"py-2 px-3 font-medium",children:i.name}),n.jsx("td",{className:"py-2 px-3 text-right",children:i.Í±¥Ïàò}),n.jsx("td",{className:"py-2 px-3 text-right text-green-600",children:i.Í≥ÑÏïΩ}),n.jsxs("td",{className:"py-2 px-3 text-right",children:[i.Ï†ÑÌôòÏú®,"%"]}),n.jsxs("td",{className:"py-2 px-3 text-right font-bold text-purple-600",children:[i.Í∏àÏï°.toLocaleString(),"ÎßåÏõê"]})]},s))})]})})})]})}export{Oa as default};
